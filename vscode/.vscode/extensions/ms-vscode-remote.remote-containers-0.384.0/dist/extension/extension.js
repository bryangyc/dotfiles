/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var tQ=Object.create;var Vy=Object.defineProperty;var nQ=Object.getOwnPropertyDescriptor;var rQ=Object.getOwnPropertyNames;var oQ=Object.getPrototypeOf,iQ=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(e&&(t=e(e=0)),t);var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gg=(e,t)=>{for(var n in t)Vy(e,n,{get:t[n],enumerable:!0})},VU=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rQ(t))!iQ.call(e,o)&&o!==n&&Vy(e,o,{get:()=>t[o],enumerable:!(r=nQ(t,o))||r.enumerable});return e};var G=(e,t,n)=>(n=e!=null?tQ(oQ(e)):{},VU(t||!e||!e.__esModule?Vy(n,"default",{value:e,enumerable:!0}):n,e)),Kg=e=>VU(Vy({},"__esModule",{value:!0}),e);var Nr=O((qCe,QU)=>{"use strict";var sQ=Object.create,Gy=Object.defineProperty,aQ=Object.getOwnPropertyDescriptor,KU=Object.getOwnPropertyNames,cQ=Object.getPrototypeOf,lQ=Object.prototype.hasOwnProperty,uQ=(e,t)=>function(){return t||(0,e[KU(e)[0]])((t={exports:{}}).exports,t),t.exports},dQ=(e,t)=>{for(var n in t)Gy(e,n,{get:t[n],enumerable:!0})},JU=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KU(t))!lQ.call(e,o)&&o!==n&&Gy(e,o,{get:()=>t[o],enumerable:!(r=aQ(t,o))||r.enumerable});return e},fQ=(e,t,n)=>(n=e!=null?sQ(cQ(e)):{},JU(t||!e||!e.__esModule?Gy(n,"default",{value:e,enumerable:!0}):n,e)),pQ=e=>JU(Gy({},"__esModule",{value:!0}),e),mQ=uQ({"node_modules/request-light/lib/node/main.js"(e){(()=>{var t={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,l,{signal:u}={}){return new Promise((d,p)=>{function f(){u==null||u.removeEventListener("abort",f),c.removeListener(l,m),c.removeListener("error",h)}function m(...v){f(),d(v)}function h(v){f(),p(v)}u==null||u.addEventListener("abort",f),c.on(l,m),c.on("error",h)})}},54:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let u=c(361),d=l(c(374)),p=l(c(304)),f=d.default("agent-base");function m(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(g=>g.indexOf("(https.js:")!==-1||g.indexOf("node:https:")!==-1)}function h(v,g){return new h.Agent(v,g)}(function(v){class g extends u.EventEmitter{constructor(x,w){super();let E=w;typeof x=="function"?this.callback=x:x&&(E=x),this.timeout=null,E&&typeof E.timeout=="number"&&(this.timeout=E.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(x){this.explicitDefaultPort=x}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(x){this.explicitProtocol=x}callback(x,w,E){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(x,w){let E=Object.assign({},w);typeof E.secureEndpoint!="boolean"&&(E.secureEndpoint=m()),E.host==null&&(E.host="localhost"),E.port==null&&(E.port=E.secureEndpoint?443:80),E.protocol==null&&(E.protocol=E.secureEndpoint?"https:":"http:"),E.host&&E.path&&delete E.path,delete E.agent,delete E.hostname,delete E._defaultAgent,delete E.defaultPort,delete E.createConnection,x._last=!0,x.shouldKeepAlive=!1;let I=!1,D=null,k=E.timeout||this.timeout,N=b=>{x._hadError||(x.emit("error",b),x._hadError=!0)},R=()=>{D=null,I=!0;let b=new Error(`A "socket" was not created for HTTP request before ${k}ms`);b.code="ETIMEOUT",N(b)},C=b=>{I||(D!==null&&(clearTimeout(D),D=null),N(b))},_=b=>{if(I)return;if(D!=null&&(clearTimeout(D),D=null),S=b,!!S&&typeof S.addRequest=="function")return f("Callback returned another Agent instance %o",b.constructor.name),void b.addRequest(x,E);var S;if(b)return b.once("free",()=>{this.freeSocket(b,E)}),void x.onSocket(b);let A=new Error(`no Duplex stream was returned to agent-base for \`${x.method} ${x.path}\``);N(A)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(f("Converting legacy callback function to promise"),this.promisifiedCallback=p.default(this.callback)):this.promisifiedCallback=this.callback),typeof k=="number"&&k>0&&(D=setTimeout(R,k)),"port"in E&&typeof E.port!="number"&&(E.port=Number(E.port));try{f("Resolving socket for %o request: %o",E.protocol,`${x.method} ${x.path}`),Promise.resolve(this.promisifiedCallback(x,E)).then(_,C)}catch(b){Promise.reject(b).catch(C)}}else N(new Error("`callback` is not defined"))}freeSocket(x,w){f("Freeing socket %o %o",x.constructor.name,w),x.destroy()}destroy(){f("Destroying agent %o",this.constructor.name)}}v.Agent=g,v.prototype=v.Agent.prototype})(h||(h={})),s.exports=h},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return function(l,u){return new Promise((d,p)=>{c.call(this,l,u,(f,m)=>{f?p(f):d(m)})})}}},370:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(x,w,E,I){return new(E||(E=Promise))(function(D,k){function N(_){try{C(I.next(_))}catch(b){k(b)}}function R(_){try{C(I.throw(_))}catch(b){k(b)}}function C(_){var b;_.done?D(_.value):(b=_.value,b instanceof E?b:new E(function(S){S(b)})).then(N,R)}C((I=I.apply(x,w||[])).next())})},u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),p=u(c(404)),f=u(c(310)),m=u(c(374)),h=u(c(46)),v=c(54),g=(0,m.default)("http-proxy-agent");class y extends v.Agent{constructor(w){let E;if(E=typeof w=="string"?f.default.parse(w):w,!E)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");g("Creating new HttpProxyAgent instance: %o",E),super(E);let I=Object.assign({},E);var D;this.secureProxy=E.secureProxy||typeof(D=I.protocol)=="string"&&/^https:?$/i.test(D),I.host=I.hostname||I.host,typeof I.port=="string"&&(I.port=parseInt(I.port,10)),!I.port&&I.host&&(I.port=this.secureProxy?443:80),I.host&&I.path&&(delete I.path,delete I.pathname),this.proxy=I}callback(w,E){return l(this,void 0,void 0,function*(){let{proxy:I,secureProxy:D}=this,k=f.default.parse(w.path),N;if(k.protocol||(k.protocol="http:"),k.hostname||(k.hostname=E.hostname||E.host||null),k.port==null&&(E.port,1)&&(k.port=String(E.port)),k.port==="80"&&(k.port=""),w.path=f.default.format(k),I.auth&&w.setHeader("Proxy-Authorization",`Basic ${Buffer.from(I.auth).toString("base64")}`),D?(g("Creating `tls.Socket`: %o",I),N=p.default.connect(I)):(g("Creating `net.Socket`: %o",I),N=d.default.connect(I)),w._header){let R,C;g("Regenerating stored HTTP header string for request"),w._header=null,w._implicitHeader(),w.output&&w.output.length>0?(g("Patching connection write() output buffer with updated header"),R=w.output[0],C=R.indexOf(`\r
\r
`)+4,w.output[0]=w._header+R.substring(C),g("Output buffer: %o",w.output)):w.outputData&&w.outputData.length>0&&(g("Patching connection write() output buffer with updated header"),R=w.outputData[0].data,C=R.indexOf(`\r
\r
`)+4,w.outputData[0].data=w._header+R.substring(C),g("Output buffer: %o",w.outputData[0].data))}return yield(0,h.default)(N,"connect"),N})}}a.default=y},201:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(370));function u(d){return new l.default(d)}(function(d){d.HttpProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},146:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(E,I,D,k){return new(D||(D=Promise))(function(N,R){function C(S){try{b(k.next(S))}catch(A){R(A)}}function _(S){try{b(k.throw(S))}catch(A){R(A)}}function b(S){var A;S.done?N(S.value):(A=S.value,A instanceof D?A:new D(function(L){L(A)})).then(C,_)}b((k=k.apply(E,I||[])).next())})},u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),p=u(c(404)),f=u(c(310)),m=u(c(491)),h=u(c(374)),v=c(54),g=u(c(829)),y=h.default("https-proxy-agent:agent");class x extends v.Agent{constructor(I){let D;if(D=typeof I=="string"?f.default.parse(I):I,!D)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");y("creating new HttpsProxyAgent instance: %o",D),super(D);let k=Object.assign({},D);var N;this.secureProxy=D.secureProxy||typeof(N=k.protocol)=="string"&&/^https:?$/i.test(N),k.host=k.hostname||k.host,typeof k.port=="string"&&(k.port=parseInt(k.port,10)),!k.port&&k.host&&(k.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in k)&&(k.ALPNProtocols=["http 1.1"]),k.host&&k.path&&(delete k.path,delete k.pathname),this.proxy=k}callback(I,D){return l(this,void 0,void 0,function*(){let{proxy:k,secureProxy:N}=this,R;N?(y("Creating `tls.Socket`: %o",k),R=p.default.connect(k)):(y("Creating `net.Socket`: %o",k),R=d.default.connect(k));let C=Object.assign({},k.headers),_=`CONNECT ${D.host}:${D.port} HTTP/1.1\r
`;k.auth&&(C["Proxy-Authorization"]=`Basic ${Buffer.from(k.auth).toString("base64")}`);let{host:b,port:S,secureEndpoint:A}=D;(function(Y,J){return!!(!J&&Y===80||J&&Y===443)})(S,A)||(b+=`:${S}`),C.Host=b,C.Connection="close";for(let Y of Object.keys(C))_+=`${Y}: ${C[Y]}\r
`;let L=g.default(R);R.write(`${_}\r
`);let{statusCode:T,buffered:$}=yield L;if(T===200){if(I.once("socket",w),D.secureEndpoint){y("Upgrading socket connection to TLS");let Y=D.servername||D.host;return p.default.connect(Object.assign(Object.assign({},function(J,...ue){let Ne={},Pe;for(Pe in J)ue.includes(Pe)||(Ne[Pe]=J[Pe]);return Ne}(D,"host","hostname","path","port")),{socket:R,servername:Y}))}return R}R.destroy();let H=new d.default.Socket({writable:!1});return H.readable=!0,I.once("socket",Y=>{y("replaying proxy buffer for failed request"),m.default(Y.listenerCount("data")>0),Y.push($),Y.push(null)}),H})}}function w(E){E.resume()}a.default=x},18:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(146));function u(d){return new l.default(d)}(function(d){d.HttpsProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},829:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0});let u=l(c(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(d){return new Promise((p,f)=>{let m=0,h=[];function v(){let x=d.read();x?function(w){h.push(w),m+=w.length;let E=Buffer.concat(h,m);if(E.indexOf(`\r
\r
`)===-1)return u("have not received end of HTTP headers yet..."),void v();let I=E.toString("ascii",0,E.indexOf(`\r
`)),D=+I.split(" ")[1];u("got proxy server response: %o",I),p({statusCode:D,buffered:E})}(x):d.once("readable",v)}function g(x){u("onclose had error %o",x)}function y(){u("onend")}d.on("error",function x(w){d.removeListener("end",y),d.removeListener("error",x),d.removeListener("close",g),d.removeListener("readable",v),u("onerror %o",w),f(w)}),d.on("close",g),d.on("end",y),v()})}},539:function(s,a,c){"use strict";var l,u=this&&this.__extends||(l=function(N,R){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(C[b]=_[b])},l(N,R)},function(N,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function C(){this.constructor=N}l(N,R),N.prototype=R===null?Object.create(R):(C.prototype=R.prototype,new C)}),d=this&&this.__assign||function(){return d=Object.assign||function(N){for(var R,C=1,_=arguments.length;C<_;C++)for(var b in R=arguments[C])Object.prototype.hasOwnProperty.call(R,b)&&(N[b]=R[b]);return N},d.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var p=c(685),f=c(687),m=c(310),h=c(472),v=c(796),g=c(201),y=c(18);if(process.env.VSCODE_NLS_CONFIG){var x=process.env.VSCODE_NLS_CONFIG;h.config(JSON.parse(x))}var w=h.loadMessageBundle(),E=void 0,I=!0;function D(N){var R;return new Promise(function(C,_){var b=(0,m.parse)(N.url),S={hostname:b.hostname,agent:!!N.agent&&N.agent,port:b.port?parseInt(b.port):b.protocol==="https:"?443:80,path:b.path,method:N.type||"GET",headers:N.headers,rejectUnauthorized:typeof N.strictSSL!="boolean"||N.strictSSL};N.user&&N.password&&(S.auth=N.user+":"+N.password);var A=function(L){if(L.statusCode>=300&&L.statusCode<400&&N.followRedirects&&N.followRedirects>0&&L.headers.location){var T=L.headers.location;T.startsWith("/")&&(T=(0,m.format)({protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:T})),C(D(function($){for(var H=[],Y=1;Y<arguments.length;Y++)H[Y-1]=arguments[Y];return H.forEach(function(J){return Object.keys(J).forEach(function(ue){return $[ue]=J[ue]})}),$}({},N,{url:T,followRedirects:N.followRedirects-1})))}else C({req:R,res:L})};(R=b.protocol==="https:"?f.request(S,A):p.request(S,A)).on("error",_),N.timeout&&R.setTimeout(N.timeout),N.data&&R.write(N.data),R.end(),N.token&&(N.token.isCancellationRequested&&R.destroy(new k),N.token.onCancellationRequested(function(){R.destroy(new k)}))})}a.configure=function(N,R){E=N,I=R},a.xhr=function(N){return typeof(N=d({},N)).strictSSL!="boolean"&&(N.strictSSL=I),N.agent||(N.agent=function(R,C){C===void 0&&(C={});var _=(0,m.parse)(R),b=C.proxyUrl||function(L){return L.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:L.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(_);if(!b)return null;var S=(0,m.parse)(b);if(!/^https?:$/.test(S.protocol))return null;var A={host:S.hostname,port:Number(S.port),auth:S.auth,rejectUnauthorized:typeof C.strictSSL!="boolean"||C.strictSSL,protocol:S.protocol};return _.protocol==="http:"?g(A):y(A)}(N.url,{proxyUrl:E,strictSSL:I})),typeof N.followRedirects!="number"&&(N.followRedirects=5),D(N).then(function(R){return new Promise(function(C,_){var b,S,A=R.res,L=A,T=!1,$=A.headers&&A.headers["content-encoding"];if($&&(b=N.type,S=R.res.statusCode,!(b==="HEAD"||S>=100&&S<200||S===204||S===304))){var H={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if($==="gzip"){var Y=v.createGunzip(H);A.pipe(Y),L=Y}else if($==="deflate"){var J=v.createInflate(H);A.pipe(J),L=J}}var ue=[];L.on("data",function(Ne){return ue.push(Ne)}),L.on("end",function(){if(!T){if(T=!0,N.followRedirects>0&&(A.statusCode>=300&&A.statusCode<=303||A.statusCode===307)){var Ne=A.headers.location;if(Ne.startsWith("/")){var Pe=(0,m.parse)(N.url);Ne=(0,m.format)({protocol:Pe.protocol,hostname:Pe.hostname,port:Pe.port,pathname:Ne})}if(Ne){var Ze={type:N.type,url:Ne,user:N.user,password:N.password,headers:N.headers,timeout:N.timeout,followRedirects:N.followRedirects-1,data:N.data,token:N.token};return void(0,a.xhr)(Ze).then(C,_)}}var Je=Buffer.concat(ue),Et={responseText:Je.toString(),body:Je,status:A.statusCode,headers:A.headers||{}};A.statusCode>=200&&A.statusCode<300||A.statusCode===1223?C(Et):_(Et)}}),L.on("error",function(Ne){var Pe;Pe=k.is(Ne)?Ne:{responseText:w("error","Unable to access {0}. Error: {1}",N.url,Ne.message),body:Buffer.concat(ue),status:500,headers:{}},T=!0,_(Pe)}),N.token&&(N.token.isCancellationRequested&&L.destroy(new k),N.token.onCancellationRequested(function(){L.destroy(new k)}))})},function(R){var C;return C=k.is(R)?R:{responseText:N.agent?w("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",N.url,R.message):w("error.cannot.connect","Unable to connect to {0}. Error: {1}",N.url,R.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(C)})},a.getErrorStatusDescription=function(N){if(!(N<400))switch(N){case 400:return w("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return w("status.401","Unauthorized. The server is refusing to respond.");case 403:return w("status.403","Forbidden. The server is refusing to respond.");case 404:return w("status.404","Not Found. The requested location could not be found.");case 405:return w("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return w("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return w("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return w("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return w("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return w("status.410","Gone. The requested page is no longer available.");case 411:return w("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return w("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return w("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return w("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return w("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return w("status.500","Internal Server Error.");case 501:return w("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return w("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return w("status.416","HTTP status code {0}",N)}};var k=function(N){function R(){var C=N.call(this,"The user aborted a request")||this;return C.name="AbortError",Object.setPrototypeOf(C,R.prototype),C}return u(R,N),R.is=function(C){return C instanceof R},R}(Error)},800:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var l,u,d,p=c(926);function f(h){return h!==void 0}function m(h,v){return a.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?h:h.replace(/\{(\d+)\}/g,function(g,y){var x=y[0],w=v[x],E=g;return typeof w=="string"?E=w:typeof w!="number"&&typeof w!="boolean"&&w!=null||(E=String(w)),E})}(d=a.MessageFormat||(a.MessageFormat={})).file="file",d.bundle="bundle",d.both="both",(u=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",u.languagePack="languagePack",function(h){h.is=function(v){var g=v;return g&&f(g.key)&&f(g.comment)}}(l||(l={})),a.isDefined=f,a.isPseudo=!1,a.setPseudo=function(h){a.isPseudo=h},a.format=m,a.localize=function(h,v){for(var g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];return m(v,g)},a.loadMessageBundle=function(h){return(0,p.default)().loadMessageBundle(h)},a.config=function(h){return(0,p.default)().config(h)}},926:(s,a)=>{"use strict";var c;function l(){if(c===void 0)throw new Error("No runtime abstraction layer installed");return c}Object.defineProperty(a,"__esModule",{value:!0}),function(u){u.install=function(d){if(d===void 0)throw new Error("No runtime abstraction layer provided");c=d}}(l||(l={})),a.default=l},472:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var l=c(17),u=c(147),d=c(926),p=c(800),f=c(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return f.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return f.BundleFormat}});var m,h,v=Object.prototype.toString;function g(R){return v.call(R)==="[object Number]"}function y(R){return v.call(R)==="[object String]"}function x(R){return JSON.parse(u.readFileSync(R,"utf8"))}function w(R){return function(C,_){for(var b=[],S=2;S<arguments.length;S++)b[S-2]=arguments[S];return g(C)?C>=R.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,p.format)(R[C],b):y(_)?(console.warn("Message ".concat(_," didn't get externalized correctly.")),(0,p.format)(_,b)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function E(R,C){return m[R]=C,C}function I(R){try{return function(C){var _=x(l.join(C,"nls.metadata.json")),b=Object.create(null);for(var S in _){var A=_[S];b[S]=A.messages}return b}(R)}catch(C){return void console.log("Generating default bundle from meta data failed.",C)}}function D(R,C){var _;if(h.languagePackSupport===!0&&h.cacheRoot!==void 0&&h.languagePackId!==void 0&&h.translationsConfigFile!==void 0&&h.translationsConfig!==void 0)try{_=function(S,A){var L,T,$,H=l.join(h.cacheRoot,"".concat(S.id,"-").concat(S.hash,".json")),Y=!1,J=!1;try{return L=JSON.parse(u.readFileSync(H,{encoding:"utf8",flag:"r"})),T=H,$=new Date,u.utimes(T,$,$,function(){}),L}catch(ue){if(ue.code==="ENOENT")J=!0;else{if(!(ue instanceof SyntaxError))throw ue;console.log("Syntax error parsing message bundle: ".concat(ue.message,".")),u.unlink(H,function(Ne){Ne&&console.error("Deleting corrupted bundle ".concat(H," failed."))}),Y=!0}}if(L=function(ue,Ne){var Pe=h.translationsConfig[ue.id];if(Pe){var Ze=x(Pe).contents,Je=x(l.join(Ne,"nls.metadata.json")),Et=Object.create(null);for(var Xe in Je){var at=Je[Xe],K=Ze["".concat(ue.outDir,"/").concat(Xe)];if(K){for(var ae=[],he=0;he<at.keys.length;he++){var Ee=at.keys[he],Ce=K[y(Ee)?Ee:Ee.key];Ce===void 0&&(Ce=at.messages[he]),ae.push(Ce)}Et[Xe]=ae}else Et[Xe]=at.messages}return Et}}(S,A),!L||Y)return L;if(J)try{u.writeFileSync(H,JSON.stringify(L),{encoding:"utf8",flag:"wx"})}catch(ue){if(ue.code==="EEXIST")return L;throw ue}return L}(R,C)}catch(S){console.log("Load or create bundle failed ",S)}if(!_){if(h.languagePackSupport)return I(C);var b=function(S){for(var A=h.language;A;){var L=l.join(S,"nls.bundle.".concat(A,".json"));if(u.existsSync(L))return L;var T=A.lastIndexOf("-");A=T>0?A.substring(0,T):void 0}if(A===void 0&&(L=l.join(S,"nls.bundle.json"),u.existsSync(L)))return L}(C);if(b)try{return x(b)}catch(S){console.log("Loading in the box message bundle failed.",S)}_=I(C)}return _}function k(R){if(!R)return p.localize;var C=l.extname(R);if(C&&(R=R.substr(0,R.length-C.length)),h.messageFormat===p.MessageFormat.both||h.messageFormat===p.MessageFormat.bundle){var _=function(Y){for(var J,ue=l.dirname(Y);J=l.join(ue,"nls.metadata.header.json"),!u.existsSync(J);){var Ne=l.dirname(ue);if(Ne===ue){J=void 0;break}ue=Ne}return J}(R);if(_){var b=l.dirname(_),S=m[b];if(S===void 0)try{var A=JSON.parse(u.readFileSync(_,"utf8"));try{var L=D(A,b);S=E(b,L?{header:A,nlsBundle:L}:null)}catch(Y){console.error("Failed to load nls bundle",Y),S=E(b,null)}}catch(Y){console.error("Failed to read header file",Y),S=E(b,null)}if(S){var T=R.substr(b.length+1).replace(/\\/g,"/"),$=S.nlsBundle[T];return $===void 0?(console.error("Messages for file ".concat(R," not found. See console for details.")),function(){return"Messages not found."}):w($)}}}if(h.messageFormat===p.MessageFormat.both||h.messageFormat===p.MessageFormat.file)try{var H=x(function(Y){var J;if(!(h.cacheLanguageResolution&&J)){if(p.isPseudo||!h.language)J=".nls.json";else for(var ue=h.language;ue;){var Ne=".nls."+ue+".json";if(u.existsSync(Y+Ne)){J=Ne;break}var Pe=ue.lastIndexOf("-");Pe>0?ue=ue.substring(0,Pe):(J=".nls.json",ue=null)}h.cacheLanguageResolution}return Y+J}(R));return Array.isArray(H)?w(H):(0,p.isDefined)(H.messages)&&(0,p.isDefined)(H.keys)?w(H.messages):(console.error("String bundle '".concat(R,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(Y){Y.code!=="ENOENT"&&console.error("Failed to load single file bundle",Y)}return console.error("Failed to load message bundle for file ".concat(R)),function(){return"Failed to load message bundle. See console for details."}}function N(R){return R&&(y(R.locale)&&(h.locale=R.locale.toLowerCase(),h.language=h.locale,m=Object.create(null)),R.messageFormat!==void 0&&(h.messageFormat=R.messageFormat),R.bundleFormat===p.BundleFormat.standalone&&h.languagePackSupport===!0&&(h.languagePackSupport=!1)),(0,p.setPseudo)(h.locale==="pseudo"),k}(function(){if(h={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:p.MessageFormat.bundle},y(process.env.VSCODE_NLS_CONFIG))try{var R=JSON.parse(process.env.VSCODE_NLS_CONFIG),C=void 0;if(R.availableLanguages){var _=R.availableLanguages["*"];y(_)&&(C=_)}if(y(R.locale)&&(h.locale=R.locale.toLowerCase()),C===void 0?h.language=h.locale:C!=="en"&&(h.language=C),function(S){return S===!0||S===!1}(R._languagePackSupport)&&(h.languagePackSupport=R._languagePackSupport),y(R._cacheRoot)&&(h.cacheRoot=R._cacheRoot),y(R._languagePackId)&&(h.languagePackId=R._languagePackId),y(R._translationsConfigFile)){h.translationsConfigFile=R._translationsConfigFile;try{h.translationsConfig=x(h.translationsConfigFile)}catch{if(R._corruptedFile){var b=l.dirname(R._corruptedFile);u.exists(b,function(A){A&&u.writeFile(R._corruptedFile,"corrupted","utf8",function(L){console.error(L)})})}}}}catch{}(0,p.setPseudo)(h.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=k,a.config=N,d.default.install(Object.freeze({loadMessageBundle:k,config:N}))},374:(s,a)=>{function c(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){return c}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},n={},r=function s(a){var c=n[a];if(c!==void 0)return c.exports;var l=n[a]={exports:{}};return t[a].call(l.exports,l,l.exports,s),l.exports}(539),o=e;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()}}),XU={};dQ(XU,{config:()=>wQ,t:()=>ZU});QU.exports=pQ(XU);var hQ=require("fs"),gQ=require("fs/promises"),zU=fQ(mQ());async function vQ(e){if(e.protocol==="file:")return await(0,gQ.readFile)(e,"utf8");if(e.protocol==="http:"||e.protocol==="https:")try{let t=await(0,zU.xhr)({url:e.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(t.body)}catch(t){throw new Error(t.responseText??(0,zU.getErrorStatusDescription)(t.status)??t.toString())}throw new Error("Unsupported protocol")}function xQ(e){return(0,hQ.readFileSync)(e,"utf8")}var pd;function wQ(e){if("contents"in e){typeof e.contents=="string"?pd=JSON.parse(e.contents):pd=e.contents;return}if("fsPath"in e){let t=xQ(e.fsPath),n=JSON.parse(t);pd=GU(n)?n.contents.bundle:n;return}if(e.uri){let t=e.uri;return typeof e.uri=="string"&&(t=new URL(e.uri)),new Promise((n,r)=>{let o=vQ(t).then(i=>{try{let s=JSON.parse(i);pd=GU(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(i=>{r(i)});n(o)})}}function ZU(...e){let t=e[0],n,r,o;if(typeof t=="string")n=t,r=t,e.splice(0,1),o=!e||typeof e[0]!="object"?e:e[0];else if(t instanceof Array){let s=e.slice(1);if(t.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=t[0];for(let c=1;c<t.length;c++)a+=`{${c-1}}`+t[c];return ZU(a,...s)}else r=t.message,n=r,t.comment&&t.comment.length>0&&(n+=`/${Array.isArray(t.comment)?t.comment.join(""):t.comment}`),o=t.args??{};let i=pd==null?void 0:pd[n];return i?typeof i=="string"?zy(i,o):i.comment?zy(i.message,o):zy(r,o):zy(r,o)}var yQ=/{([^}]+)}/g;function zy(e,t){return e.replace(yQ,(n,r)=>t[r]??n)}function GU(e){var t;return typeof((t=e==null?void 0:e.contents)==null?void 0:t.bundle)=="object"&&typeof(e==null?void 0:e.version)=="string"}});var _M=O((dbe,bM)=>{var Sp=1e3,Dp=Sp*60,Ip=Dp*60,xd=Ip*24,UQ=xd*7,MQ=xd*365.25;bM.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return $Q(e);if(n==="number"&&isFinite(e))return t.long?HQ(e):jQ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $Q(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*MQ;case"weeks":case"week":case"w":return n*UQ;case"days":case"day":case"d":return n*xd;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ip;case"minutes":case"minute":case"mins":case"min":case"m":return n*Dp;case"seconds":case"second":case"secs":case"sec":case"s":return n*Sp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function jQ(e){var t=Math.abs(e);return t>=xd?Math.round(e/xd)+"d":t>=Ip?Math.round(e/Ip)+"h":t>=Dp?Math.round(e/Dp)+"m":t>=Sp?Math.round(e/Sp)+"s":e+"ms"}function HQ(e){var t=Math.abs(e);return t>=xd?oE(e,t,xd,"day"):t>=Ip?oE(e,t,Ip,"hour"):t>=Dp?oE(e,t,Dp,"minute"):t>=Sp?oE(e,t,Sp,"second"):e+" ms"}function oE(e,t,n,r){var o=t>=n*1.5;return Math.round(e/n)+" "+r+(o?"s":"")}});var ZI=O((fbe,SM)=>{function BQ(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=_M(),n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,p=null,f,m;function h(...v){if(!h.enabled)return;let g=h,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(I,D)=>{if(I==="%%")return"%";w++;let k=n.formatters[D];if(typeof k=="function"){let N=v[w];I=k.call(g,N),v.splice(w,1),w--}return I}),n.formatArgs.call(g,v),(g.log||n.log).apply(g,v)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==n.namespaces&&(f=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){let p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function o(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d,p=(typeof u=="string"?u:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}SM.exports=BQ});var DM=O((Go,iE)=>{Go.formatArgs=WQ;Go.save=YQ;Go.load=VQ;Go.useColors=qQ;Go.storage=zQ();Go.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Go.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function qQ(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function WQ(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+iE.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),e.splice(r,0,t)}Go.log=console.debug||console.log||(()=>{});function YQ(e){try{e?Go.storage.setItem("debug",e):Go.storage.removeItem("debug")}catch{}}function VQ(){let e;try{e=Go.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function zQ(){try{return localStorage}catch{}}iE.exports=ZI()(Go);var{formatters:GQ}=iE.exports;GQ.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var PM=O((pbe,IM)=>{"use strict";IM.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return r!==-1&&(o===-1?!0:r<o)}});var kM=O((mbe,TM)=>{"use strict";var KQ=require("os"),Zi=PM(),Lr=process.env,Pp;Zi("no-color")||Zi("no-colors")||Zi("color=false")?Pp=!1:(Zi("color")||Zi("colors")||Zi("color=true")||Zi("color=always"))&&(Pp=!0);"FORCE_COLOR"in Lr&&(Pp=Lr.FORCE_COLOR.length===0||parseInt(Lr.FORCE_COLOR,10)!==0);function JQ(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function XQ(e){if(Pp===!1)return 0;if(Zi("color=16m")||Zi("color=full")||Zi("color=truecolor"))return 3;if(Zi("color=256"))return 2;if(e&&!e.isTTY&&Pp!==!0)return 0;let t=Pp?1:0;if(process.platform==="win32"){let n=KQ.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Lr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Lr)||Lr.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Lr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Lr.TEAMCITY_VERSION)?1:0;if(Lr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Lr){let n=parseInt((Lr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Lr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Lr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Lr.TERM)||"COLORTERM"in Lr?1:(Lr.TERM==="dumb",t)}function QI(e){let t=XQ(e);return JQ(t)}TM.exports={supportsColor:QI,stdout:QI(process.stdout),stderr:QI(process.stderr)}});var NM=O((xr,aE)=>{var ZQ=require("tty"),sE=require("util");xr.init=iee;xr.log=nee;xr.formatArgs=eee;xr.save=ree;xr.load=oee;xr.useColors=QQ;xr.destroy=sE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");xr.colors=[6,2,3,4,5,1];try{let e=kM();e&&(e.stderr||e).level>=2&&(xr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}xr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function QQ(){return"colors"in xr.inspectOpts?!!xr.inspectOpts.colors:ZQ.isatty(process.stderr.fd)}function eee(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${o};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(o+"m+"+aE.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=tee()+t+" "+e[0]}function tee(){return xr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function nee(...e){return process.stderr.write(sE.format(...e)+`
`)}function ree(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function oee(){return process.env.DEBUG}function iee(e){e.inspectOpts={};let t=Object.keys(xr.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=xr.inspectOpts[t[n]]}aE.exports=ZI()(xr);var{formatters:RM}=aE.exports;RM.o=function(e){return this.inspectOpts.colors=this.useColors,sE.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};RM.O=function(e){return this.inspectOpts.colors=this.useColors,sE.inspect(e,this.inspectOpts)}});var cE=O((hbe,eP)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?eP.exports=DM():eP.exports=NM()});var AM=O((gbe,LM)=>{var rv;LM.exports=function(){if(!rv){try{rv=cE()("follow-redirects")}catch{}typeof rv!="function"&&(rv=function(){})}rv.apply(null,arguments)}});var cv=O((vbe,fP)=>{var sv=require("url"),ov=sv.URL,see=require("http"),aee=require("https"),iP=require("stream").Writable,sP=require("assert"),FM=AM(),aP=!1;try{sP(new ov)}catch(e){aP=e.code==="ERR_INVALID_URL"}var cee=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],cP=["abort","aborted","connect","error","socket","timeout"],lP=Object.create(null);cP.forEach(function(e){lP[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}});var nP=av("ERR_INVALID_URL","Invalid URL",TypeError),rP=av("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),lee=av("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",rP),uee=av("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),dee=av("ERR_STREAM_WRITE_AFTER_END","write after end"),fee=iP.prototype.destroy||UM;function yo(e,t){iP.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(r){try{n._processResponse(r)}catch(o){n.emit("error",o instanceof rP?o:new rP({cause:o}))}},this._performRequest()}yo.prototype=Object.create(iP.prototype);yo.prototype.abort=function(){dP(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};yo.prototype.destroy=function(e){return dP(this._currentRequest,e),fee.call(this,e),this};yo.prototype.write=function(e,t,n){if(this._ending)throw new dee;if(!wd(e)&&!hee(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(iv(t)&&(n=t,t=null),e.length===0){n&&n();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new uee),this.abort())};yo.prototype.end=function(e,t,n){if(iv(e)?(n=e,e=t=null):iv(t)&&(n=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,o=this._currentRequest;this.write(e,t,function(){r._ended=!0,o.end(null,null,n)}),this._ending=!0}};yo.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};yo.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};yo.prototype.setTimeout=function(e,t){var n=this;function r(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function o(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),i()},e),r(s)}function i(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",i),n.removeListener("error",i),n.removeListener("response",i),n.removeListener("close",i),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",r),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){yo.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(yo.prototype,e,{get:function(){return this._currentRequest[e]}})});yo.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};yo.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);r._redirectable=this;for(var o of cP)r.on(o,lP[o]);if(this._currentUrl=/^\//.test(this._options.path)?sv.format(this._options):this._options.path,this._isRedirect){var i=0,s=this,a=this._requestBodyBuffers;(function c(l){if(r===s._currentRequest)if(l)s.emit("error",l);else if(i<a.length){var u=a[i++];r.finished||r.write(u.data,u.encoding,c)}else s._ended&&r.end()})()}};yo.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(dP(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new lee;var r,o=this._options.beforeRedirect;o&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],tP(/^content-/i,this._options.headers));var s=tP(/^host$/i,this._options.headers),a=uP(this._currentUrl),c=s||a.host,l=/^\w+:/.test(n)?this._currentUrl:sv.format(Object.assign(a,{host:c})),u=pee(n,l);if(FM("redirecting to",u.href),this._isRedirect=!0,oP(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!mee(u.host,c))&&tP(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),iv(o)){var d={headers:e.headers,statusCode:t},p={url:l,method:i,headers:r};o(this._options,d,p),this._sanitizeOptions(this._options)}this._performRequest()};function OM(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(r){var o=r+":",i=n[o]=e[r],s=t[r]=Object.create(i);function a(l,u,d){return gee(l)?l=oP(l):wd(l)?l=oP(uP(l)):(d=u,u=MM(l),l={protocol:o}),iv(u)&&(d=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=n,!wd(u.host)&&!wd(u.hostname)&&(u.hostname="::1"),sP.equal(u.protocol,o,"protocol mismatch"),FM("options",u),new yo(u,d)}function c(l,u,d){var p=s.request(l,u,d);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function UM(){}function uP(e){var t;if(aP)t=new ov(e);else if(t=MM(sv.parse(e)),!wd(t.protocol))throw new nP({input:e});return t}function pee(e,t){return aP?new ov(e,t):uP(sv.resolve(t,e))}function MM(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new nP({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new nP({input:e.href||e});return e}function oP(e,t){var n=t||{};for(var r of cee)n[r]=e[r];return n.hostname.startsWith("[")&&(n.hostname=n.hostname.slice(1,-1)),n.port!==""&&(n.port=Number(n.port)),n.path=n.search?n.pathname+n.search:n.pathname,n}function tP(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function av(e,t,n){function r(o){Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(n||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),r}function dP(e,t){for(var n of cP)e.removeListener(n,lP[n]);e.on("error",UM),e.destroy(t)}function mee(e,t){sP(wd(e)&&wd(t));var n=e.length-t.length-1;return n>0&&e[n]==="."&&e.endsWith(t)}function wd(e){return typeof e=="string"||e instanceof String}function iv(e){return typeof e=="function"}function hee(e){return typeof e=="object"&&"length"in e}function gee(e){return ov&&e instanceof ov}fP.exports=OM({http:see,https:aee});fP.exports.wrap=OM});var Tp=O((xbe,jM)=>{"use strict";var $M=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);jM.exports=e=>e?Object.keys(e).map(t=>[$M.has(t)?$M.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var hE=O(JM=>{"use strict";var HM=typeof process=="object"&&process?process:{stdout:null,stderr:null},vee=require("events"),BM=require("stream"),xee=require("string_decoder"),qM=xee.StringDecoder,Fa=Symbol("EOF"),Oa=Symbol("maybeEmitEnd"),Zc=Symbol("emittedEnd"),lE=Symbol("emittingEnd"),lv=Symbol("emittedError"),uE=Symbol("closed"),WM=Symbol("read"),dE=Symbol("flush"),YM=Symbol("flushChunk"),Eo=Symbol("encoding"),Ua=Symbol("decoder"),fE=Symbol("flowing"),uv=Symbol("paused"),kp=Symbol("resume"),vn=Symbol("buffer"),Ls=Symbol("pipes"),tr=Symbol("bufferLength"),pP=Symbol("bufferPush"),mP=Symbol("bufferShift"),wr=Symbol("objectMode"),xn=Symbol("destroyed"),hP=Symbol("error"),gP=Symbol("emitData"),VM=Symbol("emitEnd"),vP=Symbol("emitEnd2"),Ma=Symbol("async"),xP=Symbol("abort"),pE=Symbol("aborted"),yd=Symbol("signal"),dv=e=>Promise.resolve().then(e),KM=global._MP_NO_ITERATOR_SYMBOLS_!=="1",zM=KM&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),GM=KM&&Symbol.iterator||Symbol("iterator not implemented"),wee=e=>e==="end"||e==="finish"||e==="prefinish",yee=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Eee=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),mE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[kp](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},wP=class extends mE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=o=>n.emit("error",o),t.on("error",this.proxyErrors)}},yP=class e extends BM{constructor(t){super(),this[fE]=!1,this[uv]=!1,this[Ls]=[],this[vn]=[],this[wr]=t&&t.objectMode||!1,this[wr]?this[Eo]=null:this[Eo]=t&&t.encoding||null,this[Eo]==="buffer"&&(this[Eo]=null),this[Ma]=t&&!!t.async||!1,this[Ua]=this[Eo]?new qM(this[Eo]):null,this[Fa]=!1,this[Zc]=!1,this[lE]=!1,this[uE]=!1,this[lv]=null,this.writable=!0,this.readable=!0,this[tr]=0,this[xn]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[vn]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Ls]}),this[yd]=t&&t.signal,this[pE]=!1,this[yd]&&(this[yd].addEventListener("abort",()=>this[xP]()),this[yd].aborted&&this[xP]())}get bufferLength(){return this[tr]}get encoding(){return this[Eo]}set encoding(t){if(this[wr])throw new Error("cannot set encoding in objectMode");if(this[Eo]&&t!==this[Eo]&&(this[Ua]&&this[Ua].lastNeed||this[tr]))throw new Error("cannot change encoding");this[Eo]!==t&&(this[Ua]=t?new qM(t):null,this[vn].length&&(this[vn]=this[vn].map(n=>this[Ua].write(n)))),this[Eo]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[wr]}set objectMode(t){this[wr]=this[wr]||!!t}get async(){return this[Ma]}set async(t){this[Ma]=this[Ma]||!!t}[xP](){this[pE]=!0,this.emit("abort",this[yd].reason),this.destroy(this[yd].reason)}get aborted(){return this[pE]}set aborted(t){}write(t,n,r){if(this[pE])return!1;if(this[Fa])throw new Error("write after end");if(this[xn])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[Ma]?dv:i=>i();return!this[wr]&&!Buffer.isBuffer(t)&&(Eee(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):yee(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[wr]?(this.flowing&&this[tr]!==0&&this[dE](!0),this.flowing?this.emit("data",t):this[pP](t),this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Eo]&&!this[Ua].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Eo]&&(t=this[Ua].write(t)),this.flowing&&this[tr]!==0&&this[dE](!0),this.flowing?this.emit("data",t):this[pP](t),this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(t){if(this[xn])return null;if(this[tr]===0||t===0||t>this[tr])return this[Oa](),null;this[wr]&&(t=null),this[vn].length>1&&!this[wr]&&(this.encoding?this[vn]=[this[vn].join("")]:this[vn]=[Buffer.concat(this[vn],this[tr])]);let n=this[WM](t||null,this[vn][0]);return this[Oa](),n}[WM](t,n){return t===n.length||t===null?this[mP]():(this[vn][0]=n.slice(t),n=n.slice(0,t),this[tr]-=t),this.emit("data",n),!this[vn].length&&!this[Fa]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Fa]=!0,this.writable=!1,(this.flowing||!this[uv])&&this[Oa](),this}[kp](){this[xn]||(this[uv]=!1,this[fE]=!0,this.emit("resume"),this[vn].length?this[dE]():this[Fa]?this[Oa]():this.emit("drain"))}resume(){return this[kp]()}pause(){this[fE]=!1,this[uv]=!0}get destroyed(){return this[xn]}get flowing(){return this[fE]}get paused(){return this[uv]}[pP](t){this[wr]?this[tr]+=1:this[tr]+=t.length,this[vn].push(t)}[mP](){return this[wr]?this[tr]-=1:this[tr]-=this[vn][0].length,this[vn].shift()}[dE](t){do;while(this[YM](this[mP]())&&this[vn].length);!t&&!this[vn].length&&!this[Fa]&&this.emit("drain")}[YM](t){return this.emit("data",t),this.flowing}pipe(t,n){if(this[xn])return;let r=this[Zc];return n=n||{},t===HM.stdout||t===HM.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this[Ls].push(n.proxyErrors?new wP(this,t,n):new mE(this,t,n)),this[Ma]?dv(()=>this[kp]()):this[kp]()),t}unpipe(t){let n=this[Ls].find(r=>r.dest===t);n&&(this[Ls].splice(this[Ls].indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this[Ls].length&&!this.flowing?this[kp]():t==="readable"&&this[tr]!==0?super.emit("readable"):wee(t)&&this[Zc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[lv]&&(this[Ma]?dv(()=>n.call(this,this[lv])):n.call(this,this[lv])),r}get emittedEnd(){return this[Zc]}[Oa](){!this[lE]&&!this[Zc]&&!this[xn]&&this[vn].length===0&&this[Fa]&&(this[lE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[uE]&&this.emit("close"),this[lE]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==xn&&this[xn])return;if(t==="data")return!this[wr]&&!n?!1:this[Ma]?dv(()=>this[gP](n)):this[gP](n);if(t==="end")return this[VM]();if(t==="close"){if(this[uE]=!0,!this[Zc]&&!this[xn])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(t==="error"){this[lv]=n,super.emit(hP,n);let i=!this[yd]||this.listeners("error").length?super.emit("error",n):!1;return this[Oa](),i}else if(t==="resume"){let i=super.emit("resume");return this[Oa](),i}else if(t==="finish"||t==="prefinish"){let i=super.emit(t);return this.removeAllListeners(t),i}let o=super.emit(t,n,...r);return this[Oa](),o}[gP](t){for(let r of this[Ls])r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Oa](),n}[VM](){this[Zc]||(this[Zc]=!0,this.readable=!1,this[Ma]?dv(()=>this[vP]()):this[vP]())}[vP](){if(this[Ua]){let n=this[Ua].end();if(n){for(let r of this[Ls])r.dest.write(n);super.emit("data",n)}}for(let n of this[Ls])n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[wr]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[wr]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[wr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[wr]?Promise.reject(new Error("cannot concat in objectMode")):this[Eo]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(xn,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[zM](){let t=!1,n=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return n();let o=this.read();if(o!==null)return Promise.resolve({done:!1,value:o});if(this[Fa])return n();let i=null,s=null,a=d=>{this.removeListener("data",c),this.removeListener("end",l),this.removeListener(xn,u),n(),s(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",l),this.removeListener(xn,u),this.pause(),i({value:d,done:!!this[Fa]})},l=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(xn,u),n(),i({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,p)=>{s=p,i=d,this.once(xn,u),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:n,return:n,[zM](){return this}}}[GM](){let t=!1,n=()=>(this.pause(),this.removeListener(hP,n),this.removeListener(xn,n),this.removeListener("end",n),t=!0,{done:!0}),r=()=>{if(t)return n();let o=this.read();return o===null?n():{value:o}};return this.once("end",n),this.once(hP,n),this.once(xn,n),{next:r,throw:n,return:n,[GM](){return this}}}destroy(t){return this[xn]?(t?this.emit("error",t):this.emit(xn),this):(this[xn]=!0,this[vn].length=0,this[tr]=0,typeof this.close=="function"&&!this[uE]&&this.close(),t?this.emit("error",t):this.emit(xn),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof BM||t instanceof vee&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};JM.Minipass=yP});var ZM=O((ybe,XM)=>{var Cee=require("zlib").constants||{ZLIB_VERNUM:4736};XM.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Cee))});var DP=O((Ebe,a$)=>{"use strict";var QM=typeof process=="object"&&process?process:{stdout:null,stderr:null},bee=require("events"),e$=require("stream"),t$=require("string_decoder").StringDecoder,$a=Symbol("EOF"),ja=Symbol("maybeEmitEnd"),Qc=Symbol("emittedEnd"),gE=Symbol("emittingEnd"),fv=Symbol("emittedError"),vE=Symbol("closed"),n$=Symbol("read"),xE=Symbol("flush"),r$=Symbol("flushChunk"),Co=Symbol("encoding"),Ha=Symbol("decoder"),wE=Symbol("flowing"),pv=Symbol("paused"),Rp=Symbol("resume"),nr=Symbol("bufferLength"),EP=Symbol("bufferPush"),CP=Symbol("bufferShift"),Ar=Symbol("objectMode"),Fr=Symbol("destroyed"),bP=Symbol("emitData"),o$=Symbol("emitEnd"),_P=Symbol("emitEnd2"),Ba=Symbol("async"),mv=e=>Promise.resolve().then(e),i$=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_ee=i$&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),See=i$&&Symbol.iterator||Symbol("iterator not implemented"),Dee=e=>e==="end"||e==="finish"||e==="prefinish",Iee=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Pee=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),yE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Rp](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},SP=class extends yE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=o=>n.emit("error",o),t.on("error",this.proxyErrors)}};a$.exports=class s$ extends e${constructor(t){super(),this[wE]=!1,this[pv]=!1,this.pipes=[],this.buffer=[],this[Ar]=t&&t.objectMode||!1,this[Ar]?this[Co]=null:this[Co]=t&&t.encoding||null,this[Co]==="buffer"&&(this[Co]=null),this[Ba]=t&&!!t.async||!1,this[Ha]=this[Co]?new t$(this[Co]):null,this[$a]=!1,this[Qc]=!1,this[gE]=!1,this[vE]=!1,this[fv]=null,this.writable=!0,this.readable=!0,this[nr]=0,this[Fr]=!1}get bufferLength(){return this[nr]}get encoding(){return this[Co]}set encoding(t){if(this[Ar])throw new Error("cannot set encoding in objectMode");if(this[Co]&&t!==this[Co]&&(this[Ha]&&this[Ha].lastNeed||this[nr]))throw new Error("cannot change encoding");this[Co]!==t&&(this[Ha]=t?new t$(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[Ha].write(n)))),this[Co]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Ar]}set objectMode(t){this[Ar]=this[Ar]||!!t}get async(){return this[Ba]}set async(t){this[Ba]=this[Ba]||!!t}write(t,n,r){if(this[$a])throw new Error("write after end");if(this[Fr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[Ba]?mv:i=>i();return!this[Ar]&&!Buffer.isBuffer(t)&&(Pee(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Iee(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Ar]?(this.flowing&&this[nr]!==0&&this[xE](!0),this.flowing?this.emit("data",t):this[EP](t),this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Co]&&!this[Ha].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Co]&&(t=this[Ha].write(t)),this.flowing&&this[nr]!==0&&this[xE](!0),this.flowing?this.emit("data",t):this[EP](t),this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(t){if(this[Fr])return null;if(this[nr]===0||t===0||t>this[nr])return this[ja](),null;this[Ar]&&(t=null),this.buffer.length>1&&!this[Ar]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[nr])]);let n=this[n$](t||null,this.buffer[0]);return this[ja](),n}[n$](t,n){return t===n.length||t===null?this[CP]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[nr]-=t),this.emit("data",n),!this.buffer.length&&!this[$a]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[$a]=!0,this.writable=!1,(this.flowing||!this[pv])&&this[ja](),this}[Rp](){this[Fr]||(this[pv]=!1,this[wE]=!0,this.emit("resume"),this.buffer.length?this[xE]():this[$a]?this[ja]():this.emit("drain"))}resume(){return this[Rp]()}pause(){this[wE]=!1,this[pv]=!0}get destroyed(){return this[Fr]}get flowing(){return this[wE]}get paused(){return this[pv]}[EP](t){this[Ar]?this[nr]+=1:this[nr]+=t.length,this.buffer.push(t)}[CP](){return this.buffer.length&&(this[Ar]?this[nr]-=1:this[nr]-=this.buffer[0].length),this.buffer.shift()}[xE](t){do;while(this[r$](this[CP]()));!t&&!this.buffer.length&&!this[$a]&&this.emit("drain")}[r$](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[Fr])return;let r=this[Qc];return n=n||{},t===QM.stdout||t===QM.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new SP(this,t,n):new yE(this,t,n)),this[Ba]?mv(()=>this[Rp]()):this[Rp]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[Rp]():t==="readable"&&this[nr]!==0?super.emit("readable"):Dee(t)&&this[Qc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[fv]&&(this[Ba]?mv(()=>n.call(this,this[fv])):n.call(this,this[fv])),r}get emittedEnd(){return this[Qc]}[ja](){!this[gE]&&!this[Qc]&&!this[Fr]&&this.buffer.length===0&&this[$a]&&(this[gE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[vE]&&this.emit("close"),this[gE]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==Fr&&this[Fr])return;if(t==="data")return n?this[Ba]?mv(()=>this[bP](n)):this[bP](n):!1;if(t==="end")return this[o$]();if(t==="close"){if(this[vE]=!0,!this[Qc]&&!this[Fr])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(t==="error"){this[fv]=n;let i=super.emit("error",n);return this[ja](),i}else if(t==="resume"){let i=super.emit("resume");return this[ja](),i}else if(t==="finish"||t==="prefinish"){let i=super.emit(t);return this.removeAllListeners(t),i}let o=super.emit(t,n,...r);return this[ja](),o}[bP](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[ja](),n}[o$](){this[Qc]||(this[Qc]=!0,this.readable=!1,this[Ba]?mv(()=>this[_P]()):this[_P]())}[_P](){if(this[Ha]){let n=this[Ha].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Ar]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Ar]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Ar]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Ar]?Promise.reject(new Error("cannot concat in objectMode")):this[Co]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(Fr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[_ee](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[$a])return Promise.resolve({done:!0});let r=null,o=null,i=l=>{this.removeListener("data",s),this.removeListener("end",a),o(l)},s=l=>{this.removeListener("error",i),this.removeListener("end",a),this.pause(),r({value:l,done:!!this[$a]})},a=()=>{this.removeListener("error",i),this.removeListener("data",s),r({done:!0})},c=()=>i(new Error("stream destroyed"));return new Promise((l,u)=>{o=u,r=l,this.once(Fr,c),this.once("error",i),this.once("end",a),this.once("data",s)})}}}[See](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[Fr]?(t?this.emit("error",t):this.emit(Fr),this):(this[Fr]=!0,this.buffer.length=0,this[nr]=0,typeof this.close=="function"&&!this[vE]&&this.close(),t?this.emit("error",t):this.emit(Fr),this)}static isStream(t){return!!t&&(t instanceof s$||t instanceof e$||t instanceof bee&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var BP=O(Ko=>{"use strict";var RP=require("assert"),el=require("buffer").Buffer,u$=require("zlib"),Ed=Ko.constants=ZM(),Tee=DP(),c$=el.concat,Cd=Symbol("_superWrite"),Lp=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},kee=Symbol("opts"),hv=Symbol("flushFlag"),l$=Symbol("finishFlushFlag"),HP=Symbol("fullFlushFlag"),At=Symbol("handle"),EE=Symbol("onError"),Np=Symbol("sawError"),IP=Symbol("level"),PP=Symbol("strategy"),TP=Symbol("ended"),Cbe=Symbol("_defaultFullFlush"),CE=class extends Tee{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Np]=!1,this[TP]=!1,this[kee]=t,this[hv]=t.flush,this[l$]=t.finishFlush;try{this[At]=new u$[n](t)}catch(r){throw new Lp(r)}this[EE]=r=>{this[Np]||(this[Np]=!0,this.close(),this.emit("error",r))},this[At].on("error",r=>this[EE](new Lp(r))),this.once("end",()=>this.close)}close(){this[At]&&(this[At].close(),this[At]=null,this.emit("close"))}reset(){if(!this[Np])return RP(this[At],"zlib binding closed"),this[At].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[HP]),this.write(Object.assign(el.alloc(0),{[hv]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[l$]),this[TP]=!0,super.end(null,null,r)}get ended(){return this[TP]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=el.from(t,n)),this[Np])return;RP(this[At],"zlib binding closed");let o=this[At]._handle,i=o.close;o.close=()=>{};let s=this[At].close;this[At].close=()=>{},el.concat=l=>l;let a;try{let l=typeof t[hv]=="number"?t[hv]:this[hv];a=this[At]._processChunk(t,l),el.concat=c$}catch(l){el.concat=c$,this[EE](new Lp(l))}finally{this[At]&&(this[At]._handle=o,o.close=i,this[At].close=s,this[At].removeAllListeners("error"))}this[At]&&this[At].on("error",l=>this[EE](new Lp(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Cd](el.from(a[0]));for(let l=1;l<a.length;l++)c=this[Cd](a[l])}else c=this[Cd](el.from(a));return r&&r(),c}[Cd](t){return super.write(t)}},qa=class extends CE{constructor(t,n){t=t||{},t.flush=t.flush||Ed.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Ed.Z_FINISH,super(t,n),this[HP]=Ed.Z_FULL_FLUSH,this[IP]=t.level,this[PP]=t.strategy}params(t,n){if(!this[Np]){if(!this[At])throw new Error("cannot switch params when binding is closed");if(!this[At].params)throw new Error("not supported in this implementation");if(this[IP]!==t||this[PP]!==n){this.flush(Ed.Z_SYNC_FLUSH),RP(this[At],"zlib binding closed");let r=this[At].flush;this[At].flush=(o,i)=>{this.flush(o),i()};try{this[At].params(t,n)}finally{this[At].flush=r}this[At]&&(this[IP]=t,this[PP]=n)}}}},NP=class extends qa{constructor(t){super(t,"Deflate")}},LP=class extends qa{constructor(t){super(t,"Inflate")}},kP=Symbol("_portable"),AP=class extends qa{constructor(t){super(t,"Gzip"),this[kP]=t&&!!t.portable}[Cd](t){return this[kP]?(this[kP]=!1,t[9]=255,super[Cd](t)):super[Cd](t)}},FP=class extends qa{constructor(t){super(t,"Gunzip")}},OP=class extends qa{constructor(t){super(t,"DeflateRaw")}},UP=class extends qa{constructor(t){super(t,"InflateRaw")}},MP=class extends qa{constructor(t){super(t,"Unzip")}},bE=class extends CE{constructor(t,n){t=t||{},t.flush=t.flush||Ed.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Ed.BROTLI_OPERATION_FINISH,super(t,n),this[HP]=Ed.BROTLI_OPERATION_FLUSH}},$P=class extends bE{constructor(t){super(t,"BrotliCompress")}},jP=class extends bE{constructor(t){super(t,"BrotliDecompress")}};Ko.Deflate=NP;Ko.Inflate=LP;Ko.Gzip=AP;Ko.Gunzip=FP;Ko.DeflateRaw=OP;Ko.InflateRaw=UP;Ko.Unzip=MP;typeof u$.BrotliCompress=="function"?(Ko.BrotliCompress=$P,Ko.BrotliDecompress=jP):Ko.BrotliCompress=Ko.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Ap=O((Sbe,d$)=>{var Ree=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;d$.exports=Ree!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var _E=O((Ibe,f$)=>{"use strict";var{Minipass:Nee}=hE(),qP=Ap(),WP=Symbol("slurp");f$.exports=class extends Nee{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=qP(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=qP(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[WP](n),r&&this[WP](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,o=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,o-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[WP](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?qP(t[r]):t[r])}}});var YP=O(SE=>{"use strict";SE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);SE.code=new Map(Array.from(SE.name).map(e=>[e[1],e[0]]))});var g$=O((Tbe,h$)=>{"use strict";var Lee=(e,t)=>{if(Number.isSafeInteger(e))e<0?Fee(e,t):Aee(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Aee=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},Fee=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var o=e&255;e=Math.floor(e/256),n?t[r-1]=p$(o):o===0?t[r-1]=0:(n=!0,t[r-1]=m$(o))}},Oee=e=>{let t=e[0],n=t===128?Mee(e.slice(1,e.length)):t===255?Uee(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Uee=e=>{for(var t=e.length,n=0,r=!1,o=t-1;o>-1;o--){var i=e[o],s;r?s=p$(i):i===0?s=i:(r=!0,s=m$(i)),s!==0&&(n-=s*Math.pow(256,t-o-1))}return n},Mee=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var o=e[r];o!==0&&(n+=o*Math.pow(256,t-r-1))}return n},p$=e=>(255^e)&255,m$=e=>(255^e)+1&255;h$.exports={encode:Lee,parse:Oee}});var Op=O((kbe,x$)=>{"use strict";var VP=YP(),Fp=require("path").posix,v$=g$(),zP=Symbol("slurp"),Jo=Symbol("type"),JP=class{constructor(t,n,r,o){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Jo]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,o):t&&this.set(t)}decode(t,n,r,o){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=bd(t,n,100),this.mode=tl(t,n+100,8),this.uid=tl(t,n+108,8),this.gid=tl(t,n+116,8),this.size=tl(t,n+124,12),this.mtime=GP(t,n+136,12),this.cksum=tl(t,n+148,12),this[zP](r),this[zP](o,!0),this[Jo]=bd(t,n+156,1),this[Jo]===""&&(this[Jo]="0"),this[Jo]==="0"&&this.path.slice(-1)==="/"&&(this[Jo]="5"),this[Jo]==="5"&&(this.size=0),this.linkpath=bd(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=bd(t,n+265,32),this.gname=bd(t,n+297,32),this.devmaj=tl(t,n+329,8),this.devmin=tl(t,n+337,8),t[n+475]!==0){let s=bd(t,n+345,155);this.path=s+"/"+this.path}else{let s=bd(t,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=GP(t,n+476,12),this.ctime=GP(t,n+488,12)}let i=8*32;for(let s=n;s<n+148;s++)i+=t[s];for(let s=n+156;s<n+512;s++)i+=t[s];this.cksumValid=i===this.cksum,this.cksum===null&&i===8*32&&(this.nullBlock=!0)}[zP](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,o=$ee(this.path||"",r),i=o[0],s=o[1];this.needPax=o[2],this.needPax=_d(t,n,100,i)||this.needPax,this.needPax=nl(t,n+100,8,this.mode)||this.needPax,this.needPax=nl(t,n+108,8,this.uid)||this.needPax,this.needPax=nl(t,n+116,8,this.gid)||this.needPax,this.needPax=nl(t,n+124,12,this.size)||this.needPax,this.needPax=KP(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[Jo].charCodeAt(0),this.needPax=_d(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=_d(t,n+265,32,this.uname)||this.needPax,this.needPax=_d(t,n+297,32,this.gname)||this.needPax,this.needPax=nl(t,n+329,8,this.devmaj)||this.needPax,this.needPax=nl(t,n+337,8,this.devmin)||this.needPax,this.needPax=_d(t,n+345,r,s)||this.needPax,t[n+475]!==0?this.needPax=_d(t,n+345,155,s)||this.needPax:(this.needPax=_d(t,n+345,130,s)||this.needPax,this.needPax=KP(t,n+476,12,this.atime)||this.needPax,this.needPax=KP(t,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=n;c<n+148;c++)a+=t[c];for(let c=n+156;c<n+512;c++)a+=t[c];return this.cksum=a,nl(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return VP.name.get(this[Jo])||this[Jo]}get typeKey(){return this[Jo]}set type(t){VP.code.has(t)?this[Jo]=VP.code.get(t):this[Jo]=t}},$ee=(e,t)=>{let r=e,o="",i,s=Fp.parse(e).root||".";if(Buffer.byteLength(r)<100)i=[r,o,!1];else{o=Fp.dirname(r),r=Fp.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(o)<=t?i=[r,o,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(o)<=t?i=[r.slice(0,100-1),o,!0]:(r=Fp.join(Fp.basename(o),r),o=Fp.dirname(o));while(o!==s&&!i);i||(i=[e.slice(0,100-1),"",!0])}return i},bd=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),GP=(e,t,n)=>jee(tl(e,t,n)),jee=e=>e===null?null:new Date(e*1e3),tl=(e,t,n)=>e[t]&128?v$.parse(e.slice(t,t+n)):Bee(e,t,n),Hee=e=>isNaN(e)?null:e,Bee=(e,t,n)=>Hee(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),qee={12:8589934591,8:2097151},nl=(e,t,n,r)=>r===null?!1:r>qee[n]||r<0?(v$.encode(r,e.slice(t,t+n)),!0):(Wee(e,t,n,r),!1),Wee=(e,t,n,r)=>e.write(Yee(r,n),t,n,"ascii"),Yee=(e,t)=>Vee(Math.floor(e).toString(8),t),Vee=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",KP=(e,t,n,r)=>r===null?!1:nl(e,t,n,r.getTime()/1e3),zee=new Array(156).join("\0"),_d=(e,t,n,r)=>r===null?!1:(e.write(r+zee,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);x$.exports=JP});var DE=O((Rbe,w$)=>{"use strict";var Gee=Op(),Kee=require("path"),gv=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),o=Buffer.allocUnsafe(r);for(let i=0;i<512;i++)o[i]=0;new Gee({path:("PaxHeader/"+Kee.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(o),o.write(t,512,n,"utf8");for(let i=n+512;i<o.length;i++)o[i]=0;return o}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,o=Buffer.byteLength(r),i=Math.floor(Math.log(o)/Math.log(10))+1;return o+i>=Math.pow(10,i)&&(i+=1),i+o+r}};gv.parse=(e,t,n)=>new gv(Jee(Xee(e),t),n);var Jee=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,Xee=e=>e.replace(/\n$/,"").split(`
`).reduce(Zee,Object.create(null)),Zee=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),o=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!o)return e;let i=r.join("=");return e[o]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(o)?new Date(i*1e3):/^[0-9]+$/.test(i)?+i:i,e};w$.exports=gv});var Up=O((Nbe,y$)=>{y$.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var IE=O((Lbe,E$)=>{"use strict";E$.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var ZP=O((Fbe,C$)=>{"use strict";var PE=["|","<",">","?",":"],XP=PE.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),Qee=new Map(PE.map((e,t)=>[e,XP[t]])),ete=new Map(XP.map((e,t)=>[e,PE[t]]));C$.exports={encode:e=>PE.reduce((t,n)=>t.split(n).join(Qee.get(n)),e),decode:e=>XP.reduce((t,n)=>t.split(n).join(ete.get(n)),e)}});var QP=O((Obe,_$)=>{var{isAbsolute:tte,parse:b$}=require("path").win32;_$.exports=e=>{let t="",n=b$(e);for(;tte(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=b$(e)}return[t,e]}});var D$=O((Ube,S$)=>{"use strict";S$.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var lT=O((jbe,j$)=>{"use strict";var{Minipass:L$}=hE(),A$=DE(),F$=Op(),Fs=require("fs"),I$=require("path"),As=Ap(),nte=Up(),O$=(e,t)=>t?(e=As(e).replace(/^\.(\/|$)/,""),nte(t)+"/"+e):As(e),rte=16*1024*1024,P$=Symbol("process"),T$=Symbol("file"),k$=Symbol("directory"),tT=Symbol("symlink"),R$=Symbol("hardlink"),vv=Symbol("header"),TE=Symbol("read"),nT=Symbol("lstat"),kE=Symbol("onlstat"),rT=Symbol("onread"),oT=Symbol("onreadlink"),iT=Symbol("openfile"),sT=Symbol("onopenfile"),rl=Symbol("close"),RE=Symbol("mode"),aT=Symbol("awaitDrain"),eT=Symbol("ondrain"),Os=Symbol("prefix"),N$=Symbol("hadError"),U$=IE(),ote=ZP(),M$=QP(),$$=D$(),NE=U$(class extends L${constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=As(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||rte,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=As(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?As(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=M$(this.path);o&&(this.path=i,r=o)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=ote.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=As(n.absolute||I$.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[kE](this.statCache.get(this.absolute)):this[nT]()}emit(t,...n){return t==="error"&&(this[N$]=!0),super.emit(t,...n)}[nT](){Fs.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[kE](n)})}[kE](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=ste(t),this.emit("stat",t),this[P$]()}[P$](){switch(this.type){case"File":return this[T$]();case"Directory":return this[k$]();case"SymbolicLink":return this[tT]();default:return this.end()}}[RE](t){return $$(t,this.type==="Directory",this.portable)}[Os](t){return O$(t,this.prefix)}[vv](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new F$({path:this[Os](this.path),linkpath:this.type==="Link"?this[Os](this.linkpath):this.linkpath,mode:this[RE](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new A$({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Os](this.path),linkpath:this.type==="Link"?this[Os](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[k$](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[vv](),this.end()}[tT](){Fs.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[oT](n)})}[oT](t){this.linkpath=As(t),this[vv](),this.end()}[R$](t){this.type="Link",this.linkpath=As(I$.relative(this.cwd,t)),this.stat.size=0,this[vv](),this.end()}[T$](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[R$](n)}this.linkCache.set(t,this.absolute)}if(this[vv](),this.stat.size===0)return this.end();this[iT]()}[iT](){Fs.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[sT](n)})}[sT](t){if(this.fd=t,this[N$])return this[rl]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[TE]()}[TE](){let{fd:t,buf:n,offset:r,length:o,pos:i}=this;Fs.read(t,n,r,o,i,(s,a)=>{if(s)return this[rl](()=>this.emit("error",s));this[rT](a)})}[rl](t){Fs.close(this.fd,t)}[rT](t){if(t<=0&&this.remain>0){let o=new Error("encountered unexpected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[rl](()=>this.emit("error",o))}if(t>this.remain){let o=new Error("did not encounter expected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[rl](()=>this.emit("error",o))}if(t===this.remain)for(let o=t;o<this.length&&t<this.blockRemain;o++)this.buf[o+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[eT]():this[aT](()=>this[eT]())}[aT](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[eT](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[rl](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[TE]()}}),cT=class extends NE{[nT](){this[kE](Fs.lstatSync(this.absolute))}[tT](){this[oT](Fs.readlinkSync(this.absolute))}[iT](){this[sT](Fs.openSync(this.absolute,"r"))}[TE](){let t=!0;try{let{fd:n,buf:r,offset:o,length:i,pos:s}=this,a=Fs.readSync(n,r,o,i,s);this[rT](a),t=!1}finally{if(t)try{this[rl](()=>{})}catch{}}}[aT](t){t()}[rl](t){Fs.closeSync(this.fd),t()}},ite=U$(class extends L${constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=As(t.path),this.mode=this[RE](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=As(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=M$(this.path);o&&(this.path=i,r=o)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new F$({path:this[Os](this.path),linkpath:this.type==="Link"?this[Os](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new A$({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Os](this.path),linkpath:this.type==="Link"?this[Os](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Os](t){return O$(t,this.prefix)}[RE](t){return $$(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});NE.Sync=cT;NE.Tar=ite;var ste=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";j$.exports=NE});var B$=O((Hbe,H$)=>{"use strict";H$.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var uT=O((Bbe,q$)=>{"use strict";q$.exports=gt;gt.Node=Sd;gt.create=gt;function gt(e){var t=this;if(t instanceof gt||(t=new gt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}gt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};gt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};gt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};gt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)cte(this,arguments[e]);return this.length};gt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lte(this,arguments[e]);return this.length};gt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};gt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};gt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};gt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};gt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};gt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};gt.prototype.map=function(e,t){t=t||this;for(var n=new gt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};gt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new gt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};gt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;r!==null;o++)n=e(n,r.value,o),r=r.next;return n};gt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;r!==null;o--)n=e(n,r.value,o),r=r.prev;return n};gt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};gt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};gt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new gt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;o!==null&&r<e;r++)o=o.next;for(;o!==null&&r<t;r++,o=o.next)n.push(o.value);return n};gt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new gt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;o!==null&&r>t;r--)o=o.prev;for(;o!==null&&r>e;r--,o=o.prev)n.push(o.value);return n};gt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;o!==null&&r<e;r++)o=o.next;for(var i=[],r=0;o&&r<t;r++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var r=0;r<n.length;r++)o=ate(this,o,n[r]);return i};gt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function ate(e,t,n){var r=t===e.head?new Sd(n,null,t,e):new Sd(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function cte(e,t){e.tail=new Sd(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lte(e,t){e.head=new Sd(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Sd(e,t,n,r){if(!(this instanceof Sd))return new Sd(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{B$()(gt)}catch{}});var HE=O((Wbe,X$)=>{"use strict";var $E=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:ute}=hE(),W$=BP(),dte=_E(),wT=lT(),fte=wT.Sync,pte=wT.Tar,mte=uT(),Y$=Buffer.alloc(1024),FE=Symbol("onStat"),LE=Symbol("ended"),Us=Symbol("queue"),Mp=Symbol("current"),Dd=Symbol("process"),AE=Symbol("processing"),V$=Symbol("processJob"),Ms=Symbol("jobs"),dT=Symbol("jobDone"),OE=Symbol("addFSEntry"),z$=Symbol("addTarEntry"),hT=Symbol("stat"),gT=Symbol("readdir"),UE=Symbol("onreaddir"),ME=Symbol("pipe"),G$=Symbol("entry"),fT=Symbol("entryOpt"),vT=Symbol("writeEntryClass"),J$=Symbol("write"),pT=Symbol("ondrain"),jE=require("fs"),K$=require("path"),hte=IE(),mT=Ap(),yT=hte(class extends ute{constructor(t){if(super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=mT(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[vT]=wT,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip||t.brotli){if(t.gzip&&t.brotli)throw new TypeError("gzip and brotli are mutually exclusive");t.gzip&&(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new W$.Gzip(t.gzip)),t.brotli&&(typeof t.brotli!="object"&&(t.brotli={}),this.zip=new W$.BrotliCompress(t.brotli)),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[pT]()),this.on("resume",n=>this.zip.resume())}else this.on("drain",this[pT]);this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[Us]=new mte,this[Ms]=0,this.jobs=+t.jobs||4,this[AE]=!1,this[LE]=!1}[J$](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[LE]=!0,this[Dd](),this}write(t){if(this[LE])throw new Error("write after end");return t instanceof dte?this[z$](t):this[OE](t),this.flowing}[z$](t){let n=mT(K$.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new $E(t.path,n,!1);r.entry=new pte(t,this[fT](r)),r.entry.on("end",o=>this[dT](r)),this[Ms]+=1,this[Us].push(r)}this[Dd]()}[OE](t){let n=mT(K$.resolve(this.cwd,t));this[Us].push(new $E(t,n)),this[Dd]()}[hT](t){t.pending=!0,this[Ms]+=1;let n=this.follow?"stat":"lstat";jE[n](t.absolute,(r,o)=>{t.pending=!1,this[Ms]-=1,r?this.emit("error",r):this[FE](t,o)})}[FE](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[Dd]()}[gT](t){t.pending=!0,this[Ms]+=1,jE.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[Ms]-=1,n)return this.emit("error",n);this[UE](t,r)})}[UE](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[Dd]()}[Dd](){if(!this[AE]){this[AE]=!0;for(let t=this[Us].head;t!==null&&this[Ms]<this.jobs;t=t.next)if(this[V$](t.value),t.value.ignore){let n=t.next;this[Us].removeNode(t),t.next=n}this[AE]=!1,this[LE]&&!this[Us].length&&this[Ms]===0&&(this.zip?this.zip.end(Y$):(super.write(Y$),super.end()))}}get[Mp](){return this[Us]&&this[Us].head&&this[Us].head.value}[dT](t){this[Us].shift(),this[Ms]-=1,this[Dd]()}[V$](t){if(!t.pending){if(t.entry){t===this[Mp]&&!t.piped&&this[ME](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[FE](t,this.statCache.get(t.absolute)):this[hT](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[UE](t,this.readdirCache.get(t.absolute)):this[gT](t),!t.readdir))){if(t.entry=this[G$](t),!t.entry){t.ignore=!0;return}t===this[Mp]&&!t.piped&&this[ME](t)}}}[fT](t){return{onwarn:(n,r,o)=>this.warn(n,r,o),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[G$](t){this[Ms]+=1;try{return new this[vT](t.path,this[fT](t)).on("end",()=>this[dT](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[pT](){this[Mp]&&this[Mp].entry&&this[Mp].entry.resume()}[ME](t){t.piped=!0,t.readdir&&t.readdir.forEach(o=>{let i=t.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[OE](s+o)});let n=t.entry,r=this.zip;r?n.on("data",o=>{r.write(o)||n.pause()}):n.on("data",o=>{super.write(o)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),xT=class extends yT{constructor(t){super(t),this[vT]=fte}pause(){}resume(){}[hT](t){let n=this.follow?"statSync":"lstatSync";this[FE](t,jE[n](t.absolute))}[gT](t,n){this[UE](t,jE.readdirSync(t.absolute))}[ME](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(o=>{let i=t.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[OE](s+o)}),r?n.on("data",o=>{r.write(o)}):n.on("data",o=>{super[J$](o)})}};yT.Sync=xT;X$.exports=yT});var Vp=O(wv=>{"use strict";var gte=DP(),vte=require("events").EventEmitter,bo=require("fs"),bT=bo.writev;if(!bT){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;bT=(n,r,o,i)=>{let s=(c,l)=>i(c,l,r),a=new t;a.oncomplete=s,e.writeBuffers(n,r,o,a)}}var Wp=Symbol("_autoClose"),Qi=Symbol("_close"),xv=Symbol("_ended"),It=Symbol("_fd"),Z$=Symbol("_finished"),il=Symbol("_flags"),ET=Symbol("_flush"),_T=Symbol("_handleChunk"),ST=Symbol("_makeBuf"),VE=Symbol("_mode"),BE=Symbol("_needDrain"),Bp=Symbol("_onerror"),Yp=Symbol("_onopen"),CT=Symbol("_onread"),jp=Symbol("_onwrite"),sl=Symbol("_open"),Wa=Symbol("_path"),Id=Symbol("_pos"),$s=Symbol("_queue"),Hp=Symbol("_read"),Q$=Symbol("_readSize"),ol=Symbol("_reading"),qE=Symbol("_remain"),ej=Symbol("_size"),WE=Symbol("_write"),$p=Symbol("_writing"),YE=Symbol("_defaultFlag"),qp=Symbol("_errored"),zE=class extends gte{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[qp]=!1,this[It]=typeof n.fd=="number"?n.fd:null,this[Wa]=t,this[Q$]=n.readSize||16*1024*1024,this[ol]=!1,this[ej]=typeof n.size=="number"?n.size:1/0,this[qE]=this[ej],this[Wp]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[It]=="number"?this[Hp]():this[sl]()}get fd(){return this[It]}get path(){return this[Wa]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[sl](){bo.open(this[Wa],"r",(t,n)=>this[Yp](t,n))}[Yp](t,n){t?this[Bp](t):(this[It]=n,this.emit("open",n),this[Hp]())}[ST](){return Buffer.allocUnsafe(Math.min(this[Q$],this[qE]))}[Hp](){if(!this[ol]){this[ol]=!0;let t=this[ST]();if(t.length===0)return process.nextTick(()=>this[CT](null,0,t));bo.read(this[It],t,0,t.length,null,(n,r,o)=>this[CT](n,r,o))}}[CT](t,n,r){this[ol]=!1,t?this[Bp](t):this[_T](n,r)&&this[Hp]()}[Qi](){if(this[Wp]&&typeof this[It]=="number"){let t=this[It];this[It]=null,bo.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[Bp](t){this[ol]=!0,this[Qi](),this.emit("error",t)}[_T](t,n){let r=!1;return this[qE]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[qE]<=0)&&(r=!1,this[Qi](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[It]=="number"&&this[Hp]();break;case"error":return this[qp]?void 0:(this[qp]=!0,super.emit(t,n));default:return super.emit(t,n)}}},DT=class extends zE{[sl](){let t=!0;try{this[Yp](null,bo.openSync(this[Wa],"r")),t=!1}finally{t&&this[Qi]()}}[Hp](){let t=!0;try{if(!this[ol]){this[ol]=!0;do{let n=this[ST](),r=n.length===0?0:bo.readSync(this[It],n,0,n.length,null);if(!this[_T](r,n))break}while(!0);this[ol]=!1}t=!1}finally{t&&this[Qi]()}}[Qi](){if(this[Wp]&&typeof this[It]=="number"){let t=this[It];this[It]=null,bo.closeSync(t),this.emit("close")}}},GE=class extends vte{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[qp]=!1,this[$p]=!1,this[xv]=!1,this[BE]=!1,this[$s]=[],this[Wa]=t,this[It]=typeof n.fd=="number"?n.fd:null,this[VE]=n.mode===void 0?438:n.mode,this[Id]=typeof n.start=="number"?n.start:null,this[Wp]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[Id]!==null?"r+":"w";this[YE]=n.flags===void 0,this[il]=this[YE]?r:n.flags,this[It]===null&&this[sl]()}emit(t,n){if(t==="error"){if(this[qp])return;this[qp]=!0}return super.emit(t,n)}get fd(){return this[It]}get path(){return this[Wa]}[Bp](t){this[Qi](),this[$p]=!0,this.emit("error",t)}[sl](){bo.open(this[Wa],this[il],this[VE],(t,n)=>this[Yp](t,n))}[Yp](t,n){this[YE]&&this[il]==="r+"&&t&&t.code==="ENOENT"?(this[il]="w",this[sl]()):t?this[Bp](t):(this[It]=n,this.emit("open",n),this[ET]())}end(t,n){return t&&this.write(t,n),this[xv]=!0,!this[$p]&&!this[$s].length&&typeof this[It]=="number"&&this[jp](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[xv]?(this.emit("error",new Error("write() after end()")),!1):this[It]===null||this[$p]||this[$s].length?(this[$s].push(t),this[BE]=!0,!1):(this[$p]=!0,this[WE](t),!0)}[WE](t){bo.write(this[It],t,0,t.length,this[Id],(n,r)=>this[jp](n,r))}[jp](t,n){t?this[Bp](t):(this[Id]!==null&&(this[Id]+=n),this[$s].length?this[ET]():(this[$p]=!1,this[xv]&&!this[Z$]?(this[Z$]=!0,this[Qi](),this.emit("finish")):this[BE]&&(this[BE]=!1,this.emit("drain"))))}[ET](){if(this[$s].length===0)this[xv]&&this[jp](null,0);else if(this[$s].length===1)this[WE](this[$s].pop());else{let t=this[$s];this[$s]=[],bT(this[It],t,this[Id],(n,r)=>this[jp](n,r))}}[Qi](){if(this[Wp]&&typeof this[It]=="number"){let t=this[It];this[It]=null,bo.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},IT=class extends GE{[sl](){let t;if(this[YE]&&this[il]==="r+")try{t=bo.openSync(this[Wa],this[il],this[VE])}catch(n){if(n.code==="ENOENT")return this[il]="w",this[sl]();throw n}else t=bo.openSync(this[Wa],this[il],this[VE]);this[Yp](null,t)}[Qi](){if(this[Wp]&&typeof this[It]=="number"){let t=this[It];this[It]=null,bo.closeSync(t),this.emit("close")}}[WE](t){let n=!0;try{this[jp](null,bo.writeSync(this[It],t,0,t.length,this[Id])),n=!1}finally{if(n)try{this[Qi]()}catch{}}}};wv.ReadStream=zE;wv.ReadStreamSync=DT;wv.WriteStream=GE;wv.WriteStreamSync=IT});var tC=O((zbe,uj)=>{"use strict";var xte=IE(),tj=Op(),wte=require("events"),yte=uT(),Ete=1024*1024,Cte=_E(),nj=DE(),rj=BP(),{nextTick:bte}=require("process"),PT=Buffer.from([31,139]),Ei=Symbol("state"),Pd=Symbol("writeEntry"),Ya=Symbol("readEntry"),TT=Symbol("nextEntry"),oj=Symbol("processEntry"),Ci=Symbol("extendedHeader"),yv=Symbol("globalExtendedHeader"),al=Symbol("meta"),ij=Symbol("emitMeta"),Ft=Symbol("buffer"),Va=Symbol("queue"),cl=Symbol("ended"),sj=Symbol("emittedEnd"),Td=Symbol("emit"),rr=Symbol("unzip"),KE=Symbol("consumeChunk"),JE=Symbol("consumeChunkSub"),kT=Symbol("consumeBody"),aj=Symbol("consumeMeta"),cj=Symbol("consumeHeader"),XE=Symbol("consuming"),RT=Symbol("bufferConcat"),NT=Symbol("maybeEnd"),Ev=Symbol("writing"),ll=Symbol("aborted"),ZE=Symbol("onDone"),kd=Symbol("sawValidEntry"),QE=Symbol("sawNullBlock"),eC=Symbol("sawEOF"),lj=Symbol("closeStream"),_te=e=>!0;uj.exports=xte(class extends wte{constructor(t){t=t||{},super(t),this.file=t.file||"",this[kd]=null,this.on(ZE,r=>{(this[Ei]==="begin"||this[kd]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(ZE,t.ondone):this.on(ZE,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||Ete,this.filter=typeof t.filter=="function"?t.filter:_te;let n=t.file&&(t.file.endsWith(".tar.br")||t.file.endsWith(".tbr"));this.brotli=!t.gzip&&t.brotli!==void 0?t.brotli:n?void 0:!1,this.writable=!0,this.readable=!1,this[Va]=new yte,this[Ft]=null,this[Ya]=null,this[Pd]=null,this[Ei]="begin",this[al]="",this[Ci]=null,this[yv]=null,this[cl]=!1,this[rr]=null,this[ll]=!1,this[QE]=!1,this[eC]=!1,this.on("end",()=>this[lj]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[cj](t,n){this[kd]===null&&(this[kd]=!1);let r;try{r=new tj(t,n,this[Ci],this[yv])}catch(o){return this.warn("TAR_ENTRY_INVALID",o)}if(r.nullBlock)this[QE]?(this[eC]=!0,this[Ei]==="begin"&&(this[Ei]="header"),this[Td]("eof")):(this[QE]=!0,this[Td]("nullBlock"));else if(this[QE]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let o=r.type;if(/^(Symbolic)?Link$/.test(o)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(o)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let i=this[Pd]=new Cte(r,this[Ci],this[yv]);if(!this[kd])if(i.remain){let s=()=>{i.invalid||(this[kd]=!0)};i.on("end",s)}else this[kd]=!0;i.meta?i.size>this.maxMetaEntrySize?(i.ignore=!0,this[Td]("ignoredEntry",i),this[Ei]="ignore",i.resume()):i.size>0&&(this[al]="",i.on("data",s=>this[al]+=s),this[Ei]="meta"):(this[Ci]=null,i.ignore=i.ignore||!this.filter(i.path,i),i.ignore?(this[Td]("ignoredEntry",i),this[Ei]=i.remain?"ignore":"header",i.resume()):(i.remain?this[Ei]="body":(this[Ei]="header",i.end()),this[Ya]?this[Va].push(i):(this[Va].push(i),this[TT]())))}}}[lj](){bte(()=>this.emit("close"))}[oj](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Ya]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[TT]()),n=!1)):(this[Ya]=null,n=!1),n}[TT](){do;while(this[oj](this[Va].shift()));if(!this[Va].length){let t=this[Ya];!t||t.flowing||t.size===t.remain?this[Ev]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[kT](t,n){let r=this[Pd],o=r.blockRemain,i=o>=t.length&&n===0?t:t.slice(n,n+o);return r.write(i),r.blockRemain||(this[Ei]="header",this[Pd]=null,r.end()),i.length}[aj](t,n){let r=this[Pd],o=this[kT](t,n);return this[Pd]||this[ij](r),o}[Td](t,n,r){!this[Va].length&&!this[Ya]?this.emit(t,n,r):this[Va].push([t,n,r])}[ij](t){switch(this[Td]("meta",this[al]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[Ci]=nj.parse(this[al],this[Ci],!1);break;case"GlobalExtendedHeader":this[yv]=nj.parse(this[al],this[yv],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Ci]=this[Ci]||Object.create(null),this[Ci].path=this[al].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Ci]=this[Ci]||Object.create(null),this[Ci].linkpath=this[al].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[ll]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[ll])return;if((this[rr]===null||this.brotli===void 0&&this[rr]===!1)&&t){if(this[Ft]&&(t=Buffer.concat([this[Ft],t]),this[Ft]=null),t.length<PT.length)return this[Ft]=t,!0;for(let i=0;this[rr]===null&&i<PT.length;i++)t[i]!==PT[i]&&(this[rr]=!1);let o=this.brotli===void 0;if(this[rr]===!1&&o)if(t.length<512)if(this[cl])this.brotli=!0;else return this[Ft]=t,!0;else try{new tj(t.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[rr]===null||this[rr]===!1&&this.brotli){let i=this[cl];this[cl]=!1,this[rr]=this[rr]===null?new rj.Unzip:new rj.BrotliDecompress,this[rr].on("data",a=>this[KE](a)),this[rr].on("error",a=>this.abort(a)),this[rr].on("end",a=>{this[cl]=!0,this[KE]()}),this[Ev]=!0;let s=this[rr][i?"end":"write"](t);return this[Ev]=!1,s}}this[Ev]=!0,this[rr]?this[rr].write(t):this[KE](t),this[Ev]=!1;let r=this[Va].length?!1:this[Ya]?this[Ya].flowing:!0;return!r&&!this[Va].length&&this[Ya].once("drain",o=>this.emit("drain")),r}[RT](t){t&&!this[ll]&&(this[Ft]=this[Ft]?Buffer.concat([this[Ft],t]):t)}[NT](){if(this[cl]&&!this[sj]&&!this[ll]&&!this[XE]){this[sj]=!0;let t=this[Pd];if(t&&t.blockRemain){let n=this[Ft]?this[Ft].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Ft]&&t.write(this[Ft]),t.end()}this[Td](ZE)}}[KE](t){if(this[XE])this[RT](t);else if(!t&&!this[Ft])this[NT]();else{if(this[XE]=!0,this[Ft]){this[RT](t);let n=this[Ft];this[Ft]=null,this[JE](n)}else this[JE](t);for(;this[Ft]&&this[Ft].length>=512&&!this[ll]&&!this[eC];){let n=this[Ft];this[Ft]=null,this[JE](n)}this[XE]=!1}(!this[Ft]||this[cl])&&this[NT]()}[JE](t){let n=0,r=t.length;for(;n+512<=r&&!this[ll]&&!this[eC];)switch(this[Ei]){case"begin":case"header":this[cj](t,n),n+=512;break;case"ignore":case"body":n+=this[kT](t,n);break;case"meta":n+=this[aj](t,n);break;default:throw new Error("invalid state: "+this[Ei])}n<r&&(this[Ft]?this[Ft]=Buffer.concat([t.slice(n),this[Ft]]):this[Ft]=t.slice(n))}end(t){this[ll]||(this[rr]?this[rr].end(t):(this[cl]=!0,this.brotli===void 0&&(t=t||Buffer.alloc(0)),this.write(t)))}})});var nC=O((Gbe,mj)=>{"use strict";var Ste=Tp(),fj=tC(),zp=require("fs"),Dte=Vp(),dj=require("path"),LT=Up();mj.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=Ste(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&Pte(r,t),r.noResume||Ite(r),r.file&&r.sync?Tte(r):r.file?kte(r,n):pj(r)};var Ite=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},Pte=(e,t)=>{let n=new Map(t.map(i=>[LT(i),!0])),r=e.filter,o=(i,s)=>{let a=s||dj.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(dj.dirname(i),a);return n.set(i,c),c};e.filter=r?(i,s)=>r(i,s)&&o(LT(i)):i=>o(LT(i))},Tte=e=>{let t=pj(e),n=e.file,r=!0,o;try{let i=zp.statSync(n),s=e.maxReadSize||16*1024*1024;if(i.size<s)t.end(zp.readFileSync(n));else{let a=0,c=Buffer.allocUnsafe(s);for(o=zp.openSync(n,"r");a<i.size;){let l=zp.readSync(o,c,0,s,a);a+=l,t.write(c.slice(0,l))}t.end()}r=!1}finally{if(r&&o)try{zp.closeSync(o)}catch{}}},kte=(e,t)=>{let n=new fj(e),r=e.maxReadSize||16*1024*1024,o=e.file,i=new Promise((s,a)=>{n.on("error",a),n.on("end",s),zp.stat(o,(c,l)=>{if(c)a(c);else{let u=new Dte.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return t?i.then(t,t):i},pj=e=>new fj(e)});var yj=O((Kbe,wj)=>{"use strict";var Rte=Tp(),rC=HE(),hj=Vp(),gj=nC(),vj=require("path");wj.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=Rte(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?Nte(r,t):r.file?Lte(r,t,n):r.sync?Ate(r,t):Fte(r,t)};var Nte=(e,t)=>{let n=new rC.Sync(e),r=new hj.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),xj(n,t)},Lte=(e,t,n)=>{let r=new rC(e),o=new hj.WriteStream(e.file,{mode:e.mode||438});r.pipe(o);let i=new Promise((s,a)=>{o.on("error",a),o.on("close",s),r.on("error",a)});return AT(r,t),n?i.then(n,n):i},xj=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?gj({file:vj.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},AT=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return gj({file:vj.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>AT(e,t));e.add(n)}e.end()},Ate=(e,t)=>{let n=new rC.Sync(e);return xj(n,t),n},Fte=(e,t)=>{let n=new rC(e);return AT(n,t),n}});var FT=O((Jbe,Ij)=>{"use strict";var Ote=Tp(),Ej=HE(),Xo=require("fs"),Cj=Vp(),bj=nC(),_j=require("path"),Sj=Op();Ij.exports=(e,t,n)=>{let r=Ote(e);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?Ute(r,t):$te(r,t,n)};var Ute=(e,t)=>{let n=new Ej.Sync(e),r=!0,o,i;try{try{o=Xo.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")o=Xo.openSync(e.file,"w+");else throw c}let s=Xo.fstatSync(o),a=Buffer.alloc(512);e:for(i=0;i<s.size;i+=512){for(let u=0,d=0;u<512;u+=d){if(d=Xo.readSync(o,a,u,a.length-u,i+u),i===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new Sj(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(i+l+512>s.size)break;i+=l,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}r=!1,Mte(e,n,i,o,t)}finally{if(r)try{Xo.closeSync(o)}catch{}}},Mte=(e,t,n,r,o)=>{let i=new Cj.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(i),jte(t,o)},$te=(e,t,n)=>{t=Array.from(t);let r=new Ej(e),o=(s,a,c)=>{let l=(m,h)=>{m?Xo.close(s,v=>c(m)):c(null,h)},u=0;if(a===0)return l(null,0);let d=0,p=Buffer.alloc(512),f=(m,h)=>{if(m)return l(m);if(d+=h,d<512&&h)return Xo.read(s,p,d,p.length-d,u+d,f);if(u===0&&p[0]===31&&p[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let v=new Sj(p);if(!v.cksumValid)return l(null,u);let g=512*Math.ceil(v.size/512);if(u+g+512>a||(u+=g+512,u>=a))return l(null,u);e.mtimeCache&&e.mtimeCache.set(v.path,v.mtime),d=0,Xo.read(s,p,0,512,u,f)};Xo.read(s,p,0,512,u,f)},i=new Promise((s,a)=>{r.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Xo.open(e.file,c,l);if(u)return a(u);Xo.fstat(d,(p,f)=>{if(p)return Xo.close(d,()=>a(p));o(d,f.size,(m,h)=>{if(m)return a(m);let v=new Cj.WriteStream(e.file,{fd:d,start:h});r.pipe(v),v.on("error",a),v.on("close",s),Dj(r,t)})})};Xo.open(e.file,c,l)});return n?i.then(n,n):i},jte=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?bj({file:_j.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},Dj=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return bj({file:_j.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>Dj(e,t));e.add(n)}e.end()}});var Tj=O((Xbe,Pj)=>{"use strict";var Hte=Tp(),Bte=FT();Pj.exports=(e,t,n)=>{let r=Hte(e);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),qte(r),Bte(r,t,n)};var qte=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var Nj=O((Zbe,Rj)=>{var{promisify:kj}=require("util"),ul=require("fs"),Wte=e=>{if(!e)e={mode:511,fs:ul};else if(typeof e=="object")e={mode:511,fs:ul,...e};else if(typeof e=="number")e={mode:e,fs:ul};else if(typeof e=="string")e={mode:parseInt(e,8),fs:ul};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||ul.mkdir,e.mkdirAsync=kj(e.mkdir),e.stat=e.stat||e.fs.stat||ul.stat,e.statAsync=kj(e.stat),e.statSync=e.statSync||e.fs.statSync||ul.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||ul.mkdirSync,e};Rj.exports=Wte});var Aj=O((Qbe,Lj)=>{var Yte=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Vte,parse:zte}=require("path"),Gte=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=Vte(e),Yte==="win32"){let t=/[*|"<>?:]/,{root:n}=zte(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};Lj.exports=Gte});var $j=O((e_e,Mj)=>{var{dirname:Fj}=require("path"),Oj=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?Oj(e,Fj(t),t):void 0),Uj=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?Uj(e,Fj(t),t):void 0}};Mj.exports={findMade:Oj,findMadeSync:Uj}});var MT=O((t_e,Hj)=>{var{dirname:jj}=require("path"),OT=(e,t,n)=>{t.recursive=!1;let r=jj(e);return r===e?t.mkdirAsync(e,t).catch(o=>{if(o.code!=="EISDIR")throw o}):t.mkdirAsync(e,t).then(()=>n||e,o=>{if(o.code==="ENOENT")return OT(r,t).then(i=>OT(e,t,i));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;return t.statAsync(e).then(i=>{if(i.isDirectory())return n;throw o},()=>{throw o})})},UT=(e,t,n)=>{let r=jj(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(o){if(o.code!=="EISDIR")throw o;return}try{return t.mkdirSync(e,t),n||e}catch(o){if(o.code==="ENOENT")return UT(e,t,UT(r,t,n));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(!t.statSync(e).isDirectory())throw o}catch{throw o}}};Hj.exports={mkdirpManual:OT,mkdirpManualSync:UT}});var Wj=O((n_e,qj)=>{var{dirname:Bj}=require("path"),{findMade:Kte,findMadeSync:Jte}=$j(),{mkdirpManual:Xte,mkdirpManualSync:Zte}=MT(),Qte=(e,t)=>(t.recursive=!0,Bj(e)===e?t.mkdirAsync(e,t):Kte(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(o=>{if(o.code==="ENOENT")return Xte(e,t);throw o}))),ene=(e,t)=>{if(t.recursive=!0,Bj(e)===e)return t.mkdirSync(e,t);let r=Jte(t,e);try{return t.mkdirSync(e,t),r}catch(o){if(o.code==="ENOENT")return Zte(e,t);throw o}};qj.exports={mkdirpNative:Qte,mkdirpNativeSync:ene}});var Gj=O((r_e,zj)=>{var Yj=require("fs"),tne=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,$T=tne.replace(/^v/,"").split("."),Vj=+$T[0]>10||+$T[0]==10&&+$T[1]>=12,nne=Vj?e=>e.mkdir===Yj.mkdir:()=>!1,rne=Vj?e=>e.mkdirSync===Yj.mkdirSync:()=>!1;zj.exports={useNative:nne,useNativeSync:rne}});var e2=O((o_e,Qj)=>{var Gp=Nj(),Kp=Aj(),{mkdirpNative:Kj,mkdirpNativeSync:Jj}=Wj(),{mkdirpManual:Xj,mkdirpManualSync:Zj}=MT(),{useNative:one,useNativeSync:ine}=Gj(),Jp=(e,t)=>(e=Kp(e),t=Gp(t),one(t)?Kj(e,t):Xj(e,t)),sne=(e,t)=>(e=Kp(e),t=Gp(t),ine(t)?Jj(e,t):Zj(e,t));Jp.sync=sne;Jp.native=(e,t)=>Kj(Kp(e),Gp(t));Jp.manual=(e,t)=>Xj(Kp(e),Gp(t));Jp.nativeSync=(e,t)=>Jj(Kp(e),Gp(t));Jp.manualSync=(e,t)=>Zj(Kp(e),Gp(t));Qj.exports=Jp});var a2=O((i_e,s2)=>{"use strict";var bi=require("fs"),Rd=require("path"),ane=bi.lchown?"lchown":"chown",cne=bi.lchownSync?"lchownSync":"chownSync",n2=bi.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),t2=(e,t,n)=>{try{return bi[cne](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},lne=(e,t,n)=>{try{return bi.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},une=n2?(e,t,n,r)=>o=>{!o||o.code!=="EISDIR"?r(o):bi.chown(e,t,n,r)}:(e,t,n,r)=>r,jT=n2?(e,t,n)=>{try{return t2(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;lne(e,t,n)}}:(e,t,n)=>t2(e,t,n),dne=process.version,r2=(e,t,n)=>bi.readdir(e,t,n),fne=(e,t)=>bi.readdirSync(e,t);/^v4\./.test(dne)&&(r2=(e,t,n)=>bi.readdir(e,n));var oC=(e,t,n,r)=>{bi[ane](e,t,n,une(e,t,n,o=>{r(o&&o.code!=="ENOENT"?o:null)}))},o2=(e,t,n,r,o)=>{if(typeof t=="string")return bi.lstat(Rd.resolve(e,t),(i,s)=>{if(i)return o(i.code!=="ENOENT"?i:null);s.name=t,o2(e,s,n,r,o)});if(t.isDirectory())HT(Rd.resolve(e,t.name),n,r,i=>{if(i)return o(i);let s=Rd.resolve(e,t.name);oC(s,n,r,o)});else{let i=Rd.resolve(e,t.name);oC(i,n,r,o)}},HT=(e,t,n,r)=>{r2(e,{withFileTypes:!0},(o,i)=>{if(o){if(o.code==="ENOENT")return r();if(o.code!=="ENOTDIR"&&o.code!=="ENOTSUP")return r(o)}if(o||!i.length)return oC(e,t,n,r);let s=i.length,a=null,c=l=>{if(!a){if(l)return r(a=l);if(--s===0)return oC(e,t,n,r)}};i.forEach(l=>o2(e,l,t,n,c))})},pne=(e,t,n,r)=>{if(typeof t=="string")try{let o=bi.lstatSync(Rd.resolve(e,t));o.name=t,t=o}catch(o){if(o.code==="ENOENT")return;throw o}t.isDirectory()&&i2(Rd.resolve(e,t.name),n,r),jT(Rd.resolve(e,t.name),n,r)},i2=(e,t,n)=>{let r;try{r=fne(e,{withFileTypes:!0})}catch(o){if(o.code==="ENOENT")return;if(o.code==="ENOTDIR"||o.code==="ENOTSUP")return jT(e,t,n);throw o}return r&&r.length&&r.forEach(o=>pne(e,o,t,n)),jT(e,t,n)};s2.exports=HT;HT.sync=i2});var d2=O((s_e,BT)=>{"use strict";var c2=e2(),_i=require("fs"),iC=require("path"),l2=a2(),es=Ap(),sC=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},aC=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},cC=(e,t)=>e.get(es(t)),Cv=(e,t,n)=>e.set(es(t),n),mne=(e,t)=>{_i.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new aC(e,n&&n.code||"ENOTDIR")),t(n)})};BT.exports=(e,t,n)=>{e=es(e);let r=t.umask,o=t.mode|448,i=(o&r)!==0,s=t.uid,a=t.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),l=t.preserve,u=t.unlink,d=t.cache,p=es(t.cwd),f=(v,g)=>{v?n(v):(Cv(d,e,!0),g&&c?l2(g,s,a,y=>f(y)):i?_i.chmod(e,o,n):n())};if(d&&cC(d,e)===!0)return f();if(e===p)return mne(e,f);if(l)return c2(e,{mode:o}).then(v=>f(null,v),f);let h=es(iC.relative(p,e)).split("/");lC(p,h,o,d,u,p,null,f)};var lC=(e,t,n,r,o,i,s,a)=>{if(!t.length)return a(null,s);let c=t.shift(),l=es(iC.resolve(e+"/"+c));if(cC(r,l))return lC(l,t,n,r,o,i,s,a);_i.mkdir(l,n,u2(l,t,n,r,o,i,s,a))},u2=(e,t,n,r,o,i,s,a)=>c=>{c?_i.lstat(e,(l,u)=>{if(l)l.path=l.path&&es(l.path),a(l);else if(u.isDirectory())lC(e,t,n,r,o,i,s,a);else if(o)_i.unlink(e,d=>{if(d)return a(d);_i.mkdir(e,n,u2(e,t,n,r,o,i,s,a))});else{if(u.isSymbolicLink())return a(new sC(e,e+"/"+t.join("/")));a(c)}}):(s=s||e,lC(e,t,n,r,o,i,s,a))},hne=e=>{let t=!1,n="ENOTDIR";try{t=_i.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new aC(e,n)}};BT.exports.sync=(e,t)=>{e=es(e);let n=t.umask,r=t.mode|448,o=(r&n)!==0,i=t.uid,s=t.gid,a=typeof i=="number"&&typeof s=="number"&&(i!==t.processUid||s!==t.processGid),c=t.preserve,l=t.unlink,u=t.cache,d=es(t.cwd),p=v=>{Cv(u,e,!0),v&&a&&l2.sync(v,i,s),o&&_i.chmodSync(e,r)};if(u&&cC(u,e)===!0)return p();if(e===d)return hne(d),p();if(c)return p(c2.sync(e,r));let m=es(iC.relative(d,e)).split("/"),h=null;for(let v=m.shift(),g=d;v&&(g+="/"+v);v=m.shift())if(g=es(iC.resolve(g)),!cC(u,g))try{_i.mkdirSync(g,r),h=h||g,Cv(u,g,!0)}catch{let x=_i.lstatSync(g);if(x.isDirectory()){Cv(u,g,!0);continue}else if(l){_i.unlinkSync(g),_i.mkdirSync(g,r),h=h||g,Cv(u,g,!0);continue}else if(x.isSymbolicLink())return new sC(g,g+"/"+m.join("/"))}return p(h)}});var WT=O((a_e,f2)=>{var qT=Object.create(null),{hasOwnProperty:gne}=Object.prototype;f2.exports=e=>(gne.call(qT,e)||(qT[e]=e.normalize("NFD")),qT[e])});var g2=O((c_e,h2)=>{var p2=require("assert"),vne=WT(),xne=Up(),{join:m2}=require("path"),wne=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,yne=wne==="win32";h2.exports=()=>{let e=new Map,t=new Map,n=l=>l.split("/").slice(0,-1).reduce((d,p)=>(d.length&&(p=m2(d[d.length-1],p)),d.push(p||"/"),d),[]),r=new Set,o=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>e.get(d)),dirs:[...u.dirs].map(d=>e.get(d))}},i=l=>{let{paths:u,dirs:d}=o(l);return u.every(p=>p[0]===l)&&d.every(p=>p[0]instanceof Set&&p[0].has(l))},s=l=>r.has(l)||!i(l)?!1:(r.add(l),l(()=>a(l)),!0),a=l=>{if(!r.has(l))return!1;let{paths:u,dirs:d}=t.get(l),p=new Set;return u.forEach(f=>{let m=e.get(f);p2.equal(m[0],l),m.length===1?e.delete(f):(m.shift(),typeof m[0]=="function"?p.add(m[0]):m[0].forEach(h=>p.add(h)))}),d.forEach(f=>{let m=e.get(f);p2(m[0]instanceof Set),m[0].size===1&&m.length===1?e.delete(f):m[0].size===1?(m.shift(),p.add(m[0])):m[0].delete(l)}),r.delete(l),p.forEach(f=>s(f)),!0};return{check:i,reserve:(l,u)=>{l=yne?["win32 parallelization disabled"]:l.map(p=>xne(m2(vne(p))).toLowerCase());let d=new Set(l.map(p=>n(p)).reduce((p,f)=>p.concat(f)));return t.set(u,{dirs:d,paths:l}),l.forEach(p=>{let f=e.get(p);f?f.push(u):e.set(p,[u])}),d.forEach(p=>{let f=e.get(p);f?f[f.length-1]instanceof Set?f[f.length-1].add(u):f.push(new Set([u])):e.set(p,[new Set([u])])}),s(u)}}}});var w2=O((l_e,x2)=>{var Ene=process.env.__FAKE_PLATFORM__||process.platform,Cne=Ene==="win32",bne=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:_ne,O_TRUNC:Sne,O_WRONLY:Dne,UV_FS_O_FILEMAP:v2=0}=bne.constants,Ine=Cne&&!!v2,Pne=512*1024,Tne=v2|Sne|_ne|Dne;x2.exports=Ine?e=>e<Pne?Tne:"w":()=>"w"});var QT=O((u_e,L2)=>{"use strict";var kne=require("assert"),Rne=tC(),vt=require("fs"),Nne=Vp(),za=require("path"),k2=d2(),y2=ZP(),Lne=g2(),Ane=QP(),Si=Ap(),Fne=Up(),One=WT(),E2=Symbol("onEntry"),zT=Symbol("checkFs"),C2=Symbol("checkFs2"),fC=Symbol("pruneCache"),GT=Symbol("isReusable"),Di=Symbol("makeFs"),KT=Symbol("file"),JT=Symbol("directory"),pC=Symbol("link"),b2=Symbol("symlink"),_2=Symbol("hardlink"),S2=Symbol("unsupported"),D2=Symbol("checkPath"),dl=Symbol("mkdir"),Or=Symbol("onError"),uC=Symbol("pending"),I2=Symbol("pend"),Xp=Symbol("unpend"),YT=Symbol("ended"),VT=Symbol("maybeClose"),XT=Symbol("skip"),bv=Symbol("doChown"),_v=Symbol("uid"),Sv=Symbol("gid"),Dv=Symbol("checkedCwd"),R2=require("crypto"),N2=w2(),Une=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Iv=Une==="win32",Mne=1024,$ne=(e,t)=>{if(!Iv)return vt.unlink(e,t);let n=e+".DELETE."+R2.randomBytes(16).toString("hex");vt.rename(e,n,r=>{if(r)return t(r);vt.unlink(n,t)})},jne=e=>{if(!Iv)return vt.unlinkSync(e);let t=e+".DELETE."+R2.randomBytes(16).toString("hex");vt.renameSync(e,t),vt.unlinkSync(t)},P2=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,T2=e=>Fne(Si(One(e))).toLowerCase(),Hne=(e,t)=>{t=T2(t);for(let n of e.keys()){let r=T2(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},Bne=e=>{for(let t of e.keys())e.delete(t)},Pv=class extends Rne{constructor(t){if(t||(t={}),t.ondone=n=>{this[YT]=!0,this[VT]()},super(t),this[Dv]=!1,this.reservations=Lne(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[uC]=0,this[YT]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof t.maxDepth=="number"?t.maxDepth:Mne,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Iv,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Si(za.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[E2](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[VT](){this[YT]&&this[uC]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[D2](t){let n=Si(t.path),r=n.split("/");if(this.strip){if(r.length<this.strip)return!1;if(t.type==="Link"){let o=Si(t.linkpath).split("/");if(o.length>=this.strip)t.linkpath=o.slice(this.strip).join("/");else return!1}r.splice(0,this.strip),t.path=r.join("/")}if(isFinite(this.maxDepth)&&r.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:t,path:n,depth:r.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(r.includes("..")||Iv&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[o,i]=Ane(n);o&&(t.path=i,this.warn("TAR_ENTRY_INFO",`stripping ${o} from absolute path`,{entry:t,path:n}))}if(za.isAbsolute(t.path)?t.absolute=Si(za.resolve(t.path)):t.absolute=Si(za.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Si(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:o}=za.win32.parse(t.absolute);t.absolute=o+y2.encode(t.absolute.slice(o.length));let{root:i}=za.win32.parse(t.path);t.path=i+y2.encode(t.path.slice(i.length))}return!0}[E2](t){if(!this[D2](t))return t.resume();switch(kne.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[zT](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[S2](t)}}[Or](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[Xp](),n.resume())}[dl](t,n,r){k2(Si(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[bv](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[_v](t){return P2(this.uid,t.uid,this.processUid)}[Sv](t){return P2(this.gid,t.gid,this.processGid)}[KT](t,n){let r=t.mode&4095||this.fmode,o=new Nne.WriteStream(t.absolute,{flags:N2(t.size),mode:r,autoClose:!1});o.on("error",c=>{o.fd&&vt.close(o.fd,()=>{}),o.write=()=>!0,this[Or](c,t),n()});let i=1,s=c=>{if(c){o.fd&&vt.close(o.fd,()=>{}),this[Or](c,t),n();return}--i===0&&vt.close(o.fd,l=>{l?this[Or](l,t):this[Xp](),n()})};o.on("finish",c=>{let l=t.absolute,u=o.fd;if(t.mtime&&!this.noMtime){i++;let d=t.atime||new Date,p=t.mtime;vt.futimes(u,d,p,f=>f?vt.utimes(l,d,p,m=>s(m&&f)):s())}if(this[bv](t)){i++;let d=this[_v](t),p=this[Sv](t);vt.fchown(u,d,p,f=>f?vt.chown(l,d,p,m=>s(m&&f)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[Or](c,t),n()}),t.pipe(a)),a.pipe(o)}[JT](t,n){let r=t.mode&4095||this.dmode;this[dl](t.absolute,r,o=>{if(o){this[Or](o,t),n();return}let i=1,s=a=>{--i===0&&(n(),this[Xp](),t.resume())};t.mtime&&!this.noMtime&&(i++,vt.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[bv](t)&&(i++,vt.chown(t.absolute,this[_v](t),this[Sv](t),s)),s()})}[S2](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[b2](t,n){this[pC](t,t.linkpath,"symlink",n)}[_2](t,n){let r=Si(za.resolve(this.cwd,t.linkpath));this[pC](t,r,"link",n)}[I2](){this[uC]++}[Xp](){this[uC]--,this[VT]()}[XT](t){this[Xp](),t.resume()}[GT](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Iv}[zT](t){this[I2]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[C2](t,r))}[fC](t){t.type==="SymbolicLink"?Bne(this.dirCache):t.type!=="Directory"&&Hne(this.dirCache,t.absolute)}[C2](t,n){this[fC](t);let r=a=>{this[fC](t),n(a)},o=()=>{this[dl](this.cwd,this.dmode,a=>{if(a){this[Or](a,t),r();return}this[Dv]=!0,i()})},i=()=>{if(t.absolute!==this.cwd){let a=Si(za.dirname(t.absolute));if(a!==this.cwd)return this[dl](a,this.dmode,c=>{if(c){this[Or](c,t),r();return}s()})}s()},s=()=>{vt.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[XT](t),r();return}if(a||this[GT](t,c))return this[Di](null,t,r);if(c.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,u=d=>this[Di](d,t,r);return l?vt.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return vt.rmdir(t.absolute,l=>this[Di](l,t,r))}if(t.absolute===this.cwd)return this[Di](null,t,r);$ne(t.absolute,l=>this[Di](l,t,r))})};this[Dv]?i():o()}[Di](t,n,r){if(t){this[Or](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[KT](n,r);case"Link":return this[_2](n,r);case"SymbolicLink":return this[b2](n,r);case"Directory":case"GNUDumpDir":return this[JT](n,r)}}[pC](t,n,r,o){vt[r](n,t.absolute,i=>{i?this[Or](i,t):(this[Xp](),t.resume()),o()})}},dC=e=>{try{return[null,e()]}catch(t){return[t,null]}},ZT=class extends Pv{[Di](t,n){return super[Di](t,n,()=>{})}[zT](t){if(this[fC](t),!this[Dv]){let i=this[dl](this.cwd,this.dmode);if(i)return this[Or](i,t);this[Dv]=!0}if(t.absolute!==this.cwd){let i=Si(za.dirname(t.absolute));if(i!==this.cwd){let s=this[dl](i,this.dmode);if(s)return this[Or](s,t)}}let[n,r]=dC(()=>vt.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[XT](t);if(n||this[GT](t,r))return this[Di](null,t);if(r.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[a]=s?dC(()=>{vt.chmodSync(t.absolute,t.mode)}):[];return this[Di](a,t)}let[i]=dC(()=>vt.rmdirSync(t.absolute));this[Di](i,t)}let[o]=t.absolute===this.cwd?[]:dC(()=>jne(t.absolute));this[Di](o,t)}[KT](t,n){let r=t.mode&4095||this.fmode,o=a=>{let c;try{vt.closeSync(i)}catch(l){c=l}(a||c)&&this[Or](a||c,t),n()},i;try{i=vt.openSync(t.absolute,N2(t.size),r)}catch(a){return o(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[Or](a,t)),t.pipe(s)),s.on("data",a=>{try{vt.writeSync(i,a,0,a.length)}catch(c){o(c)}}),s.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{vt.futimesSync(i,l,u)}catch(d){try{vt.utimesSync(t.absolute,l,u)}catch{c=d}}}if(this[bv](t)){let l=this[_v](t),u=this[Sv](t);try{vt.fchownSync(i,l,u)}catch(d){try{vt.chownSync(t.absolute,l,u)}catch{c=c||d}}}o(c)})}[JT](t,n){let r=t.mode&4095||this.dmode,o=this[dl](t.absolute,r);if(o){this[Or](o,t),n();return}if(t.mtime&&!this.noMtime)try{vt.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[bv](t))try{vt.chownSync(t.absolute,this[_v](t),this[Sv](t))}catch{}n(),t.resume()}[dl](t,n){try{return k2.sync(Si(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[pC](t,n,r,o){try{vt[r+"Sync"](n,t.absolute),o(),t.resume()}catch(i){return this[Or](i,t)}}};Pv.Sync=ZT;L2.exports=Pv});var M2=O((d_e,U2)=>{"use strict";var qne=Tp(),mC=QT(),F2=require("fs"),O2=Vp(),A2=require("path"),ek=Up();U2.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=qne(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&Wne(r,t),r.file&&r.sync?Yne(r):r.file?Vne(r,n):r.sync?zne(r):Gne(r)};var Wne=(e,t)=>{let n=new Map(t.map(i=>[ek(i),!0])),r=e.filter,o=(i,s)=>{let a=s||A2.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(A2.dirname(i),a);return n.set(i,c),c};e.filter=r?(i,s)=>r(i,s)&&o(ek(i)):i=>o(ek(i))},Yne=e=>{let t=new mC.Sync(e),n=e.file,r=F2.statSync(n),o=e.maxReadSize||16*1024*1024;new O2.ReadStreamSync(n,{readSize:o,size:r.size}).pipe(t)},Vne=(e,t)=>{let n=new mC(e),r=e.maxReadSize||16*1024*1024,o=e.file,i=new Promise((s,a)=>{n.on("error",a),n.on("close",s),F2.stat(o,(c,l)=>{if(c)a(c);else{let u=new O2.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return t?i.then(t,t):i},zne=e=>new mC.Sync(e),Gne=e=>new mC(e)});var hC=O(Vn=>{"use strict";Vn.c=Vn.create=yj();Vn.r=Vn.replace=FT();Vn.t=Vn.list=nC();Vn.u=Vn.update=Tj();Vn.x=Vn.extract=M2();Vn.Pack=HE();Vn.Unpack=QT();Vn.Parse=tC();Vn.ReadEntry=_E();Vn.WriteEntry=lT();Vn.Header=Op();Vn.Pax=DE();Vn.types=YP()});var Tv=O((p_e,$2)=>{var Kne="2.0.0",Jne=Number.MAX_SAFE_INTEGER||9007199254740991,Xne=16,Zne=256-6,Qne=["major","premajor","minor","preminor","patch","prepatch","prerelease"];$2.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Xne,MAX_SAFE_BUILD_LENGTH:Zne,MAX_SAFE_INTEGER:Jne,RELEASE_TYPES:Qne,SEMVER_SPEC_VERSION:Kne,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var kv=O((m_e,j2)=>{var ere=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};j2.exports=ere});var Zp=O((Ga,H2)=>{var{MAX_SAFE_COMPONENT_LENGTH:tk,MAX_SAFE_BUILD_LENGTH:tre,MAX_LENGTH:nre}=Tv(),rre=kv();Ga=H2.exports={};var ore=Ga.re=[],ire=Ga.safeRe=[],ve=Ga.src=[],xe=Ga.t={},sre=0,nk="[a-zA-Z0-9-]",are=[["\\s",1],["\\d",nre],[nk,tre]],cre=e=>{for(let[t,n]of are)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},Ve=(e,t,n)=>{let r=cre(t),o=sre++;rre(e,o,t),xe[e]=o,ve[o]=t,ore[o]=new RegExp(t,n?"g":void 0),ire[o]=new RegExp(r,n?"g":void 0)};Ve("NUMERICIDENTIFIER","0|[1-9]\\d*");Ve("NUMERICIDENTIFIERLOOSE","\\d+");Ve("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${nk}*`);Ve("MAINVERSION",`(${ve[xe.NUMERICIDENTIFIER]})\\.(${ve[xe.NUMERICIDENTIFIER]})\\.(${ve[xe.NUMERICIDENTIFIER]})`);Ve("MAINVERSIONLOOSE",`(${ve[xe.NUMERICIDENTIFIERLOOSE]})\\.(${ve[xe.NUMERICIDENTIFIERLOOSE]})\\.(${ve[xe.NUMERICIDENTIFIERLOOSE]})`);Ve("PRERELEASEIDENTIFIER",`(?:${ve[xe.NUMERICIDENTIFIER]}|${ve[xe.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASEIDENTIFIERLOOSE",`(?:${ve[xe.NUMERICIDENTIFIERLOOSE]}|${ve[xe.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASE",`(?:-(${ve[xe.PRERELEASEIDENTIFIER]}(?:\\.${ve[xe.PRERELEASEIDENTIFIER]})*))`);Ve("PRERELEASELOOSE",`(?:-?(${ve[xe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ve[xe.PRERELEASEIDENTIFIERLOOSE]})*))`);Ve("BUILDIDENTIFIER",`${nk}+`);Ve("BUILD",`(?:\\+(${ve[xe.BUILDIDENTIFIER]}(?:\\.${ve[xe.BUILDIDENTIFIER]})*))`);Ve("FULLPLAIN",`v?${ve[xe.MAINVERSION]}${ve[xe.PRERELEASE]}?${ve[xe.BUILD]}?`);Ve("FULL",`^${ve[xe.FULLPLAIN]}$`);Ve("LOOSEPLAIN",`[v=\\s]*${ve[xe.MAINVERSIONLOOSE]}${ve[xe.PRERELEASELOOSE]}?${ve[xe.BUILD]}?`);Ve("LOOSE",`^${ve[xe.LOOSEPLAIN]}$`);Ve("GTLT","((?:<|>)?=?)");Ve("XRANGEIDENTIFIERLOOSE",`${ve[xe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ve("XRANGEIDENTIFIER",`${ve[xe.NUMERICIDENTIFIER]}|x|X|\\*`);Ve("XRANGEPLAIN",`[v=\\s]*(${ve[xe.XRANGEIDENTIFIER]})(?:\\.(${ve[xe.XRANGEIDENTIFIER]})(?:\\.(${ve[xe.XRANGEIDENTIFIER]})(?:${ve[xe.PRERELEASE]})?${ve[xe.BUILD]}?)?)?`);Ve("XRANGEPLAINLOOSE",`[v=\\s]*(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:${ve[xe.PRERELEASELOOSE]})?${ve[xe.BUILD]}?)?)?`);Ve("XRANGE",`^${ve[xe.GTLT]}\\s*${ve[xe.XRANGEPLAIN]}$`);Ve("XRANGELOOSE",`^${ve[xe.GTLT]}\\s*${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("COERCEPLAIN",`(^|[^\\d])(\\d{1,${tk}})(?:\\.(\\d{1,${tk}}))?(?:\\.(\\d{1,${tk}}))?`);Ve("COERCE",`${ve[xe.COERCEPLAIN]}(?:$|[^\\d])`);Ve("COERCEFULL",ve[xe.COERCEPLAIN]+`(?:${ve[xe.PRERELEASE]})?(?:${ve[xe.BUILD]})?(?:$|[^\\d])`);Ve("COERCERTL",ve[xe.COERCE],!0);Ve("COERCERTLFULL",ve[xe.COERCEFULL],!0);Ve("LONETILDE","(?:~>?)");Ve("TILDETRIM",`(\\s*)${ve[xe.LONETILDE]}\\s+`,!0);Ga.tildeTrimReplace="$1~";Ve("TILDE",`^${ve[xe.LONETILDE]}${ve[xe.XRANGEPLAIN]}$`);Ve("TILDELOOSE",`^${ve[xe.LONETILDE]}${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("LONECARET","(?:\\^)");Ve("CARETTRIM",`(\\s*)${ve[xe.LONECARET]}\\s+`,!0);Ga.caretTrimReplace="$1^";Ve("CARET",`^${ve[xe.LONECARET]}${ve[xe.XRANGEPLAIN]}$`);Ve("CARETLOOSE",`^${ve[xe.LONECARET]}${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("COMPARATORLOOSE",`^${ve[xe.GTLT]}\\s*(${ve[xe.LOOSEPLAIN]})$|^$`);Ve("COMPARATOR",`^${ve[xe.GTLT]}\\s*(${ve[xe.FULLPLAIN]})$|^$`);Ve("COMPARATORTRIM",`(\\s*)${ve[xe.GTLT]}\\s*(${ve[xe.LOOSEPLAIN]}|${ve[xe.XRANGEPLAIN]})`,!0);Ga.comparatorTrimReplace="$1$2$3";Ve("HYPHENRANGE",`^\\s*(${ve[xe.XRANGEPLAIN]})\\s+-\\s+(${ve[xe.XRANGEPLAIN]})\\s*$`);Ve("HYPHENRANGELOOSE",`^\\s*(${ve[xe.XRANGEPLAINLOOSE]})\\s+-\\s+(${ve[xe.XRANGEPLAINLOOSE]})\\s*$`);Ve("STAR","(<|>)?=?\\s*\\*");Ve("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ve("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var gC=O((h_e,B2)=>{var lre=Object.freeze({loose:!0}),ure=Object.freeze({}),dre=e=>e?typeof e!="object"?lre:e:ure;B2.exports=dre});var rk=O((g_e,Y2)=>{var q2=/^[0-9]+$/,W2=(e,t)=>{let n=q2.test(e),r=q2.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},fre=(e,t)=>W2(t,e);Y2.exports={compareIdentifiers:W2,rcompareIdentifiers:fre}});var Ur=O((v_e,K2)=>{var vC=kv(),{MAX_LENGTH:V2,MAX_SAFE_INTEGER:xC}=Tv(),{safeRe:z2,t:G2}=Zp(),pre=gC(),{compareIdentifiers:Qp}=rk(),ok=class e{constructor(t,n){if(n=pre(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>V2)throw new TypeError(`version is longer than ${V2} characters`);vC("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?z2[G2.LOOSE]:z2[G2.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>xC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xC||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<xC)return i}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(vC("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Qp(this.major,t.major)||Qp(this.minor,t.minor)||Qp(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=t.prerelease[n];if(vC("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Qp(r,o)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{let r=this.build[n],o=t.build[n];if(vC("build compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Qp(r,o)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let i=[n,o];r===!1&&(i=[n]),Qp(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};K2.exports=ok});var Nd=O((x_e,X2)=>{var J2=Ur(),mre=(e,t,n=!1)=>{if(e instanceof J2)return e;try{return new J2(e,t)}catch(r){if(!n)return null;throw r}};X2.exports=mre});var Q2=O((w_e,Z2)=>{var hre=Nd(),gre=(e,t)=>{let n=hre(e,t);return n?n.version:null};Z2.exports=gre});var tH=O((y_e,eH)=>{var vre=Nd(),xre=(e,t)=>{let n=vre(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};eH.exports=xre});var oH=O((E_e,rH)=>{var nH=Ur(),wre=(e,t,n,r,o)=>{typeof n=="string"&&(o=r,r=n,n=void 0);try{return new nH(e instanceof nH?e.version:e,n).inc(t,r,o).version}catch{return null}};rH.exports=wre});var aH=O((C_e,sH)=>{var iH=Nd(),yre=(e,t)=>{let n=iH(e,null,!0),r=iH(t,null,!0),o=n.compare(r);if(o===0)return null;let i=o>0,s=i?n:r,a=i?r:n,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};sH.exports=yre});var lH=O((b_e,cH)=>{var Ere=Ur(),Cre=(e,t)=>new Ere(e,t).major;cH.exports=Cre});var dH=O((__e,uH)=>{var bre=Ur(),_re=(e,t)=>new bre(e,t).minor;uH.exports=_re});var pH=O((S_e,fH)=>{var Sre=Ur(),Dre=(e,t)=>new Sre(e,t).patch;fH.exports=Dre});var hH=O((D_e,mH)=>{var Ire=Nd(),Pre=(e,t)=>{let n=Ire(e,t);return n&&n.prerelease.length?n.prerelease:null};mH.exports=Pre});var Ii=O((I_e,vH)=>{var gH=Ur(),Tre=(e,t,n)=>new gH(e,n).compare(new gH(t,n));vH.exports=Tre});var wH=O((P_e,xH)=>{var kre=Ii(),Rre=(e,t,n)=>kre(t,e,n);xH.exports=Rre});var EH=O((T_e,yH)=>{var Nre=Ii(),Lre=(e,t)=>Nre(e,t,!0);yH.exports=Lre});var wC=O((k_e,bH)=>{var CH=Ur(),Are=(e,t,n)=>{let r=new CH(e,n),o=new CH(t,n);return r.compare(o)||r.compareBuild(o)};bH.exports=Are});var SH=O((R_e,_H)=>{var Fre=wC(),Ore=(e,t)=>e.sort((n,r)=>Fre(n,r,t));_H.exports=Ore});var IH=O((N_e,DH)=>{var Ure=wC(),Mre=(e,t)=>e.sort((n,r)=>Ure(r,n,t));DH.exports=Mre});var Rv=O((L_e,PH)=>{var $re=Ii(),jre=(e,t,n)=>$re(e,t,n)>0;PH.exports=jre});var yC=O((A_e,TH)=>{var Hre=Ii(),Bre=(e,t,n)=>Hre(e,t,n)<0;TH.exports=Bre});var ik=O((F_e,kH)=>{var qre=Ii(),Wre=(e,t,n)=>qre(e,t,n)===0;kH.exports=Wre});var sk=O((O_e,RH)=>{var Yre=Ii(),Vre=(e,t,n)=>Yre(e,t,n)!==0;RH.exports=Vre});var EC=O((U_e,NH)=>{var zre=Ii(),Gre=(e,t,n)=>zre(e,t,n)>=0;NH.exports=Gre});var CC=O((M_e,LH)=>{var Kre=Ii(),Jre=(e,t,n)=>Kre(e,t,n)<=0;LH.exports=Jre});var ak=O(($_e,AH)=>{var Xre=ik(),Zre=sk(),Qre=Rv(),eoe=EC(),toe=yC(),noe=CC(),roe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Xre(e,n,r);case"!=":return Zre(e,n,r);case">":return Qre(e,n,r);case">=":return eoe(e,n,r);case"<":return toe(e,n,r);case"<=":return noe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};AH.exports=roe});var OH=O((j_e,FH)=>{var ooe=Ur(),ioe=Nd(),{safeRe:bC,t:_C}=Zp(),soe=(e,t)=>{if(e instanceof ooe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?bC[_C.COERCEFULL]:bC[_C.COERCE]);else{let c=t.includePrerelease?bC[_C.COERCERTLFULL]:bC[_C.COERCERTL],l;for(;(l=c.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],o=n[3]||"0",i=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",a=t.includePrerelease&&n[6]?`+${n[6]}`:"";return ioe(`${r}.${o}.${i}${s}${a}`,t)};FH.exports=soe});var MH=O((H_e,UH)=>{var ck=class{constructor(){this.max=1e3,this.map=new Map}get(t){let n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(t,n)}return this}};UH.exports=ck});var Pi=O((B_e,BH)=>{var lk=class e{constructor(t,n){if(n=coe(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof uk)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(o=>!jH(o[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&hoe(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let r=((this.options.includePrerelease&&poe)|(this.options.loose&&moe))+":"+t,o=$H.get(r);if(o)return o;let i=this.options.loose,s=i?_o[no.HYPHENRANGELOOSE]:_o[no.HYPHENRANGE];t=t.replace(s,Soe(this.options.includePrerelease)),Bt("hyphen replace",t),t=t.replace(_o[no.COMPARATORTRIM],uoe),Bt("comparator trim",t),t=t.replace(_o[no.TILDETRIM],doe),Bt("tilde trim",t),t=t.replace(_o[no.CARETTRIM],foe),Bt("caret trim",t);let a=t.split(" ").map(d=>goe(d,this.options)).join(" ").split(/\s+/).map(d=>_oe(d,this.options));i&&(a=a.filter(d=>(Bt("loose invalid filter",d,this.options),!!d.match(_o[no.COMPARATORLOOSE])))),Bt("range list",a);let c=new Map,l=a.map(d=>new uk(d,this.options));for(let d of l){if(jH(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return $H.set(r,u),u}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(r=>HH(r,n)&&t.set.some(o=>HH(o,n)&&r.every(i=>o.every(s=>i.intersects(s,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new loe(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Doe(this.set[n],t,this.options))return!0;return!1}};BH.exports=lk;var aoe=MH(),$H=new aoe,coe=gC(),uk=Nv(),Bt=kv(),loe=Ur(),{safeRe:_o,t:no,comparatorTrimReplace:uoe,tildeTrimReplace:doe,caretTrimReplace:foe}=Zp(),{FLAG_INCLUDE_PRERELEASE:poe,FLAG_LOOSE:moe}=Tv(),jH=e=>e.value==="<0.0.0-0",hoe=e=>e.value==="",HH=(e,t)=>{let n=!0,r=e.slice(),o=r.pop();for(;n&&r.length;)n=r.every(i=>o.intersects(i,t)),o=r.pop();return n},goe=(e,t)=>(Bt("comp",e,t),e=woe(e,t),Bt("caret",e),e=voe(e,t),Bt("tildes",e),e=Eoe(e,t),Bt("xrange",e),e=boe(e,t),Bt("stars",e),e),ro=e=>!e||e.toLowerCase()==="x"||e==="*",voe=(e,t)=>e.trim().split(/\s+/).map(n=>xoe(n,t)).join(" "),xoe=(e,t)=>{let n=t.loose?_o[no.TILDELOOSE]:_o[no.TILDE];return e.replace(n,(r,o,i,s,a)=>{Bt("tilde",e,r,o,i,s,a);let c;return ro(o)?c="":ro(i)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:ro(s)?c=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:a?(Bt("replaceTilde pr",a),c=`>=${o}.${i}.${s}-${a} <${o}.${+i+1}.0-0`):c=`>=${o}.${i}.${s} <${o}.${+i+1}.0-0`,Bt("tilde return",c),c})},woe=(e,t)=>e.trim().split(/\s+/).map(n=>yoe(n,t)).join(" "),yoe=(e,t)=>{Bt("caret",e,t);let n=t.loose?_o[no.CARETLOOSE]:_o[no.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(o,i,s,a,c)=>{Bt("caret",e,o,i,s,a,c);let l;return ro(i)?l="":ro(s)?l=`>=${i}.0.0${r} <${+i+1}.0.0-0`:ro(a)?i==="0"?l=`>=${i}.${s}.0${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.0${r} <${+i+1}.0.0-0`:c?(Bt("replaceCaret pr",c),i==="0"?s==="0"?l=`>=${i}.${s}.${a}-${c} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a}-${c} <${+i+1}.0.0-0`):(Bt("no pr"),i==="0"?s==="0"?l=`>=${i}.${s}.${a}${r} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a} <${+i+1}.0.0-0`),Bt("caret return",l),l})},Eoe=(e,t)=>(Bt("replaceXRanges",e,t),e.split(/\s+/).map(n=>Coe(n,t)).join(" ")),Coe=(e,t)=>{e=e.trim();let n=t.loose?_o[no.XRANGELOOSE]:_o[no.XRANGE];return e.replace(n,(r,o,i,s,a,c)=>{Bt("xRange",e,r,o,i,s,a,c);let l=ro(i),u=l||ro(s),d=u||ro(a),p=d;return o==="="&&p&&(o=""),c=t.includePrerelease?"-0":"",l?o===">"||o==="<"?r="<0.0.0-0":r="*":o&&p?(u&&(s=0),a=0,o===">"?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):o==="<="&&(o="<",u?i=+i+1:s=+s+1),o==="<"&&(c="-0"),r=`${o+i}.${s}.${a}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),Bt("xRange return",r),r})},boe=(e,t)=>(Bt("replaceStars",e,t),e.trim().replace(_o[no.STAR],"")),_oe=(e,t)=>(Bt("replaceGTE0",e,t),e.trim().replace(_o[t.includePrerelease?no.GTE0PRE:no.GTE0],"")),Soe=e=>(t,n,r,o,i,s,a,c,l,u,d,p)=>(ro(r)?n="":ro(o)?n=`>=${r}.0.0${e?"-0":""}`:ro(i)?n=`>=${r}.${o}.0${e?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,ro(l)?c="":ro(u)?c=`<${+l+1}.0.0-0`:ro(d)?c=`<${l}.${+u+1}.0-0`:p?c=`<=${l}.${u}.${d}-${p}`:e?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),Doe=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if(Bt(e[r].semver),e[r].semver!==uk.ANY&&e[r].semver.prerelease.length>0){let o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}});var Nv=O((q_e,GH)=>{var Lv=Symbol("SemVer ANY"),pk=class e{static get ANY(){return Lv}constructor(t,n){if(n=qH(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),fk("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Lv?this.value="":this.value=this.operator+this.semver.version,fk("comp",this)}parse(t){let n=this.options.loose?WH[YH.COMPARATORLOOSE]:WH[YH.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new VH(r[2],this.options.loose):this.semver=Lv}toString(){return this.value}test(t){if(fk("Comparator.test",t,this.options.loose),this.semver===Lv||t===Lv)return!0;if(typeof t=="string")try{t=new VH(t,this.options)}catch{return!1}return dk(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new zH(t.value,n).test(this.value):t.operator===""?t.value===""?!0:new zH(this.value,n).test(t.semver):(n=qH(n),n.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||dk(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||dk(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};GH.exports=pk;var qH=gC(),{safeRe:WH,t:YH}=Zp(),dk=ak(),fk=kv(),VH=Ur(),zH=Pi()});var Av=O((W_e,KH)=>{var Ioe=Pi(),Poe=(e,t,n)=>{try{t=new Ioe(t,n)}catch{return!1}return t.test(e)};KH.exports=Poe});var XH=O((Y_e,JH)=>{var Toe=Pi(),koe=(e,t)=>new Toe(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));JH.exports=koe});var QH=O((V_e,ZH)=>{var Roe=Ur(),Noe=Pi(),Loe=(e,t,n)=>{let r=null,o=null,i=null;try{i=new Noe(t,n)}catch{return null}return e.forEach(s=>{i.test(s)&&(!r||o.compare(s)===-1)&&(r=s,o=new Roe(r,n))}),r};ZH.exports=Loe});var tB=O((z_e,eB)=>{var Aoe=Ur(),Foe=Pi(),Ooe=(e,t,n)=>{let r=null,o=null,i=null;try{i=new Foe(t,n)}catch{return null}return e.forEach(s=>{i.test(s)&&(!r||o.compare(s)===1)&&(r=s,o=new Aoe(r,n))}),r};eB.exports=Ooe});var oB=O((G_e,rB)=>{var mk=Ur(),Uoe=Pi(),nB=Rv(),Moe=(e,t)=>{e=new Uoe(e,t);let n=new mk("0.0.0");if(e.test(n)||(n=new mk("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){let o=e.set[r],i=null;o.forEach(s=>{let a=new mk(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||nB(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),i&&(!n||nB(n,i))&&(n=i)}return n&&e.test(n)?n:null};rB.exports=Moe});var sB=O((K_e,iB)=>{var $oe=Pi(),joe=(e,t)=>{try{return new $oe(e,t).range||"*"}catch{return null}};iB.exports=joe});var SC=O((J_e,uB)=>{var Hoe=Ur(),lB=Nv(),{ANY:Boe}=lB,qoe=Pi(),Woe=Av(),aB=Rv(),cB=yC(),Yoe=CC(),Voe=EC(),zoe=(e,t,n,r)=>{e=new Hoe(e,r),t=new qoe(t,r);let o,i,s,a,c;switch(n){case">":o=aB,i=Yoe,s=cB,a=">",c=">=";break;case"<":o=cB,i=Voe,s=aB,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Woe(e,t,r))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],d=null,p=null;if(u.forEach(f=>{f.semver===Boe&&(f=new lB(">=0.0.0")),d=d||f,p=p||f,o(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0};uB.exports=zoe});var fB=O((X_e,dB)=>{var Goe=SC(),Koe=(e,t,n)=>Goe(e,t,">",n);dB.exports=Koe});var mB=O((Z_e,pB)=>{var Joe=SC(),Xoe=(e,t,n)=>Joe(e,t,"<",n);pB.exports=Xoe});var vB=O((Q_e,gB)=>{var hB=Pi(),Zoe=(e,t,n)=>(e=new hB(e,n),t=new hB(t,n),e.intersects(t,n));gB.exports=Zoe});var wB=O((eSe,xB)=>{var Qoe=Av(),eie=Ii();xB.exports=(e,t,n)=>{let r=[],o=null,i=null,s=e.sort((u,d)=>eie(u,d,n));for(let u of s)Qoe(u,t,n)?(i=u,o||(o=u)):(i&&r.push([o,i]),i=null,o=null);o&&r.push([o,null]);let a=[];for(let[u,d]of r)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var SB=O((tSe,_B)=>{var yB=Pi(),gk=Nv(),{ANY:hk}=gk,Fv=Av(),vk=Ii(),tie=(e,t,n={})=>{if(e===t)return!0;e=new yB(e,n),t=new yB(t,n);let r=!1;e:for(let o of e.set){for(let i of t.set){let s=rie(o,i,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},nie=[new gk(">=0.0.0-0")],EB=[new gk(">=0.0.0")],rie=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===hk){if(t.length===1&&t[0].semver===hk)return!0;n.includePrerelease?e=nie:e=EB}if(t.length===1&&t[0].semver===hk){if(n.includePrerelease)return!0;t=EB}let r=new Set,o,i;for(let f of e)f.operator===">"||f.operator===">="?o=CB(o,f,n):f.operator==="<"||f.operator==="<="?i=bB(i,f,n):r.add(f.semver);if(r.size>1)return null;let s;if(o&&i){if(s=vk(o.semver,i.semver,n),s>0)return null;if(s===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let f of r){if(o&&!Fv(f,String(o),n)||i&&!Fv(f,String(i),n))return null;for(let m of t)if(!Fv(f,String(m),n))return!1;return!0}let a,c,l,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of t){if(u=u||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",o){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=CB(o,f,n),a===f&&a!==o)return!1}else if(o.operator===">="&&!Fv(o.semver,String(f),n))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(c=bB(i,f,n),c===f&&c!==i)return!1}else if(i.operator==="<="&&!Fv(i.semver,String(f),n))return!1}if(!f.operator&&(i||o)&&s!==0)return!1}return!(o&&l&&!i&&s!==0||i&&u&&!o&&s!==0||p||d)},CB=(e,t,n)=>{if(!e)return t;let r=vk(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},bB=(e,t,n)=>{if(!e)return t;let r=vk(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};_B.exports=tie});var wk=O((nSe,PB)=>{var xk=Zp(),DB=Tv(),oie=Ur(),IB=rk(),iie=Nd(),sie=Q2(),aie=tH(),cie=oH(),lie=aH(),uie=lH(),die=dH(),fie=pH(),pie=hH(),mie=Ii(),hie=wH(),gie=EH(),vie=wC(),xie=SH(),wie=IH(),yie=Rv(),Eie=yC(),Cie=ik(),bie=sk(),_ie=EC(),Sie=CC(),Die=ak(),Iie=OH(),Pie=Nv(),Tie=Pi(),kie=Av(),Rie=XH(),Nie=QH(),Lie=tB(),Aie=oB(),Fie=sB(),Oie=SC(),Uie=fB(),Mie=mB(),$ie=vB(),jie=wB(),Hie=SB();PB.exports={parse:iie,valid:sie,clean:aie,inc:cie,diff:lie,major:uie,minor:die,patch:fie,prerelease:pie,compare:mie,rcompare:hie,compareLoose:gie,compareBuild:vie,sort:xie,rsort:wie,gt:yie,lt:Eie,eq:Cie,neq:bie,gte:_ie,lte:Sie,cmp:Die,coerce:Iie,Comparator:Pie,Range:Tie,satisfies:kie,toComparators:Rie,maxSatisfying:Nie,minSatisfying:Lie,minVersion:Aie,validRange:Fie,outside:Oie,gtr:Uie,ltr:Mie,intersects:$ie,simplifyRange:jie,subset:Hie,SemVer:oie,re:xk.re,src:xk.src,tokens:xk.t,SEMVER_SPEC_VERSION:DB.SEMVER_SPEC_VERSION,RELEASE_TYPES:DB.RELEASE_TYPES,compareIdentifiers:IB.compareIdentifiers,rcompareIdentifiers:IB.rcompareIdentifiers}});var yk=O(TB=>{TB.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let e=require("original-fs");if(Object.keys(e).length>0)return e}catch{}return require("fs")}});var Ek=O((oSe,kB)=>{kB.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var Ck=O((iSe,RB)=>{RB.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var FB=O((sSe,AB)=>{var Bie=yk().require(),oo=require("path"),NB=Ek(),qie=Ck(),Wie=typeof process=="object"&&process.platform==="win32",LB=e=>e&&typeof e=="object",bk=new Uint32Array(256).map((e,t)=>{for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function yr(e){this.sep=oo.sep,this.fs=Bie,LB(e)&&LB(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}AB.exports=yr;yr.prototype.makeDir=function(e){let t=this;function n(r){let o=r.split(t.sep)[0];r.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){o+=t.sep+i;var s;try{s=t.fs.statSync(o)}catch{t.fs.mkdirSync(o)}if(s&&s.isFile())throw qie.FILE_IN_THE_WAY.replace("%s",o)}})}n(e)};yr.prototype.writeFileTo=function(e,t,n,r){let o=this;if(o.fs.existsSync(e)){if(!n)return!1;var i=o.fs.statSync(e);if(i.isDirectory())return!1}var s=oo.dirname(e);o.fs.existsSync(s)||o.makeDir(s);var a;try{a=o.fs.openSync(e,"w",438)}catch{o.fs.chmodSync(e,438),a=o.fs.openSync(e,"w",438)}if(a)try{o.fs.writeSync(a,t,0,t.length,0)}finally{o.fs.closeSync(a)}return o.fs.chmodSync(e,r||438),!0};yr.prototype.writeFileToAsync=function(e,t,n,r,o){typeof r=="function"&&(o=r,r=void 0);let i=this;i.fs.exists(e,function(s){if(s&&!n)return o(!1);i.fs.stat(e,function(a,c){if(s&&c.isDirectory())return o(!1);var l=oo.dirname(e);i.fs.exists(l,function(u){u||i.makeDir(l),i.fs.open(e,"w",438,function(d,p){d?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(f,m){i.fs.write(m,t,0,t.length,0,function(){i.fs.close(m,function(){i.fs.chmod(e,r||438,function(){o(!0)})})})})}):p?i.fs.write(p,t,0,t.length,0,function(){i.fs.close(p,function(){i.fs.chmod(e,r||438,function(){o(!0)})})}):i.fs.chmod(e,r||438,function(){o(!0)})})})})})};yr.prototype.findFiles=function(e){let t=this;function n(r,o,i){typeof o=="boolean"&&(i=o,o=void 0);let s=[];return t.fs.readdirSync(r).forEach(function(a){var c=oo.join(r,a);t.fs.statSync(c).isDirectory()&&i&&(s=s.concat(n(c,o,i))),(!o||o.test(c))&&s.push(oo.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),s}return n(e,void 0,!0)};yr.prototype.getAttributes=function(){};yr.prototype.setAttributes=function(){};yr.crc32update=function(e,t){return bk[(e^t)&255]^e>>>8};yr.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),bk.length||genCRCTable();let t=e.length,n=-1;for(let r=0;r<t;)n=yr.crc32update(n,e[r++]);return~n>>>0};yr.methodToString=function(e){switch(e){case NB.STORED:return"STORED ("+e+")";case NB.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};yr.canonical=function(e){if(!e)return"";var t=oo.posix.normalize("/"+e.split("\\").join("/"));return oo.join(".",t)};yr.sanitize=function(e,t){e=oo.resolve(oo.normalize(e));for(var n=t.split("/"),r=0,o=n.length;r<o;r++){var i=oo.normalize(oo.join(e,n.slice(r,o).join(oo.sep)));if(i.indexOf(e)===0)return i}return oo.normalize(oo.join(e,oo.basename(t)))};yr.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};yr.readBigUInt64LE=function(e,t){var n=Buffer.from(e.slice(t,t+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)};yr.isWin=Wie;yr.crcTable=bk});var MB=O((aSe,UB)=>{var DC=yk().require(),OB=require("path");DC.existsSync=DC.existsSync||OB.existsSync;UB.exports=function(e){var t=e||"",n=o(),r=null;function o(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&DC.existsSync(t)?(r=DC.statSync(t),n.directory=r.isDirectory(),n.mtime=r.mtime,n.atime=r.atime,n.executable=(73&r.mode)!==0,n.readonly=(128&r.mode)===0,n.hidden=OB.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var em=O((cSe,Ov)=>{Ov.exports=FB();Ov.exports.Constants=Ek();Ov.exports.Errors=Ck();Ov.exports.FileAttr=MB()});var jB=O((lSe,$B)=>{var Uv=em(),_e=Uv.Constants;$B.exports=function(){var e=20,t=10,n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0,u=0,d=0,p=0,f=0,m=0;e|=Uv.isWin?2560:768,n|=_e.FLG_EFS;var h={};function v(g){g=new Date(g),o=(g.getFullYear()-1980&127)<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>1}return v(+new Date),{get made(){return e},set made(g){e=g},get version(){return t},set version(g){t=g},get flags(){return n},set flags(g){n=g},get method(){return r},set method(g){switch(g){case _e.STORED:this.version=10;case _e.DEFLATED:default:this.version=20}r=g},get time(){return new Date((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1)},set time(g){v(g)},get crc(){return i},set crc(g){i=Math.max(0,g)>>>0},get compressedSize(){return s},set compressedSize(g){s=Math.max(0,g)>>>0},get size(){return a},set size(g){a=Math.max(0,g)>>>0},get fileNameLength(){return c},set fileNameLength(g){c=g},get extraLength(){return l},set extraLength(g){l=g},get commentLength(){return u},set commentLength(g){u=g},get diskNumStart(){return d},set diskNumStart(g){d=Math.max(0,g)>>>0},get inAttr(){return p},set inAttr(g){p=Math.max(0,g)>>>0},get attr(){return f},set attr(g){f=Math.max(0,g)>>>0},get fileAttr(){return f?(f>>>0|0)>>16&4095:0},get offset(){return m},set offset(g){m=Math.max(0,g)>>>0},get encripted(){return(n&1)===1},get entryHeaderSize(){return _e.CENHDR+c+l+u},get realDataOffset(){return m+_e.LOCHDR+h.fnameLen+h.extraLen},get dataHeader(){return h},loadDataHeaderFromBinary:function(g){var y=g.slice(m,m+_e.LOCHDR);if(y.readUInt32LE(0)!==_e.LOCSIG)throw new Error(Uv.Errors.INVALID_LOC);h={version:y.readUInt16LE(_e.LOCVER),flags:y.readUInt16LE(_e.LOCFLG),method:y.readUInt16LE(_e.LOCHOW),time:y.readUInt32LE(_e.LOCTIM),crc:y.readUInt32LE(_e.LOCCRC),compressedSize:y.readUInt32LE(_e.LOCSIZ),size:y.readUInt32LE(_e.LOCLEN),fnameLen:y.readUInt16LE(_e.LOCNAM),extraLen:y.readUInt16LE(_e.LOCEXT)}},loadFromBinary:function(g){if(g.length!==_e.CENHDR||g.readUInt32LE(0)!==_e.CENSIG)throw new Error(Uv.Errors.INVALID_CEN);e=g.readUInt16LE(_e.CENVEM),t=g.readUInt16LE(_e.CENVER),n=g.readUInt16LE(_e.CENFLG),r=g.readUInt16LE(_e.CENHOW),o=g.readUInt32LE(_e.CENTIM),i=g.readUInt32LE(_e.CENCRC),s=g.readUInt32LE(_e.CENSIZ),a=g.readUInt32LE(_e.CENLEN),c=g.readUInt16LE(_e.CENNAM),l=g.readUInt16LE(_e.CENEXT),u=g.readUInt16LE(_e.CENCOM),d=g.readUInt16LE(_e.CENDSK),p=g.readUInt16LE(_e.CENATT),f=g.readUInt32LE(_e.CENATX),m=g.readUInt32LE(_e.CENOFF)},dataHeaderToBinary:function(){var g=Buffer.alloc(_e.LOCHDR);return g.writeUInt32LE(_e.LOCSIG,0),g.writeUInt16LE(t,_e.LOCVER),g.writeUInt16LE(n,_e.LOCFLG),g.writeUInt16LE(r,_e.LOCHOW),g.writeUInt32LE(o,_e.LOCTIM),g.writeUInt32LE(i,_e.LOCCRC),g.writeUInt32LE(s,_e.LOCSIZ),g.writeUInt32LE(a,_e.LOCLEN),g.writeUInt16LE(c,_e.LOCNAM),g.writeUInt16LE(l,_e.LOCEXT),g},entryHeaderToBinary:function(){var g=Buffer.alloc(_e.CENHDR+c+l+u);return g.writeUInt32LE(_e.CENSIG,0),g.writeUInt16LE(e,_e.CENVEM),g.writeUInt16LE(t,_e.CENVER),g.writeUInt16LE(n,_e.CENFLG),g.writeUInt16LE(r,_e.CENHOW),g.writeUInt32LE(o,_e.CENTIM),g.writeUInt32LE(i,_e.CENCRC),g.writeUInt32LE(s,_e.CENSIZ),g.writeUInt32LE(a,_e.CENLEN),g.writeUInt16LE(c,_e.CENNAM),g.writeUInt16LE(l,_e.CENEXT),g.writeUInt16LE(u,_e.CENCOM),g.writeUInt16LE(d,_e.CENDSK),g.writeUInt16LE(p,_e.CENATT),g.writeUInt32LE(f,_e.CENATX),g.writeUInt32LE(m,_e.CENOFF),g.fill(0,_e.CENHDR),g},toJSON:function(){let g=function(y){return y+" bytes"};return{made:e,version:t,flags:n,method:Uv.methodToString(r),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:g(s),size:g(a),fileNameLength:g(c),extraLength:g(l),commentLength:g(u),diskNumStart:d,inAttr:p,attr:f,offset:m,entryHeaderSize:g(_e.CENHDR+c+l+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var BB=O((uSe,HB)=>{var tm=em(),en=tm.Constants;HB.exports=function(){var e=0,t=0,n=0,r=0,o=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return n},set size(i){n=i},get offset(){return r},set offset(i){r=i},get commentLength(){return o},set commentLength(i){o=i},get mainHeaderSize(){return en.ENDHDR+o},loadFromBinary:function(i){if((i.length!==en.ENDHDR||i.readUInt32LE(0)!==en.ENDSIG)&&(i.length<en.ZIP64HDR||i.readUInt32LE(0)!==en.ZIP64SIG))throw new Error(tm.Errors.INVALID_END);i.readUInt32LE(0)===en.ENDSIG?(e=i.readUInt16LE(en.ENDSUB),t=i.readUInt16LE(en.ENDTOT),n=i.readUInt32LE(en.ENDSIZ),r=i.readUInt32LE(en.ENDOFF),o=i.readUInt16LE(en.ENDCOM)):(e=tm.readBigUInt64LE(i,en.ZIP64SUB),t=tm.readBigUInt64LE(i,en.ZIP64TOT),n=tm.readBigUInt64LE(i,en.ZIP64SIZE),r=tm.readBigUInt64LE(i,en.ZIP64OFF),o=0)},toBinary:function(){var i=Buffer.alloc(en.ENDHDR+o);return i.writeUInt32LE(en.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,en.ENDSUB),i.writeUInt16LE(t,en.ENDTOT),i.writeUInt32LE(n,en.ENDSIZ),i.writeUInt32LE(r,en.ENDOFF),i.writeUInt16LE(o,en.ENDCOM),i.fill(" ",en.ENDHDR),i},toJSON:function(){let i=function(s,a){let c=s.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:n+" bytes",offset:i(r,4),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Sk=O(_k=>{_k.EntryHeader=jB();_k.MainHeader=BB()});var WB=O((fSe,qB)=>{qB.exports=function(e){var t=require("zlib"),n={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,n)},deflateAsync:function(r){var o=t.createDeflateRaw(n),i=[],s=0;o.on("data",function(a){i.push(a),s+=a.length}),o.on("end",function(){var a=Buffer.alloc(s),c=0;a.fill(0);for(var l=0;l<i.length;l++){var u=i[l];u.copy(a,c),c+=u.length}r&&r(a)}),o.end(e)}}}});var VB=O((pSe,YB)=>{YB.exports=function(e){var t=require("zlib");return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(n){var r=t.createInflateRaw(),o=[],i=0;r.on("data",function(s){o.push(s),i+=s.length}),r.on("end",function(){var s=Buffer.alloc(i),a=0;s.fill(0);for(var c=0;c<o.length;c++){var l=o[c];l.copy(s,a),a+=l.length}n&&n(s)}),r.end(e)}}}});var XB=O((mSe,JB)=>{"use strict";var{randomFillSync:zB}=require("crypto"),Yie=new Uint32Array(256).map((e,t)=>{for(let n=0;n<8;n++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),KB=(e,t)=>Math.imul(e,t)>>>0,GB=(e,t)=>Yie[(e^t)&255]^e>>>8,Mv=()=>typeof zB=="function"?zB(Buffer.alloc(12)):Mv.node();Mv.node=()=>{let e=Buffer.alloc(12),t=e.length;for(let n=0;n<t;n++)e[n]=Math.random()*256&255;return e};var IC={genSalt:Mv};function PC(e){let t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let n=0;n<t.length;n++)this.updateKeys(t[n])}PC.prototype.updateKeys=function(e){let t=this.keys;return t[0]=GB(t[0],e),t[1]+=t[0]&255,t[1]=KB(t[1],134775813)+1,t[2]=GB(t[2],t[1]>>>24),e};PC.prototype.next=function(){let e=(this.keys[2]|2)>>>0;return KB(e,e^1)>>8&255};function Vie(e){let t=new PC(e);return function(n){let r=Buffer.alloc(n.length),o=0;for(let i of n)r[o++]=t.updateKeys(i^t.next());return r}}function zie(e){let t=new PC(e);return function(n,r,o=0){r||(r=Buffer.alloc(n.length));for(let i of n){let s=t.next();r[o++]=i^s,t.updateKeys(i)}return r}}function Gie(e,t,n){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);let r=Vie(n);if(r(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return r(e.slice(12))}function Kie(e){Buffer.isBuffer(e)&&e.length>=12?IC.genSalt=function(){return e.slice(0,12)}:e==="node"?IC.genSalt=Mv.node:IC.genSalt=Mv}function Jie(e,t,n,r=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));let o=zie(n),i=IC.genSalt();i[11]=t.crc>>>24&255,r&&(i[10]=t.crc>>>16&255);let s=Buffer.alloc(e.length+12);return o(i,s),o(e,s,12)}JB.exports={decrypt:Gie,encrypt:Jie,_salter:Kie}});var ZB=O(TC=>{TC.Deflater=WB();TC.Inflater=VB();TC.ZipCrypto=XB()});var Ik=O((gSe,QB)=>{var Dn=em(),Xie=Sk(),Zo=Dn.Constants,Dk=ZB();QB.exports=function(e){var t=new Xie.EntryHeader,n=Buffer.alloc(0),r=Buffer.alloc(0),o=!1,i=null,s=Buffer.alloc(0);function a(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(m){return!((t.flags&8)!==8&&Dn.crc32(m)!==t.dataHeader.crc)}function l(m,h,v){if(typeof h>"u"&&typeof m=="string"&&(v=m,m=void 0),o)return m&&h&&h(Buffer.alloc(0),Dn.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var g=a();if(g.length===0)return m&&h&&h(g),g;if(t.encripted){if(typeof v!="string"&&!Buffer.isBuffer(v))throw new Error("ADM-ZIP: Incompatible password parameter");g=Dk.ZipCrypto.decrypt(g,t,v)}var y=Buffer.alloc(t.size);switch(t.method){case Dn.Constants.STORED:if(g.copy(y),c(y))return m&&h&&h(y),y;throw m&&h&&h(y,Dn.Errors.BAD_CRC),new Error(Dn.Errors.BAD_CRC);case Dn.Constants.DEFLATED:var x=new Dk.Inflater(g);if(m)x.inflateAsync(function(w){w.copy(w,0),h&&(c(w)?h(w):h(w,Dn.Errors.BAD_CRC))});else{if(x.inflate(y).copy(y,0),!c(y))throw new Error(Dn.Errors.BAD_CRC+" "+n.toString());return y}break;default:throw m&&h&&h(Buffer.alloc(0),Dn.Errors.UNKNOWN_METHOD),new Error(Dn.Errors.UNKNOWN_METHOD)}}function u(m,h){if((!i||!i.length)&&Buffer.isBuffer(e))return m&&h&&h(a()),a();if(i.length&&!o){var v;switch(t.method){case Dn.Constants.STORED:return t.compressedSize=t.size,v=Buffer.alloc(i.length),i.copy(v),m&&h&&h(v),v;default:case Dn.Constants.DEFLATED:var g=new Dk.Deflater(i);if(m)g.deflateAsync(function(x){v=Buffer.alloc(x.length),t.compressedSize=x.length,x.copy(v),h&&h(v)});else{var y=g.deflate();return t.compressedSize=y.length,y}g=null;break}}else if(m&&h)h(Buffer.alloc(0));else return Buffer.alloc(0)}function d(m,h){return(m.readUInt32LE(h+4)<<4)+m.readUInt32LE(h)}function p(m){for(var h=0,v,g,y;h<m.length;)v=m.readUInt16LE(h),h+=2,g=m.readUInt16LE(h),h+=2,y=m.slice(h,h+g),h+=g,Zo.ID_ZIP64===v&&f(y)}function f(m){var h,v,g,y;m.length>=Zo.EF_ZIP64_SCOMP&&(h=d(m,Zo.EF_ZIP64_SUNCOMP),t.size===Zo.EF_ZIP64_OR_32&&(t.size=h)),m.length>=Zo.EF_ZIP64_RHO&&(v=d(m,Zo.EF_ZIP64_SCOMP),t.compressedSize===Zo.EF_ZIP64_OR_32&&(t.compressedSize=v)),m.length>=Zo.EF_ZIP64_DSN&&(g=d(m,Zo.EF_ZIP64_RHO),t.offset===Zo.EF_ZIP64_OR_32&&(t.offset=g)),m.length>=Zo.EF_ZIP64_DSN+4&&(y=m.readUInt32LE(Zo.EF_ZIP64_DSN),t.diskNumStart===Zo.EF_ZIP64_OR_16&&(t.diskNumStart=y))}return{get entryName(){return n.toString()},get rawEntryName(){return n},set entryName(m){n=Dn.toBuffer(m);var h=n[n.length-1];o=h===47||h===92,t.fileNameLength=n.length},get extra(){return s},set extra(m){s=m,t.extraLength=m.length,p(m)},get comment(){return r.toString()},set comment(m){r=Dn.toBuffer(m),t.commentLength=r.length},get name(){var m=n.toString();return o?m.substr(m.length-1).split("/").pop():m.split("/").pop()},get isDirectory(){return o},getCompressedData:function(){return u(!1,null)},getCompressedDataAsync:function(m){u(!0,m)},setData:function(m){i=Dn.toBuffer(m),!o&&i.length?(t.size=i.length,t.method=Dn.Constants.DEFLATED,t.crc=Dn.crc32(m),t.changed=!0):t.method=Dn.Constants.STORED},getData:function(m){return t.changed?i:l(!1,null,m)},getDataAsync:function(m,h){t.changed?m(i):l(!0,m,h)},set attr(m){t.attr=m},get attr(){return t.attr},set header(m){t.loadFromBinary(m)},get header(){return t},packHeader:function(){var m=t.entryHeaderToBinary(),h=Dn.Constants.CENHDR;return n.copy(m,h),h+=n.length,t.extraLength&&(s.copy(m,h),h+=t.extraLength),t.commentLength&&r.copy(m,h),m},toJSON:function(){let m=function(h){return"<"+(h&&h.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:m(e),data:m(i)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var nq=O((vSe,tq)=>{var eq=Ik(),Zie=Sk(),Mr=em();tq.exports=function(e,t){var n=[],r={},o=Buffer.alloc(0),i=new Zie.MainHeader,s=!1;let a=Object.assign(Object.create(null),t),{noSort:c}=a;e?d(a.readEntries):s=!0;function l(f){let m=i.diskEntries,h=i.offset;for(let v=0;v<m;v++){let g=h,y=new eq(e);y.header=e.slice(g,g+=Mr.Constants.CENHDR),y.entryName=e.slice(g,g+=y.header.fileNameLength),h+=y.header.entryHeaderSize,f(y)}}function u(){s=!0,r={},n=new Array(i.diskEntries);for(var f=i.offset,m=0;m<n.length;m++){var h=f,v=new eq(e);v.header=e.slice(h,h+=Mr.Constants.CENHDR),v.entryName=e.slice(h,h+=v.header.fileNameLength),v.header.extraLength&&(v.extra=e.slice(h,h+=v.header.extraLength)),v.header.commentLength&&(v.comment=e.slice(h,h+v.header.commentLength)),f+=v.header.entryHeaderSize,n[m]=v,r[v.entryName]=v}}function d(f){var m=e.length-Mr.Constants.ENDHDR,h=Math.max(0,m-65535),v=h,g=e.length,y=-1,x=0;for(m;m>=v;m--)if(e[m]===80){if(e.readUInt32LE(m)===Mr.Constants.ENDSIG){y=m,x=m,g=m+Mr.Constants.ENDHDR,v=m-Mr.Constants.END64HDR;continue}if(e.readUInt32LE(m)===Mr.Constants.END64SIG){v=h;continue}if(e.readUInt32LE(m)===Mr.Constants.ZIP64SIG){y=m,g=m+Mr.readBigUInt64LE(e,m+Mr.Constants.ZIP64SIZE)+Mr.Constants.ZIP64LEAD;break}}if(!~y)throw new Error(Mr.Errors.INVALID_FORMAT);i.loadFromBinary(e.slice(y,g)),i.commentLength&&(o=e.slice(x+Mr.Constants.ENDHDR)),f&&u()}function p(){n.length>1&&!c&&n.sort((f,m)=>f.entryName.toLowerCase().localeCompare(m.entryName.toLowerCase()))}return{get entries(){return s||u(),n},get comment(){return o.toString()},set comment(f){o=Mr.toBuffer(f),i.commentLength=o.length},getEntryCount:function(){return s?n.length:i.diskEntries},forEach:function(f){if(!s){l(f);return}n.forEach(f)},getEntry:function(f){return s||u(),r[f]||null},setEntry:function(f){s||u(),n.push(f),r[f.entryName]=f,i.totalEntries=n.length},deleteEntry:function(f){s||u();var m=r[f];if(m&&m.isDirectory){var h=this;this.getEntryChildren(m).forEach(function(v){v.entryName!==f&&h.deleteEntry(v.entryName)})}n.splice(n.indexOf(m),1),delete r[f],i.totalEntries=n.length},getEntryChildren:function(f){if(s||u(),f&&f.isDirectory){let m=[],h=f.entryName,v=h.length;return n.forEach(function(g){g.entryName.substr(0,v)===h&&m.push(g)}),m}return[]},compressToBuffer:function(){s||u(),p();let f=[],m=[],h=0,v=0;i.size=0,i.offset=0;for(let x of n){let w=x.getCompressedData();x.header.offset=v;let E=x.header.dataHeaderToBinary(),I=x.rawEntryName.length,D=Buffer.alloc(I+x.extra.length);x.rawEntryName.copy(D,0),D.copy(x.extra,I);let k=E.length+D.length+w.length;v+=k,f.push(E),f.push(D),f.push(w);let N=x.packHeader();m.push(N),i.size+=N.length,h+=k+N.length}h+=i.mainHeaderSize,i.offset=v,v=0;let g=Buffer.alloc(h);for(let x of f)x.copy(g,v),v+=x.length;for(let x of m)x.copy(g,v),v+=x.length;let y=i.toBinary();return o&&o.copy(y,Mr.Constants.ENDHDR),y.copy(g,v),g},toAsyncBuffer:function(f,m,h,v){try{s||u(),p();let g=[],y=[],x=0,w=0;i.size=0,i.offset=0;let E=function(I){if(I.length){let D=I.pop(),k=D.entryName+D.extra.toString();h&&h(k),D.getCompressedDataAsync(function(N){v&&v(k),D.header.offset=w;let R=D.header.dataHeaderToBinary(),C=Buffer.alloc(k.length,k),_=R.length+C.length+N.length;w+=_,g.push(R),g.push(C),g.push(N);let b=D.packHeader();y.push(b),i.size+=b.length,x+=_+b.length,E(I)})}else{x+=i.mainHeaderSize,i.offset=w,w=0;let D=Buffer.alloc(x);g.forEach(function(N){N.copy(D,w),w+=N.length}),y.forEach(function(N){N.copy(D,w),w+=N.length});let k=i.toBinary();o&&o.copy(k,Mr.Constants.ENDHDR),k.copy(D,w),f(D)}};E(n)}catch(g){m(g)}}}}});var oq=O((xSe,rq)=>{var or=em(),js=require("path"),Qie=Ik(),ese=nq(),Ld=(e,t)=>typeof e=="boolean"?e:t,Pk=(e,t)=>typeof e=="string"?e:t,tse={noSort:!1,readEntries:!1,method:or.Constants.NONE,fs:null};rq.exports=function(e,t){let n=null,r=Object.assign(Object.create(null),tse);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(r,e),e=r.input?r.input:void 0,r.input&&delete r.input),Buffer.isBuffer(e)&&(n=e,r.method=or.Constants.BUFFER,e=void 0)),Object.assign(r,t);let o=new or(r);if(e&&typeof e=="string")if(o.fs.existsSync(e))r.method=or.Constants.FILE,r.filename=e,n=o.fs.readFileSync(e);else throw new Error(or.Errors.INVALID_FILENAME);let i=new ese(n,r),{canonical:s,sanitize:a}=or;function c(u){if(u&&i){var d;if(typeof u=="string"&&(d=i.getEntry(u)),typeof u=="object"&&typeof u.entryName<"u"&&typeof u.header<"u"&&(d=i.getEntry(u.entryName)),d)return d}return null}function l(u){let{join:d,normalize:p,sep:f}=js.posix;return d(".",p(f+u.split("\\").join(f)+f))}return{readFile:function(u,d){var p=c(u);return p&&p.getData(d)||null},readFileAsync:function(u,d){var p=c(u);p?p.getDataAsync(d):d(null,"getEntry failed for:"+u)},readAsText:function(u,d){var p=c(u);if(p){var f=p.getData();if(f&&f.length)return f.toString(d||"utf8")}return""},readAsTextAsync:function(u,d,p){var f=c(u);f?f.getDataAsync(function(m,h){if(h){d(m,h);return}m&&m.length?d(m.toString(p||"utf8")):d("")}):d("")},deleteFile:function(u){var d=c(u);d&&i.deleteEntry(d.entryName)},addZipComment:function(u){i.comment=u},getZipComment:function(){return i.comment||""},addZipEntryComment:function(u,d){var p=c(u);p&&(p.comment=d)},getZipEntryComment:function(u){var d=c(u);return d&&d.comment||""},updateFile:function(u,d){var p=c(u);p&&p.setData(d)},addLocalFile:function(u,d,p,f){if(o.fs.existsSync(u)){d=d?l(d):"";var m=u.split("\\").join("/").split("/").pop();d+=p||m;let h=o.fs.statSync(u);this.addFile(d,o.fs.readFileSync(u),f,h)}else throw new Error(or.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolder:function(u,d,p,f){if(p instanceof RegExp?p=function(m){return function(h){return m.test(h)}}(p):typeof p!="function"&&(p=function(){return!0}),d=d?l(d):"",u=js.normalize(u),o.fs.existsSync(u)){let m=o.findFiles(u),h=this;m.length&&m.forEach(function(v){var g=js.relative(u,v).split("\\").join("/");if(p(g)){var y=o.fs.statSync(v);y.isFile()?h.addFile(d+g,o.fs.readFileSync(v),"",f||y):h.addFile(d+g+"/",Buffer.alloc(0),"",f||y)}})}else throw new Error(or.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolderAsync:function(u,d,p,f){f instanceof RegExp?f=function(h){return function(v){return h.test(v)}}(f):typeof f!="function"&&(f=function(){return!0}),p=p?l(p):"",u=js.normalize(u);var m=this;o.fs.open(u,"r",function(h){if(h&&h.code==="ENOENT")d(void 0,or.Errors.FILE_NOT_FOUND.replace("%s",u));else if(h)d(void 0,h);else{var v=o.findFiles(u),g=-1,y=function(){if(g+=1,g<v.length){var x=v[g],w=js.relative(u,x).split("\\").join("/");w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),f(w)?o.fs.stat(x,function(E,I){E&&d(void 0,E),I.isFile()?o.fs.readFile(x,function(D,k){D?d(void 0,D):(m.addFile(p+w,k,"",I),y())}):(m.addFile(p+w+"/",Buffer.alloc(0),"",I),y())}):process.nextTick(()=>{y()})}else d(!0,void 0)};y()}})},addLocalFolderPromise:function(u,d){return new Promise((p,f)=>{let{filter:m,zipPath:h}=Object.assign({},d);this.addLocalFolderAsync(u,(v,g)=>{g&&f(g),v&&p(this)},h,m)})},addFile:function(u,d,p,f){let m=c(u),h=m!=null;h||(m=new Qie,m.entryName=u),m.comment=p||"";let v=typeof f=="object"&&f instanceof o.fs.Stats;v&&(m.header.time=f.mtime);var g=m.isDirectory?16:0;let y=m.isDirectory?16384:32768;v?y|=4095&f.mode:typeof f=="number"?y|=4095&f:y|=m.isDirectory?493:420,g=(g|y<<16)>>>0,m.attr=g,m.setData(d),h||i.setEntry(m)},getEntries:function(){return i?i.entries:[]},getEntry:function(u){return c(u)},getEntryCount:function(){return i.getEntryCount()},forEach:function(u){return i.forEach(u)},extractEntryTo:function(u,d,p,f,m,h){f=Ld(f,!1),m=Ld(m,!1),p=Ld(p,!0),h=Pk(h,Pk(m,void 0));var v=c(u);if(!v)throw new Error(or.Errors.NO_ENTRY);var g=s(v.entryName),y=a(d,h&&!v.isDirectory?h:p?g:js.basename(g));if(v.isDirectory){var x=i.getEntryChildren(v);return x.forEach(function(I){if(I.isDirectory)return;var D=I.getData();if(!D)throw new Error(or.Errors.CANT_EXTRACT_FILE);var k=s(I.entryName),N=a(d,p?k:js.basename(k));let R=m?I.header.fileAttr:void 0;o.writeFileTo(N,D,f,R)}),!0}var w=v.getData();if(!w)throw new Error(or.Errors.CANT_EXTRACT_FILE);if(o.fs.existsSync(y)&&!f)throw new Error(or.Errors.CANT_OVERRIDE);let E=m?u.header.fileAttr:void 0;return o.writeFileTo(y,w,f,E),!0},test:function(u){if(!i)return!1;for(var d in i.entries)try{if(d.isDirectory)continue;var p=i.entries[d].getData(u);if(!p)return!1}catch{return!1}return!0},extractAllTo:function(u,d,p,f){if(d=Ld(d,!1),f=Pk(p,f),p=Ld(p,!1),!i)throw new Error(or.Errors.NO_ZIP);i.entries.forEach(function(m){var h=a(u,s(m.entryName.toString()));if(m.isDirectory){o.makeDir(h);return}var v=m.getData(f);if(!v)throw new Error(or.Errors.CANT_EXTRACT_FILE);let g=p?m.header.fileAttr:void 0;o.writeFileTo(h,v,d,g);try{o.fs.utimesSync(h,m.header.time,m.header.time)}catch{throw new Error(or.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(u,d,p,f){if(d=Ld(d,!1),typeof p=="function"&&!f&&(f=p),p=Ld(p,!1),f||(f=function(x){throw new Error(x)}),!i){f(new Error(or.Errors.NO_ZIP));return}u=js.resolve(u);let m=x=>a(u,js.normalize(s(x.entryName.toString()))),h=(x,w)=>new Error(x+': "'+w+'"'),v=[],g=new Set;i.entries.forEach(x=>{x.isDirectory?v.push(x):g.add(x)});for(let x of v){let w=m(x),E=p?x.header.fileAttr:void 0;try{o.makeDir(w),E&&o.fs.chmodSync(w,E),o.fs.utimesSync(w,x.header.time,x.header.time)}catch{f(h("Unable to create folder",w))}}let y=()=>{g.size===0&&f()};for(let x of g.values()){let w=js.normalize(s(x.entryName.toString())),E=a(u,w);x.getDataAsync(function(I,D){if(D){f(new Error(D));return}if(!I)f(new Error(or.Errors.CANT_EXTRACT_FILE));else{let k=p?x.header.fileAttr:void 0;o.writeFileToAsync(E,I,d,k,function(N){if(!N){f(h("Unable to write file",E));return}o.fs.utimes(E,x.header.time,x.header.time,function(R){if(R){f(h("Unable to set times",E));return}g.delete(x),y()})})}})}y()},writeZip:function(u,d){if(arguments.length===1&&typeof u=="function"&&(d=u,u=""),!u&&r.filename&&(u=r.filename),!!u){var p=i.compressToBuffer();if(p){var f=o.writeFileTo(u,p,!0);typeof d=="function"&&d(f?null:new Error("failed"),"")}}},writeZipPromise:function(u,d){let{overwrite:p,perm:f}=Object.assign({overwrite:!0},d);return new Promise((m,h)=>{!u&&r.filename&&(u=r.filename),u||h("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(v=>{let g=y=>y?m(y):h("ADM-ZIP: Wasn't able to write zip file");o.writeFileToAsync(u,v,p,f,g)},h)})},toBufferPromise:function(){return new Promise((u,d)=>{i.toAsyncBuffer(u,d)})},toBuffer:function(u,d,p,f){return this.valueOf=2,typeof u=="function"?(i.toAsyncBuffer(u,d,p,f),null):i.compressToBuffer()}}}});var sq=O((wSe,iq)=>{iq.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var cq=O((ySe,aq)=>{aq.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):sq()});var uq=O((CSe,lq)=>{lq.exports=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var Tk=O((_Se,fq)=>{var dq=uq();fq.exports=class{constructor(t){this.hwm=t||16,this.head=new dq(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){let n=this.head;this.head=n.next=new dq(2*this.head.buffer.length),this.head.push(t)}}shift(){this.length!==0&&this.length--;let t=this.tail.shift();if(t===void 0&&this.tail.next){let n=this.tail.next;return this.tail.next=null,this.tail=n,this.tail.shift()}return t}peek(){let t=this.tail.peek();return t===void 0&&this.tail.next?this.tail.next.peek():t}isEmpty(){return this.length===0}}});var Yk=O((SSe,Aq)=>{var{EventEmitter:nse}=require("events"),FC=new Error("Stream was destroyed"),kk=new Error("Premature close"),vq=cq(),xq=Tk(),In=(1<<27)-1,Ud=1,Mk=2,Ad=4,$v=8,wq=In^Ud,rse=In^Mk,Yv=16,jv=32,sm=64,fl=128,Hv=256,$k=512,Fd=1024,Rk=2048,jk=4096,Hk=8192,ts=16384,nm=32768,OC=65536,yq=Hv|$k,ose=Yv|OC,ise=sm|Yv,sse=jk|fl,ase=In^Yv,cse=In^sm,lse=In^(sm|OC),use=In^OC,dse=In^Hv,fse=In^(fl|Hk),pse=In^Fd,pq=In^yq,Eq=In^nm,mse=In^jv,pl=1<<17,om=2<<17,Vv=4<<17,Od=8<<17,zv=16<<17,Md=32<<17,Nk=64<<17,rm=128<<17,Bk=256<<17,im=512<<17,Cq=In^(pl|Bk),bq=In^Vv,hse=In^im,gse=In^zv,vse=In^Od,_q=In^rm,xse=In^om,Bv=Yv|pl,Sq=In^Bv,qk=ts|Md,Ka=Ad|$v|Mk,Qo=Ka|Ud,Dq=Ka|qk,wse=bq&cse,Wk=rm|nm,yse=Wk&Sq,Iq=Qo|yse,Ese=Qo|Fd|ts,mq=Qo|ts|fl,Cse=Qo|Fd|fl,bse=Qo|jk|fl|Hk,_se=Qo|Yv|Fd|ts|OC,Sse=Ka|Fd|ts,Dse=jv|Qo|nm|sm,Ise=Qo|im|Md,Pse=Od|zv,Pq=Od|pl,Tse=Od|zv|Qo|pl,hq=Qo|pl|Od,kse=Vv|pl,Rse=pl|Bk,Nse=Qo|im|Pq|Md,Lse=zv|Ka|im|Md,Ase=om|Qo|rm|Vv,kC=Symbol.asyncIterator||Symbol("asyncIterator"),RC=class{constructor(t,{highWaterMark:n=16384,map:r=null,mapWritable:o,byteLength:i,byteLengthWritable:s}={}){this.stream=t,this.queue=new xq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Lq,this.map=o||r,this.afterWrite=Use.bind(this),this.afterUpdateNextTick=jse.bind(this)}get ended(){return(this.stream._duplexState&Md)!==0}push(t){return this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=Od,!0):(this.stream._duplexState|=Pse,!1)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=vse),t}end(t){typeof t=="function"?this.stream.once("finish",t):t!=null&&this.push(t),this.stream._duplexState=(this.stream._duplexState|im)&bq}autoBatch(t,n){let r=[],o=this.stream;for(r.push(t);(o._duplexState&hq)===Pq;)r.push(o._writableState.shift());if(o._duplexState&Qo)return n(null);o._writev(r,n)}update(){let t=this.stream;t._duplexState|=om;do{for(;(t._duplexState&hq)===Od;){let n=this.shift();t._duplexState|=Rse,t._write(n,this.afterWrite)}t._duplexState&kse||this.updateNonPrimary()}while(this.continueUpdate()===!0);t._duplexState&=xse}updateNonPrimary(){let t=this.stream;if((t._duplexState&Nse)===im){t._duplexState=(t._duplexState|pl)&hse,t._final(Ose.bind(this));return}if((t._duplexState&Ka)===Ad){t._duplexState&Wk||(t._duplexState|=Bv,t._destroy(Tq.bind(this)));return}(t._duplexState&Iq)===Ud&&(t._duplexState=(t._duplexState|Bv)&wq,t._open(kq.bind(this)))}continueUpdate(){return this.stream._duplexState&rm?(this.stream._duplexState&=_q,!0):!1}updateCallback(){(this.stream._duplexState&Ase)===Vv?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&rm||(this.stream._duplexState|=rm,this.stream._duplexState&om||vq(this.afterUpdateNextTick))}},Lk=class{constructor(t,{highWaterMark:n=16384,map:r=null,mapReadable:o,byteLength:i,byteLengthReadable:s}={}){this.stream=t,this.queue=new xq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Lq,this.map=o||r,this.pipeTo=null,this.afterRead=Mse.bind(this),this.afterUpdateNextTick=$se.bind(this)}get ended(){return(this.stream._duplexState&ts)!==0}pipe(t,n){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof n!="function"&&(n=null),this.stream._duplexState|=$k,this.pipeTo=t,this.pipeline=new Fk(this.stream,t,n),n&&this.stream.on("error",gq),Wv(t))t._writableState.pipeline=this.pipeline,n&&t.on("error",gq),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{let r=this.pipeline.done.bind(this.pipeline,t),o=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",r),t.on("close",o),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",Fse.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){let n=this.stream;return t===null?(this.highWaterMark=0,n._duplexState=(n._duplexState|Fd)&lse,!1):(this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),n._duplexState=(n._duplexState|fl)&use,this.buffered<this.highWaterMark)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=fse),t}unshift(t){let n=[this.map!==null?this.map(t):t];for(;this.buffered>0;)n.push(this.shift());for(let r=0;r<n.length-1;r++){let o=n[r];this.buffered+=this.byteLength(o),this.queue.push(o)}this.push(n[n.length-1])}read(){let t=this.stream;if((t._duplexState&mq)===fl){let n=this.shift();return this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(t._duplexState&=pq),t._duplexState&Rk&&t.emit("data",n),n}return null}drain(){let t=this.stream;for(;(t._duplexState&mq)===fl&&t._duplexState&yq;){let n=this.shift();this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(t._duplexState&=pq),t._duplexState&Rk&&t.emit("data",n)}}update(){let t=this.stream;t._duplexState|=jv;do{for(this.drain();this.buffered<this.highWaterMark&&!(t._duplexState&_se);)t._duplexState|=ose,t._read(this.afterRead),this.drain();(t._duplexState&bse)===sse&&(t._duplexState|=Hk,t.emit("readable")),t._duplexState&ise||this.updateNonPrimary()}while(this.continueUpdate()===!0);t._duplexState&=mse}updateNonPrimary(){let t=this.stream;if((t._duplexState&Cse)===Fd&&(t._duplexState=(t._duplexState|ts)&pse,t.emit("end"),(t._duplexState&Dq)===qk&&(t._duplexState|=Ad),this.pipeTo!==null&&this.pipeTo.end()),(t._duplexState&Ka)===Ad){t._duplexState&Wk||(t._duplexState|=Bv,t._destroy(Tq.bind(this)));return}(t._duplexState&Iq)===Ud&&(t._duplexState=(t._duplexState|Bv)&wq,t._open(kq.bind(this)))}continueUpdate(){return this.stream._duplexState&nm?(this.stream._duplexState&=Eq,!0):!1}updateCallback(){(this.stream._duplexState&Dse)===sm?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&nm||(this.stream._duplexState|=nm,this.stream._duplexState&jv||vq(this.afterUpdateNextTick))}},Ak=class{constructor(t){this.data=null,this.afterTransform=Bse.bind(t),this.afterFinal=null}},Fk=class{constructor(t,n,r){this.from=t,this.to=n,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,n){if(n&&(this.error=n),t===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&ts)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(t===this.from&&(this.from=null,this.to!==null)){t._duplexState&ts||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function Fse(){this.stream._duplexState|=$k,this.updateCallback()}function Ose(e){let t=this.stream;e&&t.destroy(e),t._duplexState&Ka||(t._duplexState|=Md,t.emit("finish")),(t._duplexState&Dq)===qk&&(t._duplexState|=Ad),t._duplexState&=Cq,t._duplexState&om?this.updateNextTick():this.update()}function Tq(e){let t=this.stream;!e&&this.error!==FC&&(e=this.error),e&&t.emit("error",e),t._duplexState|=$v,t.emit("close");let n=t._readableState,r=t._writableState;if(n!==null&&n.pipeline!==null&&n.pipeline.done(t,e),r!==null){for(;r.drains!==null&&r.drains.length>0;)r.drains.shift().resolve(!1);r.pipeline!==null&&r.pipeline.done(t,e)}}function Use(e){let t=this.stream;e&&t.destroy(e),t._duplexState&=Cq,this.drains!==null&&Hse(this.drains),(t._duplexState&Tse)===zv&&(t._duplexState&=gse,(t._duplexState&Nk)===Nk&&t.emit("drain")),this.updateCallback()}function Mse(e){e&&this.stream.destroy(e),this.stream._duplexState&=ase,this.updateCallback()}function $se(){this.stream._duplexState&jv||(this.stream._duplexState&=Eq,this.update())}function jse(){this.stream._duplexState&om||(this.stream._duplexState&=_q,this.update())}function Hse(e){for(let t=0;t<e.length;t++)--e[t].writes===0&&(e.shift().resolve(!0),t--)}function kq(e){let t=this.stream;e&&t.destroy(e),t._duplexState&Ad||(t._duplexState&Ese||(t._duplexState|=sm),t._duplexState&Ise||(t._duplexState|=Vv),t.emit("open")),t._duplexState&=Sq,t._writableState!==null&&t._writableState.updateCallback(),t._readableState!==null&&t._readableState.updateCallback()}function Bse(e,t){t!=null&&this.push(t),this._writableState.afterWrite(e)}var qv=class extends nse{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",Gse.bind(this)))}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&$v)!==0}get destroying(){return(this._duplexState&Ka)!==0}destroy(t){this._duplexState&Ka||(t||(t=FC),this._duplexState=(this._duplexState|Ad)&wse,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=t),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=Mk,this._predestroy(),this._duplexState&=rse,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(t,n){return this._readableState!==null&&(t==="data"&&(this._duplexState|=Rk|Hv,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=jk,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=Nk,this._writableState.updateNextTick()),super.on(t,n)}},NC=class e extends qv{constructor(t){super(t),this._duplexState|=Ud|Md,this._readableState=new Lk(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick())}_read(t){t(null)}pipe(t,n){return this._readableState.updateNextTick(),this._readableState.pipe(t,n),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=Hv,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=dse,this}static _fromAsyncIterator(t,n){let r,o=new e({...n,read(s){t.next().then(i).then(s.bind(null,null)).catch(s)},predestroy(){r=t.return()},destroy(s){if(!r)return s(null);r.then(s.bind(null,null)).catch(s)}});return o;function i(s){s.done?o.push(null):o.push(s.value)}}static from(t,n){if(Vse(t))return t;if(t[kC])return this._fromAsyncIterator(t[kC](),n);Array.isArray(t)||(t=t===void 0?[]:[t]);let r=0;return new e({...n,read(o){this.push(r===t.length?null:t[r++]),o(null)}})}static isBackpressured(t){return(t._duplexState&Sse)!==0||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return(t._duplexState&Hv)===0}[kC](){let t=this,n=null,r=null,o=null;return this.on("error",l=>{n=l}),this.on("readable",i),this.on("close",s),{[kC](){return this},next(){return new Promise(function(l,u){r=l,o=u;let d=t.read();d!==null?a(d):t._duplexState&$v&&a(null)})},return(){return c(null)},throw(l){return c(l)}};function i(){r!==null&&a(t.read())}function s(){r!==null&&a(null)}function a(l){o!==null&&(n?o(n):l===null&&!(t._duplexState&ts)?o(FC):r({value:l,done:l===null}),o=r=null)}function c(l){return t.destroy(l),new Promise((u,d)=>{if(t._duplexState&$v)return u({value:void 0,done:!0});t.once("close",function(){l?d(l):u({value:void 0,done:!0})})})}}},Ok=class extends qv{constructor(t){super(t),this._duplexState|=Ud|ts,this._writableState=new RC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}_writev(t,n){n(null)}_write(t,n){this._writableState.autoBatch(t,n)}_final(t){t(null)}static isBackpressured(t){return(t._duplexState&Lse)!==0}static drained(t){if(t.destroyed)return Promise.resolve(!1);let n=t._writableState,r=n.queue.length+(t._duplexState&Bk?1:0);return r===0?Promise.resolve(!0):(n.drains===null&&(n.drains=[]),new Promise(o=>{n.drains.push({writes:r,resolve:o})}))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}},LC=class extends NC{constructor(t){super(t),this._duplexState=Ud,this._writableState=new RC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,n){n(null)}_write(t,n){this._writableState.autoBatch(t,n)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}},AC=class extends LC{constructor(t){super(t),this._transformState=new Ak(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,n){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(this._transformState.data!==null){let n=this._transformState.data;this._transformState.data=null,t(null),this._transform(n,this._transformState.afterTransform)}else t(null)}_transform(t,n){n(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(qse.bind(this))}},Uk=class extends AC{};function qse(e,t){let n=this._transformState.afterFinal;if(e)return n(e);t!=null&&this.push(t),this.push(null),n(null)}function Wse(...e){return new Promise((t,n)=>Rq(...e,r=>{if(r)return n(r);t()}))}function Rq(e,...t){let n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&typeof n[n.length-1]=="function"?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let o=n[0],i=null,s=null;for(let l=1;l<n.length;l++)i=n[l],Wv(o)?o.pipe(i,c):(a(o,!0,l>1,c),o.pipe(i)),o=i;if(r){let l=!1,u=Wv(i)||!!(i._writableState&&i._writableState.autoDestroy);i.on("error",d=>{s===null&&(s=d)}),i.on("finish",()=>{l=!0,u||r(s)}),u&&i.on("close",()=>r(s||(l?null:kk)))}return i;function a(l,u,d,p){l.on("error",p),l.on("close",f);function f(){if(u&&l._readableState&&!l._readableState.ended||d&&l._writableState&&!l._writableState.ended)return p(kk)}}function c(l){if(!(!l||s)){s=l;for(let u of n)u.destroy(l)}}}function Nq(e){return!!e._readableState||!!e._writableState}function Wv(e){return typeof e._duplexState=="number"&&Nq(e)}function Yse(e){let t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===FC?null:t}function Vse(e){return Wv(e)&&e.readable}function zse(e){return typeof e=="object"&&e!==null&&typeof e.byteLength=="number"}function Lq(e){return zse(e)?e.byteLength:1024}function gq(){}function Gse(){this.destroy(new Error("Stream aborted."))}Aq.exports={pipeline:Rq,pipelinePromise:Wse,isStream:Nq,isStreamx:Wv,getStreamError:Yse,Stream:qv,Writable:Ok,Readable:NC,Duplex:LC,Transform:AC,PassThrough:Uk}});var UC=O((DSe,Fq)=>{function Kse(e){return Buffer.isBuffer(e)||e instanceof Uint8Array}function Jse(e){return Buffer.isEncoding(e)}function Xse(e,t,n){return Buffer.alloc(e,t,n)}function Zse(e){return Buffer.allocUnsafe(e)}function Qse(e){return Buffer.allocUnsafeSlow(e)}function eae(e,t){return Buffer.byteLength(e,t)}function tae(e,t){return Buffer.compare(e,t)}function nae(e,t){return Buffer.concat(e,t)}function rae(e,t,n,r,o){return Pn(e).copy(t,n,r,o)}function oae(e,t){return Pn(e).equals(t)}function iae(e,t,n,r,o){return Pn(e).fill(t,n,r,o)}function sae(e,t,n){return Buffer.from(e,t,n)}function aae(e,t,n,r){return Pn(e).includes(t,n,r)}function cae(e,t,n,r){return Pn(e).indexOf(t,n,r)}function lae(e,t,n,r){return Pn(e).lastIndexOf(t,n,r)}function uae(e){return Pn(e).swap16()}function dae(e){return Pn(e).swap32()}function fae(e){return Pn(e).swap64()}function Pn(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function pae(e,t,n,r){return Pn(e).toString(t,n,r)}function mae(e,t,n,r,o){return Pn(e).write(t,n,r,o)}function hae(e,t,n){return Pn(e).writeDoubleLE(t,n)}function gae(e,t,n){return Pn(e).writeFloatLE(t,n)}function vae(e,t,n){return Pn(e).writeUInt32LE(t,n)}function xae(e,t,n){return Pn(e).writeInt32LE(t,n)}function wae(e,t){return Pn(e).readDoubleLE(t)}function yae(e,t){return Pn(e).readFloatLE(t)}function Eae(e,t){return Pn(e).readUInt32LE(t)}function Cae(e,t){return Pn(e).readInt32LE(t)}Fq.exports={isBuffer:Kse,isEncoding:Jse,alloc:Xse,allocUnsafe:Zse,allocUnsafeSlow:Qse,byteLength:eae,compare:tae,concat:nae,copy:rae,equals:oae,fill:iae,from:sae,includes:aae,indexOf:cae,lastIndexOf:lae,swap16:uae,swap32:dae,swap64:fae,toBuffer:Pn,toString:pae,write:mae,writeDoubleLE:hae,writeFloatLE:gae,writeUInt32LE:vae,writeInt32LE:xae,readDoubleLE:wae,readFloatLE:yae,readUInt32LE:Eae,readInt32LE:Cae}});var Gk=O(cm=>{var xt=UC(),bae="0000000000000000000",_ae="7777777777777777777",MC="0".charCodeAt(0),Oq=xt.from([117,115,116,97,114,0]),Sae=xt.from([MC,MC]),Dae=xt.from([117,115,116,97,114,32]),Iae=xt.from([32,0]),Pae=4095,Gv=257,zk=263;cm.decodeLongPath=function(t,n){return am(t,0,t.length,n)};cm.encodePax=function(t){let n="";t.name&&(n+=Vk(" path="+t.name+`
`)),t.linkname&&(n+=Vk(" linkpath="+t.linkname+`
`));let r=t.pax;if(r)for(let o in r)n+=Vk(" "+o+"="+r[o]+`
`);return xt.from(n)};cm.decodePax=function(t){let n={};for(;t.length;){let r=0;for(;r<t.length&&t[r]!==32;)r++;let o=parseInt(t.subarray(0,r).toString(),10);if(!o)return n;let i=xt.toString(t.subarray(r+1,o-1)),s=i.indexOf("=");if(s===-1)return n;n[i.slice(0,s)]=i.slice(s+1),t=t.subarray(o)}return n};cm.encode=function(t){let n=xt.alloc(512),r=t.name,o="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),xt.byteLength(r)!==r.length)return null;for(;xt.byteLength(r)>100;){let i=r.indexOf("/");if(i===-1)return null;o+=o?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return xt.byteLength(r)>100||xt.byteLength(o)>155||t.linkname&&xt.byteLength(t.linkname)>100?null:(xt.write(n,r),xt.write(n,hl(t.mode&Pae,6),100),xt.write(n,hl(t.uid,6),108),xt.write(n,hl(t.gid,6),116),Fae(t.size,n,124),xt.write(n,hl(t.mtime.getTime()/1e3|0,11),136),n[156]=MC+Lae(t.type),t.linkname&&xt.write(n,t.linkname,157),xt.copy(Oq,n,Gv),xt.copy(Sae,n,zk),t.uname&&xt.write(n,t.uname,265),t.gname&&xt.write(n,t.gname,297),xt.write(n,hl(t.devmajor||0,6),329),xt.write(n,hl(t.devminor||0,6),337),o&&xt.write(n,o,345),xt.write(n,hl(Mq(n),6),148),n)};cm.decode=function(t,n,r){let o=t[156]===0?0:t[156]-MC,i=am(t,0,100,n),s=ml(t,100,8),a=ml(t,108,8),c=ml(t,116,8),l=ml(t,124,12),u=ml(t,136,12),d=Nae(o),p=t[157]===0?null:am(t,157,100,n),f=am(t,265,32),m=am(t,297,32),h=ml(t,329,8),v=ml(t,337,8),g=Mq(t);if(g===8*32)return null;if(g!==ml(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Tae(t))t[345]&&(i=am(t,345,155,n)+"/"+i);else if(!kae(t)){if(!r)throw new Error("Invalid tar header: unknown format.")}return o===0&&i&&i[i.length-1]==="/"&&(o=5),{name:i,mode:s,uid:a,gid:c,size:l,mtime:new Date(1e3*u),type:d,linkname:p,uname:f,gname:m,devmajor:h,devminor:v,pax:null}};function Tae(e){return xt.equals(Oq,e.subarray(Gv,Gv+6))}function kae(e){return xt.equals(Dae,e.subarray(Gv,Gv+6))&&xt.equals(Iae,e.subarray(zk,zk+2))}function Rae(e,t,n){return typeof e!="number"?n:(e=~~e,e>=t?t:e>=0||(e+=t,e>=0)?e:0)}function Nae(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function Lae(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function Uq(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r}function Mq(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function hl(e,t){return e=e.toString(8),e.length>t?_ae.slice(0,t)+" ":bae.slice(0,t-e.length)+e+" "}function Aae(e,t,n){t[n]=128;for(let r=11;r>0;r--)t[n+r]=e&255,e=Math.floor(e/256)}function Fae(e,t,n){e.toString(8).length>11?Aae(e,t,n):xt.write(t,hl(e,11),n)}function Oae(e){let t;if(e[0]===128)t=!0;else if(e[0]===255)t=!1;else return null;let n=[],r;for(r=e.length-1;r>0;r--){let s=e[r];t?n.push(s):n.push(255-s)}let o=0,i=n.length;for(r=0;r<i;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}function ml(e,t,n){if(e=e.subarray(t,t+n),t=0,e[t]&128)return Oae(e);{for(;t<e.length&&e[t]===32;)t++;let r=Rae(Uq(e,32,t,e.length),e.length,e.length);for(;t<r&&e[t]===0;)t++;return r===t?0:parseInt(e.subarray(t,r).toString(),8)}}function am(e,t,n,r){return xt.toString(e.subarray(t,Uq(e,0,t,t+n)),r)}function Vk(e){let t=xt.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}});var qq=O((PSe,Bq)=>{var{Writable:Uae,Readable:Mae,getStreamError:$q}=Yk(),$ae=Tk(),jq=UC(),lm=Gk(),jae=jq.alloc(0),Jk=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new $ae,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return this._buffered===0?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(t===0)return jae;let n=this._next(t);if(t===n.byteLength)return n;let r=[n];for(;(t-=n.byteLength)>0;)n=this._next(t),r.push(n);return jq.concat(r)}_next(t){let n=this.queue.peek(),r=n.byteLength-this._offset;if(t>=r){let o=this._offset?n.subarray(this._offset,n.byteLength):n;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,o}return this.buffered-=t,this.shifted+=t,n.subarray(this._offset,this._offset+=t)}},Xk=class extends Mae{constructor(t,n,r){super(),this.header=n,this.offset=r,this._parent=t}_read(t){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy($q(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Hq(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}},Zk=class extends Uae{constructor(t){super(t),t||(t={}),this._buffer=new Jk,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=Kk,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t){this.destroy(t),this._continueWrite(t);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=lm.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=lm.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=lm.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=lm.decodePax(t);break;case"pax-header":this._pax=this._paxGlobal===null?lm.decodePax(t):Object.assign({},this._paxGlobal,lm.decodePax(t));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Hq(this._header.size);let t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(n){return this._continueWrite(n),!1}return!0}_consumeStream(){let t=this._buffer.shiftFirst(this._missing);if(t===null)return!1;this._missing-=t.byteLength;let n=this._stream.push(t);return this._missing===0?(this._stream.push(null),n&&this._stream._detach(),n&&this._locked===!1):n}_createStream(){return new Xk(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let t=this._buffer.shiftFirst(this._missing);t!==null&&(this._missing-=t.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(t){let n=this._callback;this._callback=Kk,n(t)}_write(t,n){this._callback=n,this._buffer.push(t),this._update()}_final(t){this._finished=this._missing===0&&this._buffer.buffered===0,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy($q(this)),t(null)}[Symbol.asyncIterator](){let t=null,n=null,r=null,o=null,i=null,s=this;return this.on("entry",l),this.on("error",p=>{t=p}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return d(null)},throw(p){return d(p)}};function a(p){if(!i)return;let f=i;i=null,f(p)}function c(p,f){if(t)return f(t);if(o){p({value:o,done:!1}),o=null;return}n=p,r=f,a(null),s._finished&&n&&(n({value:void 0,done:!0}),n=r=null)}function l(p,f,m){i=m,f.on("error",Kk),n?(n({value:f,done:!1}),n=r=null):o=f}function u(){a(t),n&&(t?r(t):n({value:void 0,done:!0}),n=r=null)}function d(p){return s.destroy(p),a(p),new Promise((f,m)=>{if(s.destroyed)return f({value:void 0,done:!0});s.once("close",function(){p?m(p):f({value:void 0,done:!0})})})}}};Bq.exports=function(t){return new Zk(t)};function Kk(){}function Hq(e){return e&=511,e&&512-e}});var Yq=O((TSe,Qk)=>{var Wq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{Qk.exports=require("fs").constants||Wq}catch{Qk.exports=Wq}});var Jq=O((kSe,Kq)=>{var{Readable:Hae,Writable:Bae,getStreamError:Vq}=Yk(),$d=UC(),um=Yq(),$C=Gk(),qae=493,Wae=420,zq=$d.alloc(1024),tR=class extends Bae{constructor(t,n,r){super({mapWritable:Vae,eagerOpen:!0}),this.written=0,this.header=n,this._callback=r,this._linkname=null,this._isLinkname=n.type==="symlink"&&!n.linkname,this._isVoid=n.type!=="file"&&n.type!=="contiguous-file",this._finished=!1,this._pack=t,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(this._callback===null)return;let n=this._callback;this._callback=null,n(t)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let t=this._openCallback;if(this._openCallback=null,t!==null){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,n){if(this._isLinkname)return this._linkname=this._linkname?$d.concat([this._linkname,t]):t,n(null);if(this._isVoid)return t.byteLength>0?n(new Error("No body allowed for this entry")):n();if(this.written+=t.byteLength,this._pack.push(t))return n();this._pack._drain=n}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?$d.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),Gq(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return Vq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}},nR=class extends Hae{constructor(t){super(t),this._drain=eR,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,n,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof n=="function"&&(r=n,n=null),r||(r=eR),(!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=Yae(t.mode)),t.mode||(t.mode=t.type==="directory"?qae:Wae),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof n=="string"&&(n=$d.from(n));let o=new tR(this,t,r);return $d.isBuffer(n)?(t.size=n.byteLength,o.write(n),o.end(),o):(o._isVoid,o)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(zq),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){let n=$C.encode(t);if(n){this.push(n);return}}this._encodePax(t)}_encodePax(t){let n=$C.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:n.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push($C.encode(r)),this.push(n),Gq(this,n.byteLength),r.size=t.size,r.type=t.type,this.push($C.encode(r))}_doDrain(){let t=this._drain;this._drain=eR,t()}_predestroy(){let t=Vq(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){let n=this._pending.shift();n.destroy(t),n._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}};Kq.exports=function(t){return new nR(t)};function Yae(e){switch(e&um.S_IFMT){case um.S_IFBLK:return"block-device";case um.S_IFCHR:return"character-device";case um.S_IFDIR:return"directory";case um.S_IFIFO:return"fifo";case um.S_IFLNK:return"symlink"}return"file"}function eR(){}function Gq(e,t){t&=511,t&&e.push(zq.subarray(0,512-t))}function Vae(e){return $d.isBuffer(e)?e:$d.from(e)}});var Xq=O(rR=>{rR.extract=qq();rR.pack=Jq()});var oR=O((OSe,eW)=>{eW.exports=function(t,n,r){t(n),r&&r(n===!0?null:n)}});var HC=O((USe,nW)=>{"use strict";var tW=oR();nW.exports=function(t,n){if(!t)return function(o,i){return o?tW(i,o,n):i(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(o){return t[o]}));var r=0;return function(o,i){if(o)return tW(i,o,n);r>=t.length?i(!0):i(null,t[r++])}}});var oW=O((MSe,rW)=>{"use strict";var Kae=HC();rW.exports=function(e){return Kae(Object.keys(e))}});var iR=O(($Se,iW)=>{"use strict";var Jae=oR();iW.exports=function(t,n){return function(r,o){if(r)return Jae(o,r,n);if(t!=null){var i=t;t=null,o(null,i)}else o(!0)}}});var aW=O((jSe,sW)=>{"use strict";sW.exports=function(t){var n=0;return t=t||1/0,function(r,o){if(r)return o&&o(r);if(n>t)return o(!0);o(null,n++)}}});var lW=O((HSe,cW)=>{"use strict";cW.exports=function(t){return t=t||Math.random,function(n,r){return n?r&&r(n):r(null,t())}}});var dW=O((BSe,uW)=>{"use strict";uW.exports=function(){return function(t,n){n(!0)}}});var pW=O((qSe,fW)=>{"use strict";fW.exports=function(t){return function(n,r){r(t)}}});var hW=O((WSe,mW)=>{"use strict";mW.exports={keys:oW(),once:iR(),values:HC(),count:aW(),infinite:lW(),empty:dW(),error:pW()}});var dm=O((YSe,gW)=>{"use strict";gW.exports=function(t,n){var r,o,i;n||(i=new Error("no done callback supplied"));function s(a){if(r=a,o)return s.abort();(function c(){for(var l=!0,u=!1;l;)if(u=!1,r(null,function(d,p){if(u=!0,d=d||o){if(l=!1,n)n(d===!0?null:d);else if(d&&d!==!0)throw console.warn(i),d}else t&&t(p)===!1||o?(l=!1,r(o||!0,n||function(){})):l||c()}),!u){l=!1;return}})()}return s.abort=function(a,c){if(typeof a=="function"&&(c=a,a=!0),o=a||!0,r)return r(o,c||function(){})},s}});var xW=O((VSe,vW)=>{"use strict";var Xae=dm();vW.exports=function(t){return Xae(null,t)}});var yW=O((zSe,wW)=>{"use strict";var Zae=dm();wW.exports=function(t){return Zae(function(n){console.log(n)},t)}});var fm=O((GSe,EW)=>{EW.exports=function(t){return t&&(typeof t=="string"?function(n){return n[t]}:typeof t=="object"&&typeof t.exec=="function"?function(n){var r=t.exec(n);return r&&r[0]}:t)}});var _W=O((KSe,bW)=>{"use strict";function CW(e){return e}var Qae=fm(),ece=dm();bW.exports=function(t,n){var r=!1;return n?t=Qae(t)||CW:(n=t,t=CW),ece(function(o){if(t(o))return r=!0,n(null,o),!1},function(o){r||n(o===!0?null:o,null)})}});var BC=O((JSe,SW)=>{"use strict";var tce=dm();SW.exports=function(t,n,r){r||(r=n,n=null);var o=tce(function(i){n=t(n,i)},function(i){r(i,n)});return arguments.length===2?function(i){i(null,function(s,a){if(s)return r(s===!0?null:s);n=a,o(i)})}:o}});var sR=O((XSe,DW)=>{"use strict";var nce=BC();DW.exports=function(t){return nce(function(n,r){return n.push(r),n},[],t)}});var PW=O((ZSe,IW)=>{"use strict";var rce=sR();IW.exports=function(){return t=>{let n,r,o=new Promise((i,s)=>{n=i,r=s});return rce((i,s)=>{i?r(i):n(s)})(t),o}}});var kW=O((QSe,TW)=>{"use strict";var oce=BC();TW.exports=function(t){return oce(function(n,r){return n+r},"",t)}});var NW=O((eDe,RW)=>{"use strict";RW.exports={drain:dm(),onEnd:xW(),log:yW(),find:_W(),reduce:BC(),collect:sR(),collectAsPromise:PW(),concat:kW()}});var AW=O((tDe,LW)=>{"use strict";function ice(e){return e}var sce=fm();LW.exports=function(t){return t?(t=sce(t),function(n){return function(r,o){n(r,function(i,s){try{s=i?null:t(s)}catch(a){return n(a,function(){return o(a)})}o(i,s)})}}):ice}});var OW=O((nDe,FW)=>{"use strict";function ace(e){return e}var cce=fm();FW.exports=function(t){if(!t)return ace;t=cce(t);var n=!1,r,o;return function(i){return function s(a,c){if(o)return c(o);a?(o=a,n?i(a,function(l){n?r=c:c(a)}):i(a,function(l){c(a)})):i(null,function(l,u){l?c(l):o?c(o):(n=!0,t(u,function(d,p){n=!1,o?(c(o),r&&r(o)):d?s(d,c):c(null,p)}))})}}}});var aR=O((rDe,UW)=>{var lce=fm();function uce(e){return e}UW.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(n){return t.test(n)}:lce(t)||uce}});var qC=O((oDe,MW)=>{"use strict";var dce=aR();MW.exports=function(t){return t=dce(t),function(n){return function r(o,i){for(var s,a=!0;a;)a=!1,s=!0,n(o,function(c,l){if(!c&&!t(l))return s?a=!0:r(c,i);i(c,l)}),s=!1}}}});var jW=O((iDe,$W)=>{"use strict";var fce=aR(),pce=qC();$W.exports=function(t){return t=fce(t),pce(function(n){return!t(n)})}});var BW=O((sDe,HW)=>{"use strict";HW.exports=function(t,n){var r=!1;function o(i){r||!n||(r=!0,n(i===!0?null:i))}return function(i){return function(s,a){return s&&o(s),i(s,function(c,l){c?o(c):t&&t(l),a(c,l)})}}}});var WW=O((aDe,qW)=>{"use strict";qW.exports=function(t,n){n=n||{};var r=n.last||!1,o=!1;if(typeof t=="number"){r=!0;var i=t;t=function(){return--i}}return function(s){function a(c){s(!0,function(l){r=!1,c(l||!0)})}return function(c,l){o&&!c?r?a(l):l(o):(o=c)?s(o,l):s(null,function(u,d){(o=o||u)?l(o):t(d)?l(null,d):(o=!0,r?l(null,d):a(l))})}}}});var cR=O((cDe,YW)=>{"use strict";function mce(e){return e}var hce=fm(),gce=qC();YW.exports=function(t,n){t=hce(t)||mce;var r={};return gce(function(o){var i=t(o);return r[i]?!!n:(r[i]=!0,!n)})}});var zW=O((lDe,VW)=>{"use strict";var vce=cR();VW.exports=function(t){return vce(t,!0)}});var KW=O((uDe,GW)=>{"use strict";var xce=HC(),wce=iR();GW.exports=function(){return function(t){var n;return function(r,o){r?n?n(r,function(a){t(a||r,o)}):t(r,o):n?i():s();function i(){n(null,function(a,c){a?a===!0?s():t(!0,function(l){o(a)}):o(null,c)})}function s(){n=null,t(null,function(a,c){if(a)return o(a);c&&typeof c=="object"?c=xce(c):typeof c!="function"&&(c=wce(c)),n=c,i()})}}}}});var XW=O((dDe,JW)=>{"use strict";JW.exports={map:AW(),asyncMap:OW(),filter:qC(),filterNot:jW(),through:BW(),take:WW(),unique:cR(),nonUnique:zW(),flatten:KW()}});var lR=O((fDe,ZW)=>{"use strict";ZW.exports=function e(t){var n=arguments.length;if(typeof t=="function"&&t.length===1){for(var r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var c=r;switch(r=null,n){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var i=t;i&&typeof i.source=="function"&&(i=i.source);for(var o=1;o<n;o++){var s=arguments[o];typeof s=="function"?i=s(i):s&&typeof s=="object"&&(s.sink(i),i=s.source)}return i}});var Jv=O((jd,nY)=>{"use strict";var QW=hW(),eY=NW(),tY=XW();jd=nY.exports=lR();jd.pull=jd;for(ns in QW)jd[ns]=QW[ns];var ns;for(ns in tY)jd[ns]=tY[ns];var ns;for(ns in eY)jd[ns]=eY[ns];var ns});var wR=O((jDe,SY)=>{var $De=SY.exports=function(e){(function t(){var n=!0,r=!1,o=!1;do o=!0,n=!1,e.call(this,function(){o?n=!0:t()}),o=!1;while(n)})()}});var IY=O((HDe,DY)=>{var Lce=wR();DY.exports=function(e,t){return function(n){var r=[],o,i;function s(l){r.push(l)}e=e||function(l){this.queue(l)},t=t||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(o=!0,s(null)),l=="error"&&(i=u)},queue:s},c;return function(l,u){if(o=o||l,l)return n(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,Lce(function d(p){if(c)if(u=c,i)c=null,u(i);else if(r.length){var f=r.shift();c=null,u(f===null,f)}else n(o,function(m,h){if(m&&m!==!0)return i=m,p();if(o=o||m)t.call(a);else if(h!==null&&(e.call(a,h),i||o))return n(i||o,function(){c=null,u(i||o)});p(d)})})}}}});var TY=O((BDe,PY)=>{PY.exports=function(){var e=[],t=0;function n(){return e.reduce(function(r,o){return r+o.length},0)}return{length:t,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=t=t+r.length,e.push(r),this},has:function(r){return r==null?t>0:t>=r},get:function(r){var o;if(r==null||r===t){t=0;var i=e;return e=[],i.length==1?i[0]:Buffer.concat(i)}else if(e.length>1&&r<=(o=e[0].length)){var s=e[0].slice(0,r);return r===o?e.shift():e[0]=e[0].slice(r,o),t-=r,s}else if(r<t){for(var a=[],c=0;c+e[0].length<r;){var l=e.shift();c+=l.length,a.push(l)}return c<r&&(a.push(e[0].slice(0,r-c)),e[0]=e[0].slice(r-c,e[0].length),this.length=t=t-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var LY=O((qDe,NY)=>{"use strict";var Ace=TY();function Fce(e){return Number.isFinite(e)}function kY(e){return typeof e=="function"}function RY(e,t){return t?function(n,r){var o=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),r)},t);e(n,function(i,s){clearTimeout(o),r(i,s)})}:e}NY.exports=function(e){var t=[],n,r,o=!1,i=Ace(),s,a,c;function l(){for(;t.length;)if(t[0].length==null&&i.has(1))t.shift().cb(null,i.get());else if(i.has(t[0].length)){var p=t.shift();p.cb(null,i.get(p.length))}else if(s==!0&&t[0].length&&i.length<t[0].length){var f="stream ended with:"+i.length+" but wanted:"+t[0].length;t.shift().cb(new Error(f))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!i.has(1)||c}function u(){var p=l();p&&!o&&n&&!o&&!a&&(o=!0,r(null,function(f,m){if(o=!1,f)return s=f,l();i.add(m),u()}))}function d(p){if(c){for(;t.length;)t.shift().cb(c);return cb&&cb(c)}r=RY(p,e),n=p,u()}return d.abort=function(p,f){c=p||!0,n?(o=!0,n(c,function(){for(;t.length;)t.shift().cb(c);f&&f(c)})):f()},d.read=function(p,f,m){if(kY(f)&&(m=f,f=e),kY(m))t.push({length:Fce(p)?p:null,cb:m}),u();else return a=!0,function(h,v){if(o||i.has(1)){if(h)return n(h,v);t.push({length:null,cb:v}),u()}else RY(n,f)(h,function(g,y){v(g,y)})}},d}});var YY=O((qd,WY)=>{var Oce=IY(),Uce=LY(),AY=cE(),FY=0,OY=1,UY=2,MY="GOODBYE";function $Y(e){let t=Buffer.alloc(9),n=0,r=e.value!==void 0?e.value:e.end;return typeof e=="string"&&e===MY?(t.fill(0),[t,null]):(typeof r=="string"?(n=OY,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=FY:(n=UY,r=Buffer.from(JSON.stringify(r),"utf-8")),n=e.stream<<3|e.end<<2|n,t[0]=n,t.writeUInt32BE(r.length,1),t.writeInt32BE(e.req||0,5),[t,r])}function jY(e){if(e.length!==9)throw new Error("expected header to be 9 bytes long");let t=e[0],n=e.readUInt32BE(1);return{req:e.readInt32BE(5),stream:!!(t&8),end:!!(t&4),value:null,length:n,type:t&3}}function HY(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(t.type===FY)t.value=e;else if(t.type===OY)t.value=e.toString();else if(t.type===UY)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function BY(e){return Oce(function(n){e&&e("encoded: %o",n);let[r,o]=$Y(n);this.queue(r),o!==null&&this.queue(o)})}function qY(e){let t=Uce(),n=!1;return function(o){return t(o),function(s,a){if(n)return a(!0);if(s)return t.abort(s,a);t.read(9,function(l,u){if(l)return a(l);let d=jY(u);if(d.length===0)return n=!0,a(null,MY);t.read(d.length,function(f,m){if(f)return a(f);try{HY(m,d)}catch(h){return a(h)}e&&e("decoded: %o",d),a(null,d)})})}}}qd=WY.exports=function(t,n){let r=n===!0?AY("packet-stream-codec"):typeof n=="string"?AY(n):null;return{source:BY(r)(t.source),sink(o){return t.sink(qY(r)(o))}}};qd.encodePair=$Y;qd.decodeHead=jY;qd.decodeBody=HY;qd.encode=BY;qd.decode=qY});var yR=O((WDe,VY)=>{function Mce(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}function $ce(e){console.error("packet-stream asked to read after closed",e)}VY.exports={flat:Mce,closedread:$ce}});var KY=O((YDe,GY)=>{var{flat:zY,closedread:jce}=yR();function zC(e,t,n){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=n}zC.prototype.write=function(e,t){let n=this._ps;t?(this.writeEnd=t,n&&(n.read({req:this.id,stream:!0,end:!0,value:zY(t)}),this.readEnd&&this.destroy(t),n._maybedone(t))):n&&n.read({req:this.id,stream:!0,end:!1,value:e})};zC.prototype.end=function(e){this.write(null,zY(e||!0))};zC.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=jce,this._ps=null)};GY.exports=zC});var ZY=O((VDe,XY)=>{var JY=KY(),{flat:ER,closedread:Hce}=yR();function ki(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}ki.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};ki.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,o)=>{this._requests.delete(n),t(r,o),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:e})};ki.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let e=this._req_counter++,t=new JY(e,this,()=>{this._outstreams.delete(e)});return this._outstreams.set(e,t),t};ki.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};ki.prototype.destroy=function(e){e=e||ER(e),this.ended=e,this._closing=!0;let t=e===!0?new Error("unexpected end of parent stream"):e,n=0;this._requests.forEach(r=>{n++,r(t)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),n===0&&e===!0&&(t=null),this._maybedone(t)};ki.prototype._maybedone=function(e){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,e||!0),this._closed=!0,this._closecbs.forEach(t=>{t(e)}),this.opts=null,this._closecbs.length=0,this.read=Hce,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};ki.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};ki.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};ki.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};ki.prototype._onrequest=function(e){let t=e.req*-1;if(e.req<0)this._requests.has(t)&&this._requests.get(t)(e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(e.value,(r,o)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:ER(r),end:!0,req:t}):this.read({value:o,end:!1,req:t}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:ER(n),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};ki.prototype._onstream=function(e){if(e.req<0){let t=e.req*-1,n=this._outstreams.get(t);if(!n)return console.error("no stream for incoming msg",e);e.end?(n.writeEnd&&this._outstreams.delete(t),n.readEnd=!0,n.read(null,e.value),this._maybedone()):n.read(e.value)}else{let t=e.req,n=this._instreams.get(t);n||(n=new JY(t*-1,this,()=>{this._instreams.delete(t)}),this._instreams.set(t,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),e.end?(n.writeEnd&&this._instreams.delete(t),n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};XY.exports=e=>new ki(e)});var eV=O((zDe,tx)=>{"use strict";var Bce=Jv();function qce(e){let t=!1;return(n,r)=>{t||(t=!0,e(n,r))}}function CR(e,t){let n=[],r=!1,o=!1,i,s,a=qce((c,l)=>{t&&t(c,l),e=null,t=null,i=null,s&&s(c||!0,()=>{})});return e.read=function(c,l){if(r=r||l,i){let u=i;i=null,u(r,c)}else!r&&!o&&n.push(c);r&&a(r!==!0?r:null)},{source(c,l){c?(e&&e.write(null,c),l(c),n.length=0,o=!0,a(c!==!0?c:null)):n.length?l(null,n.shift()):r?l(r):i=l},sink(c){if(r)return s=null,c(r,()=>{});s=c,Bce.drain(l=>{if(r)return!1;e.write(l)},l=>{e&&!e.writeEnd&&e.write(null,l||!0),a&&a(l)})(c)}}}function QY(e,t){return CR(e,n=>{e.writeEnd||e.write(null,n||!0),t&&t(n)})}function Wce(e){return QY(e).source}function Yce(e,t){return QY(e,t).sink}tx.exports=CR;tx.exports.source=Wce;tx.exports.sink=Yce;tx.exports.duplex=CR});var nV=O((GDe,tV)=>{tV.exports=function(t){var n,r,o;function i(s){return function(a,c){s(a,function(l,u){if(l&&!o)return o=!0,c(null,t);l&&n?c(l):l?r=c:c(null,u)})}}return i.end=function(){return n=!0,r&&r(n),i},i}});var oV=O((KDe,rV)=>{var Vce=nV(),bR=Jv();rV.exports=function(e,t){t=t||"GOODBYE";var n=Vce(t);return{source:bR(e.source,n),sink:bR(bR.filter(function(r){if(r!==t)return!0;n.end()}),e.sink)}}});var nx=O(os=>{"use strict";var GC=Jv();function zce(e){return e?Object.keys(e).length===0:!0}os.set=function(t,n,r){let o,i;for(let s=0;s<n.length;s++){let a=n[s];t[a]=t[a]||{},o=t,i=a,t=t[a]}o[i]=r};os.get=function(t,n){if(typeof n=="string")return t[n];let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=t=t[i],t==null)return t}return r};os.prefix=function(t,n){let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=t=t[i],typeof t!="object")return t}return typeof r!="object"?!!r:!1};function Gce(e,t){for(let n in t){let r=t[n];e[r]||(e[r]={}),e=e[r]}return e}function Kce(e,t){(function n(r,o){let i=t[o];if(r)t.length-1===o?delete r[i]:o<t.length&&n(r[i],o+1);else return;zce(r[i])&&delete r[i]})(e,0)}function Jce(e,t){for(let n in t)e[n]=t[n];return e}os.mount=function(t,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return Jce(Gce(t,n),r)};os.unmount=function(t,n){return Kce(t,n)};var KC=e=>e==="source",JC=e=>e==="sink",_R=e=>e==="duplex",Xce=e=>e==="sync",Zce=e=>e==="async",iV=e=>Xce(e)||Zce(e),Qce=e=>KC(e)||JC(e)||_R(e);os.isRequest=iV;os.isStream=Qce;function SR(e){return function(t){t(e||!0,()=>{})}}function sV(e){return{source:GC.error(e),sink:SR(e)}}os.errorAsStream=function(t,n){return KC(t)?GC.error(n):JC(t)?SR(n):sV(n)};os.errorAsStreamOrCb=function(t,n,r){return iV(t)?r(n):_R(t)?sV(n):KC(t)?GC.error(n):JC(t)?SR(n):r(n)};os.pipeToStream=function(t,n,r){KC(t)?n(r):JC(t)?r(n):_R(t)&&GC(n,r,n)}});var DR=O((XDe,aV)=>{"use strict";function ele(e){return typeof e=="string"?[`Error: ${e}`]:e.stack?e.stack.split(`
`):[`${e.name}: ${e.message}`]}aV.exports=function(t,n){let r=new Error(n),o=r.stack.split(`
`);o.splice(1,1);let i=ele(t);i[0]="  "+i[0];for(let s=1;s<o.length;s++)if(i.includes(o[s])){o.splice(s);break}return r.stack=o.concat(i).join(`
`),r}});var dV=O((ZDe,uV)=>{"use strict";var tle=ZY(),IR=eV(),nle=oV(),mm=nx(),cV=DR(),lV=cE()("muxrpc:psc");uV.exports=function(t,n,r){let o=tle({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,d=!1;l.push((p,f)=>{d=!0,u=!0,a(p,f)});try{t("async",c,l)}catch(p){if(u||d)throw cV(p,"no callback provided to muxrpc async funtion");a(p)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:d,args:p}=c,f,m;if(s.read=null,!mm.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{m=t(d,u,p)}catch(g){f=g}let v=IR[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return mm.pipeToStream(d,v,f?mm.errorAsStream(d,f):m)}},close(s){if(o=null,i.ended=!0,!i.closed&&(i.closed=!0,r)){let a=r;r=null,a(s)}}}),i=nle(IR(o,()=>{}));return i=n?n(i,lV.enabled?lV.namespace:!1):i,i.remoteCall=function(s,a,c,l){if(a==="emit")return o.message(c);if(!(mm.isRequest(s)||mm.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(mm.isRequest(s))return o.request({name:a,args:c},l);let u=o.stream(),d=IR[s](u,l);return u.write({name:a,args:c,type:s}),d},i.isOpen=function(){return!o.ended},i.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!o){a&&a();return}if(s){o.destroy(s),a&&a();return}return o.close(c=>{if(a)a(c);else if(c)throw cV(c,"no callback provided for muxrpc close")}),this},i.closed=!1,i}});var pV=O((QDe,fV)=>{"use strict";var rle=DR(),ole=nx();function PR(e,t,n,r){for(let o in t){let i=t[o],s=n?n.concat(o):[o];if(i&&typeof i=="object"){let a=i;e[o]=PR({},a,s,r)}else{let a=i;e[o]=(...c)=>r(a,s,c)}}return e}function ile(e){if(e)throw rle(e,"callback not provided")}function sle(e,t,n,r){e=e||{};function o(i,s,a){let c=typeof a[a.length-1]=="function"?a.pop():i==="sync"||i==="async"?null:ile;if(typeof c=="function"){let l;try{l=n(i,s,a,c)}catch(u){return ole.errorAsStreamOrCb(i,u,c)}return l}else return new Promise((l,u)=>{n(i,s,a,(d,p)=>{d?u(d):l(p)})})}return r?o("async","manifest",[function(i,s){if(i)return r(i);PR(e,s,null,o),r(null,s,e)}]):PR(e,t,null,o),e}fV.exports=sle});var gV=O((e0e,hV)=>{"use strict";var XC=nx();function mV(e){return Array.isArray(e)?e:e.split(".")}function ale(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}hV.exports=function(t){if(ale(t))return t;if(typeof t=="function")return{pre:t};let n=null,r={};function o(i){if(i.allow){n={};for(let s of i.allow)XC.set(n,mV(s),!0)}else n=null;if(i.deny)for(let s of i.deny)XC.set(r,mV(s),!0);else r={};return this}return t&&o(t),o.pre=i=>{if(i=Array.isArray(i)?i:[i],n&&!XC.prefix(n,i))return new Error(`method:${i} is not in list of allowed methods`);if(r&&XC.prefix(r,i))return new Error(`method:${i} is on list of disallowed methods`)},o.post=()=>{},o.test=i=>o.pre(i),o.get=()=>({allow:n,deny:r}),o}});var xV=O((t0e,vV)=>{"use strict";var cle=gV(),TR=nx();vV.exports=function(t,n,r){r=cle(r);function o(s,a){return s===TR.get(n,a)}function i(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&o("sync",a)){let l=c.pop(),u;try{u=TR.get(t,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!o(s,a))throw new Error(`no ${s}:${a}`);return TR.get(t,a).apply(this,c)}return function(a,c,l){let u=r.pre(c,l);if(u)throw u;return i.call(this,a,c,l)}}});var EV=O((n0e,yV)=>{"use strict";var lle=YY(),ule=require("events").EventEmitter,dle=dV(),fle=pV(),ple=xV();function wV(e,t,n,r,o,i,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let c=new ule;i||(i=lle);let l,u={_emit(p,f){return c&&c._emit(p,f),u},id:r},d=dle(ple(n,t,o).bind(u),i,p=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let f=l;l=null,f(p)}});if(fle(c,e,(p,f,m,h)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(p,f,m,h)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",f=>{u.id=f});let p=!0;c.createStream=f=>{if(l=f,p)return p=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(p,f){return d.close(p,f),this},c}yV.exports=function(e,t,n){return arguments.length>3?wV.apply(this,arguments):function(r,o,i){return wV(e,t,r,i,o,n,!0)}}});var tb=O((Xa,_V)=>{var r0e=lR(),mle=wR();function CV(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function bV(e,t,n){var r,o=!1,i;function s(){i||(i=!0,n&&n(r===!0?null:r))}function a(){o||(o=!0,l(),r?s():e(r=!0,s))}function c(u){l(),r||e(r=u,s)}function l(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",c)}t.on("close",a),t.on("finish",a),t.on("error",c),process.nextTick(function(){mle(function(u){e(null,function(d,p){if(r=r||d,d===!0)return t._isStdio?s():t.end();if(r=r||d)return CV(t),s(r);if(t._isStdio)t.write(p,function(){u()});else{var f=t.write(p);f===!1?t.once("drain",u):u()}})})})}function hle(e){var t=!1,n=!1,r;function o(){var i=e.read();if(i!==null&&r){var s=r;r=null,s(null,i)}}return e.on("readable",function(){n=!0,r&&o()}).on("end",function(){t=!0,r&&r(t)}).on("error",function(i){t=i,r&&r(t)}),function(i,s){r=s,t?s(t):n&&o()}}function ZC(e){var t=[],n=[],r,o=!1,i;function s(){for(;(t.length||r)&&n.length;)n.shift()(t.length?null:r,t.shift());!t.length&&o&&(o=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(o=!0,e.pause())}),e.on("end",function(){r=!0,s()}),e.on("close",function(){r=!0,s()}),e.on("error",function(a){r=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;n.length;)n.shift()(a);c(a)};var l=u;if(r)return u();e.once("close",u),CV(e)}else n.push(c),s()}}var gle=ZC,QC=function(e,t){return function(n){return bV(n,e,t)}},eb=function(e){return ZC(e)};Xa=_V.exports=function(e,t){return e.writable&&e.write?e.readable?function(n){return bV(n,e,t),ZC(e)}:QC(e,t):eb(e)};Xa.sink=QC;Xa.source=eb;Xa.read=gle;Xa.read1=ZC;Xa.read2=hle;Xa.duplex=function(e,t){return{source:eb(e),sink:QC(e,t)}};Xa.transform=function(e){return function(t){var n=eb(e);return QC(e)(t),n}}});var DV=O((o0e,nb)=>{var vle=require("stream");nb.exports=kR;nb.exports.source=function(e){return kR(null,e)};nb.exports.sink=function(e){return kR(e,null)};var SV=typeof setImmediate>"u"?process.nextTick:setImmediate;function kR(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var n=[],r=[],o,i,s=new vle;s.writable=s.readable=!0,s.write=function(v){return n.length?n.shift()(null,v):r.push(v),n.length||(i=!0),!!n.length},s.end=function(){t?r.length?h():t(o=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(v,g){r.length?(g(null,r.shift()),r.length||s.emit("drain")):((o=o||v)?g(o):n.push(g),i&&(i=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var c=[],l=[],u=!1,d=!1,p=!1;if(s.sink=function(v){t=v,SV(h)},t){s.sink(t),s.paused=!0;var f=s.on.bind(s);s.on=(v,g)=>{var y=f(v,g);return v==="data"&&s.paused&&SV(s.resume.bind(s)),y};var m=s.pipe.bind(s);s.pipe=function(v,g){var y=m(v,g);return s.paused&&s.resume(),y}}function h(){if(d=!1,!(!t||p)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");p=!0,t(null,function v(g,y){p=!1,s.paused?(g===!0?u=g:g?s.emit("error",g):c.push(y),d=!0):g&&(o=g)!==!0?s.emit("error",g):(o=o||g)?s.emit("end"):(s.emit("data",y),p=!0,t(null,v))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!o&&t&&t(o=!0,function(){}),o=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var PV=O((i0e,IV)=>{IV.exports=xle;function xle(e,t){typeof e=="function"&&(t=e,e=!1);var n=[],r,o;function i(d,p){d&&(r=d,o&&u(r)),o=p,l()}var s;function a(d){s=s||d||!0,l()}function c(d){if(!s){if(o){u(r,d);return}n.push(d)}}if(e)return{push:c,end:a,source:i,buffer:n};return i.push=c,i.end=a,i.buffer=n,i;function l(){o&&(r?u(r):!n.length&&s?u(s):n.length&&u(null,n.shift()))}function u(d,p){var f=o;if(d&&t){var m=t;t=null,m(d===!0?null:d)}o=null,f(d,p)}}});var YR=O((KIe,az)=>{"use strict";var iz=require("child_process"),zle=1024*1024,sz={exec(e,t){iz.exec(e,{maxBuffer:2*zle,windowsHide:!0},t)},spawn(e,t,n){return iz.spawn(e,t,n)},stripLine(e,t){let n=0;for(;t-- >0;){let r=e.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?e.substring(n):e},split(e,t){let n=e.trim().split(/\s+/);return n.length>t&&(n[t-1]=n.slice(t-1).join(" ")),n},extractColumns(e,t,n){let r=e.split(/(\r\n|\n|\r)/),o=[];return n||(n=Math.max.apply(null,t)+1),r.forEach(i=>{let s=sz.split(i,n),a=[];t.forEach(c=>{a.push(s[c]||"")}),o.push(a)}),o},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return t.forEach(n=>{for(let r=0;n[r];){let o=n[r];o.startsWith(" ")?(n[r-1]+=o.trimLeft(),n.splice(r,1)):r+=1}}),t.map(n=>{let r={};return n.forEach(o=>{let i=o.indexOf(":"),s=o.slice(0,i).trim();r[s]=o.slice(i+1).trim()}),r})}};az.exports=sz});var lz=O((JIe,cz)=>{"use strict";var Gle=require("os"),Db=require("fs"),Ri=YR(),Kle=e=>new Promise((t,n)=>{Db.existsSync(e)?t():Db.mkdir(e,r=>{r?n(r):t()})}),VR={darwin(e){return new Promise((t,n)=>{Ri.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Ri.stripLine(o.toString(),2),a=Ri.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):n(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,n)=>{let r="netstat -tunlp";Ri.exec(r,function(o,i,s){if(o)n(o);else{let a=s.toString().trim();a&&console.warn(a);let c=Ri.stripLine(i.toString(),2),l=Ri.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);if(d&&d[1]===String(e))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?t(parseInt(u,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,n)=>{Ri.exec("netstat -ano",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Ri.stripLine(o.toString(),4),a=Ri.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):n(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,n)=>{let r=Gle.tmpdir()+"/.find-process",o=r+"/"+process.pid,i='netstat -tunp >> "'+o+'"';Kle(r).then(()=>{Ri.exec(i,()=>{Db.readFile(o,"utf8",(s,a)=>{if(Db.unlink(o,()=>{}),s)n(s);else{a=Ri.stripLine(a,2);let c=Ri.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})})})}};function Jle(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in VR))return r(new Error(`platform ${t} is unsupported`));let o=VR[t];typeof o=="string"&&(o=VR[o]),o(e).then(n,r)})}cz.exports=Jle});var pz=O((XIe,fz)=>{"use strict";var Ib=require("path"),_l=YR();function zR(e,t){return t?e&&e.match?e.match(t):!1:!0}function uz(e){let t=e.split(Ib.sep),n=t[t.length-1];n&&(t[t.length-1]=n.split(" ")[0]);let r=[];for(let o of t){let i=o.indexOf(" -");if(i>=0){r.push(o.substring(0,i).trim());break}else if(o.endsWith(" ")){r.push(o.trim());break}r.push(o)}return r.join(Ib.sep)}function dz(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return Ib.basename(e.substring(0,t))}return Ib.basename(e)}var GR={darwin(e){return new Promise((t,n)=>{let r;"pid"in e?r=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",_l.exec(r,function(o,i,s){if(o)"pid"in e?t([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=_l.stripLine(i.toString(),1),l=_l.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[4]&&e.name?zR(u[4],e.name):!!u[0]).map(u=>{let d=String(u[4]),p=uz(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:dz(p),bin:p,cmd:u[4]}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",o=[],i=_l.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});i.stdout.on("data",s=>{o.push(s.toString())}),i.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=_l.parseTable(o.join("")).filter(c=>{if("pid"in e)return c.ProcessId===String(e.pid);if(e.name){let l=c.Name||"";return e.strict?l===e.name||l.endsWith(".exe")&&l.slice(0,-4)===e.name:zR(c.CommandLine||l,e.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));t(a)})})},android(e){return new Promise((t,n)=>{let r="ps";_l.exec(r,function(o,i,s){if(o)"pid"in e?t([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=_l.stripLine(i.toString(),1),l=_l.extractColumns(a,[0,3],4).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[1]&&e.name?zR(u[1],e.name):!!u[0]).map(u=>{let d=String(u[1]),p=uz(d);return{pid:parseInt(u[0],10),name:dz(p),bin:p,cmd:d}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})}};function Xle(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in GR))return r(new Error(`platform ${t} is unsupported`));let o=GR[t];typeof o=="string"&&(o=GR[o]),o(e).then(n,r)})}fz.exports=Xle});var gz=O((ZIe,hz)=>{"use strict";var Zle=lz(),mz=pz(),KR={port(e,t){return Zle(e,t).then(n=>KR.pid(n,t),()=>[])},pid(e,t){return mz({pid:e,strict:t})},name(e,t){return mz({name:e,strict:t})}};function Qle(e,t,n){return new Promise((r,o)=>{if(!(e in KR))o(new Error(`do not support find by "${e}"`));else{let i=/^\d+$/.test(t);e==="pid"&&!i?o(new Error("pid must be a number")):e==="port"&&!i?o(new Error("port must be a number")):KR[e](t,n).then(r,o)}})}hz.exports=Qle});var xz=O((QIe,vz)=>{"use strict";vz.exports=gz()});var V3=O(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.BaseTelemetryReporter=void 0;var XN=class{constructor(t,n,r){this.telemetrySender=t,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,n,r,o){o?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logUsage(t,{properties:n,measurements:r})}sendTelemetryEvent(t,n,r){this.internalSendTelemetryEvent(t,n,r,!1)}sendRawTelemetryEvent(t,n,r){let o={...n};for(let i of Object.keys(o??{})){let s=o[i];typeof i=="string"&&s!==void 0&&(o[i]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(t,o,r)}sendDangerousTelemetryEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,n,r,!0)}internalSendTelemetryErrorEvent(t,n,r,o){o?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryErrorEvent(t,n,r){this.internalSendTelemetryErrorEvent(t,n,r,!1)}sendDangerousTelemetryErrorEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,n,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};E_.BaseTelemetryReporter=XN});var z3=O(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.BaseTelemetrySender=void 0;var ac;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(ac||(ac={}));var ZN=class{constructor(t,n){this._instantiationStatus=ac.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=t}sendEventData(t,n){if(!this._telemetryClient){this._instantiationStatus!==ac.INSTANTIATED&&this._eventQueue.push({eventName:t,data:n});return}this._telemetryClient.logEvent(t,n)}sendErrorData(t,n){if(!this._telemetryClient){this._instantiationStatus!==ac.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:n});return}let r={stack:t.stack,message:t.message,name:t.name};n?n.properties={...n.properties,...r}:n={properties:r},this._telemetryClient.logEvent("unhandlederror",n)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:n})=>this.sendEventData(t,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:n})=>this.sendErrorData(t,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===ac.NOT_INSTANTIATED&&(this._instantiationStatus=ac.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=ac.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=ac.INSTANTIATED}))}};C_.BaseTelemetrySender=ZN});var eL=O(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.TelemetryUtil=void 0;var QN=class e{static applyReplacements(t,n){for(let r of Object.keys(t))for(let o of n)o.lookup.test(r)&&(o.replacementString!==void 0?t[r]=o.replacementString:delete t[r])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};b_.TelemetryUtil=QN});var qm,cc,Js,us,Wm,Mx,tL=q(()=>{qm="function",cc="object",Js="undefined",us="prototype",Wm=Object,Mx=Wm[us]});var qr,qt,Ym,nL,Bl,rL,lc,Fi,$x,oL,uc,jx,Hx,G3,__,S_,ds,iL,D_,I_,Vm,un,P_,sL,Wr,aL,cL,ci,nt=q(()=>{qr=void 0,qt=null,Ym="",nL="boolean",Bl="function",rL="number",lc="object",Fi="prototype",$x="__proto__",oL="string",uc="undefined",jx="constructor",Hx="Symbol",G3="_polyfill",__="indexOf",S_="lastIndexOf",ds="length",iL="done",D_="value",I_="name",Vm="slice",un=Object,P_=un[Fi],sL=String,Wr=sL[Fi],aL=Math,cL=Array,ci=cL[Fi]});function Bx(e,t){var n=t;try{n=e()}catch{}return n}var lL=q(()=>{});function zm(e){return function(t){return typeof t===e}}function af(e){var t="[object "+e+"]";return function(n){return!!(n&&cf(n)===t)}}function cf(e){return P_.toString.call(e)}function T_(e,t){return typeof e===t}function Oe(e){return typeof e===uc||e===uc}function te(e){return e===qt||Oe(e)}function uL(e){return e===qt||!k_(e)}function k_(e){return!!e||e!==qr}function kt(e){return!e&&te(e)?!1:!!e&&typeof e===lc}function ql(e){return!!e&&Ae(e.then)}function R_(e){return!e||!Bx(function(){return e&&0+e},e)}function ps(e){return!(!e||Bx(function(){return!(e&&0+e)},!e))}var rme,dL,Fe,Ae,ge,Gm,cr,fs,ome,ime,sme,ame,cme,Xs,co=q(()=>{nt();lL();rme=[oL,rL,nL,uc,"symbol","bigint"];dL=function(e){return e!==lc&&rme.indexOf(e)!==-1},Fe=zm(oL),Ae=zm(Bl);ge=cL.isArray,Gm=af("Date"),cr=zm(rL),fs=zm(nL),ome=af("RegExp"),ime=af("File"),sme=af("FormData"),ame=af("Blob"),cme=af("ArrayBuffer"),Xs=af("Error")});var lf,N_=q(()=>{nt();lf=un.getOwnPropertyDescriptor});function wn(e,t){return e&&P_.hasOwnProperty.call(e,t)}var L_=q(()=>{nt()});function K3(e,t){return wn(e,t)||!!lf(e,t)}var No,A_=q(()=>{nt();N_();L_();No=un.hasOwn||K3});function fe(e,t,n){if(e&&kt(e)){for(var r in e)if(No(e,r)&&t.call(n||e,r,e[r])===-1)break}}var Wl=q(()=>{co();A_()});function fL(e,t,n,r){var o={};return fe(e,function(i,s){o[i]=t?s:i,o[s]=n?s:i}),r(o)}var J3=q(()=>{Wl()});function tn(e){throw new Error(e)}function zt(e){throw new TypeError(e)}var Yl=q(()=>{});function X3(e){var t=[];return fe(e,function(n,r){t.push([n,r])}),t}function Z3(e){var t=[];return fe(e,function(n,r){t.push(r)}),t}var Q3=q(()=>{Wl()});function Kn(e){return(!kt(e)||e===qt)&&zt("objKeys called on non-object"),un.keys(e)}function lo(e){return pL&&fe(e,function(t,n){(ge(n)||kt(n))&&pL(n)}),Zs(e)}var pL,e4,lme,uf,Zs,F_,Km,ume,$Le,Jm=q(()=>{nt();co();Yl();Wl();Q3();pL=un.freeze,e4=function(e){return e},lme=function(e){return e[$x]||qt},uf=un.assign;Zs=pL||e4,F_=un.seal||e4,Km=un.getPrototypeOf||lme,ume=un.entries||X3,$Le=un.values||Z3});function mL(e){return fL(e,1,0,lo)}function hL(e){return fL(e,0,0,lo)}function t4(e){var t={};return fe(e,function(n,r){t[n]=r[1],t[r[0]]=r[1]}),lo(t)}function gL(e){return t4(e)}var vL=q(()=>{J3();Wl();Jm()});var O_,xL=q(()=>{vL();O_=hL({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12})});var Nn,Xm=q(()=>{nt();Nn=sL});function yL(){var e;return typeof globalThis!==uc&&(e=globalThis),!e&&typeof self!==uc&&(e=self),!e&&typeof window!==uc&&(e=window),!e&&typeof global!==uc&&(e=global),e}function U_(){if(!wL){var e=yL()||{};wL=e[n4]=e[n4]||{}}return wL}var n4,wL,M_=q(()=>{nt();n4="__tsUtils$gblCfg"});function pe(e,t){var n=Ym;if(Xs(e))n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{n=JSON.stringify(e,qt,t?cr(t)?t:4:qr)}catch(r){n=" - "+pe(r,t)}return cf(e)+": "+n}var Vl=q(()=>{nt();co()});function o4(e){return function(t){return t[e]}}var EL,r4,$_,Yr,Oi,uo=q(()=>{Vl();Yl();Xm();nt();EL=ci[Vm],r4=function(e,t){zt("'"+Nn(e)+"' not defined for "+pe(t))},$_=function(e){return function(t){return t[e].apply(t,EL.call(arguments,1))}},Yr=function(e,t){var n=t&&t[e];return function(r){var o=r&&r[e]||n;if(o)return o.apply(r,EL.call(arguments,1));r4(e,r)}},Oi=function(e,t,n){var r=t&&t[e];return function(o){var i=o&&o[e]||r;if(i||n){var s=arguments;return(i||n).apply(o,i?EL.call(s,1):s)}r4(e,o)}}});var sAe,i4,s4=q(()=>{nt();sAe=aL.min,i4=aL.max});var CL,a4=q(()=>{nt();uo();CL=Yr(Vm,Wr)});function c4(e,t,n){return te(e)&&zt("'polyStrSubstr called with invalid "+pe(e)),n<0?Ym:(t=t||0,t<0&&(t=i4(t+e[ds],0)),Oe(n)?CL(e,t):CL(e,t,t+n))}function zl(e,t){return dn(e,0,t)}var dn,ms,j_=q(()=>{co();Vl();Yl();nt();uo();s4();a4();dn=Yr("substring",Wr),ms=Oi("substr",Wr,c4)});function dme(e,t,n){Fe(e)||zt("'"+pe(e)+"' is not a string");var r=Fe(t)?t:Nn(t),o=r[ds],i=n>0?n:0;return dn(e,i,i+o)===r}var df,l4=q(()=>{co();Vl();Yl();nt();uo();Xm();j_();df=Oi("startsWith",Wr,dme)});function fme(){if(!bL){var e=U_();bL=e.gblSym=e.gblSym||{k:{},s:{}}}return bL}function H_(e){var t={description:Nn(e),toString:function(){return Hx+"("+e+")"}};return t[G3]=!0,t}function f4(e){var t=fme();if(!No(t.k,e)){var n=H_(e),r=Kn(t.s).length;n[u4]=function(){return r+"_"+n.toString()},t.k[e]=n,t.s[n[u4]()]=Nn(e)}return t.k[e]}function p4(e){var t,n=O_[e];return n&&(t=d4[n]=d4[n]||H_(Hx+"."+n)),t}var u4,bL,d4,m4=q(()=>{xL();nt();A_();Xm();M_();Jm();u4="_urid";d4={}});function h4(e){var t={};if(t[B_.c]=!0,t[B_.e]=!0,e.l){t.get=function(){return e.l.v};var n=lf(e.l,"v");n&&n.set&&(t.set=function(r){e.l.v=r})}return fe(e,function(r,o){t[B_[r]]=Oe(o)?t[B_[r]]:o}),t}function q_(e,t,n,r,o,i){var s={e:i,c:o};return n&&(s.g=n),r&&(s.s=r),Ln(e,t,h4(s))}function wt(e,t,n){return Ln(e,t,h4(n))}var B_,Ln,pme,Zm=q(()=>{nt();co();Wl();N_();B_={e:"enumerable",c:"configurable",v:D_,w:"writable",g:"get",s:"set"};Ln=un.defineProperty,pme=un.defineProperties});function hs(e){var t={};return _L&&_L(),t.b=Ot.lzy,Ln(t,"v",{configurable:!0,get:function(){var n=e();return Ot.lzy||(Ln(t,"v",{value:n}),t.b&&delete t.b),Ot.lzy&&t.b!==Ot.lzy&&(t.b=Ot.lzy),n}}),t}var Ot,_L,Gl=q(()=>{nt();M_();Zm();_L=function(){Ot=U_(),_L=qt}});function dc(e,t){return hs(function(){return Bx(e,t)})}var W_=q(()=>{Gl();lL()});var g4,Qm,eh,Y_,V_,z_,SL,li,Vr,Ut,Kl,nn,Jl,fn,th,An,G_,qx,DL,Wx=q(()=>{nt();M_();W_();Gl();g4="window",li=function(e){return dc(function(){return Ut(e)||qr},qr)},Vr=function(e){return(!Qm||e===!1||Ot&&Ot.lzy&&!Qm.b)&&(Qm=dc(yL,qt)),Qm.v},Ut=function(e,t){var n=!Qm||t===!1?Vr(t):Qm.v;return n&&n[e]?n[e]:e===g4&&eh?eh.v:qt},Kl=function(){return!!nn()},nn=function(){return(!Y_||Ot&&Ot.lzy&&!Y_.b)&&(Y_=li("document")),Y_.v},Jl=function(){return!!fn()},fn=function(){return(!eh||Ot&&Ot.lzy&&!eh.b)&&(eh=li(g4)),eh.v},th=function(){return!!An()},An=function(){return(!V_||Ot&&Ot.lzy&&!V_.b)&&(V_=li("navigator")),V_.v},G_=function(){return!!qx()},qx=function(){return(!z_||Ot&&Ot.lzy&&!z_.b)&&(z_=li("history")),z_.v},DL=function(){return!SL&&(SL=dc(function(){return!!(process&&(process.versions||{}).node)},!1)),SL.v}});function x4(e){return dc(function(){return fo.v?fo.v[e]:qr},qr)}function IL(){return!!Yx()}function Yx(){var e=!fo||Ot&&Ot.lzy&&!fo.b;return e&&(fo=li(Hx)),(!K_||e)&&(K_=x4("for")),(!v4||e)&&(v4=x4("keyFor")),fo.v}function ff(e,t){var n=O_[e];return(!fo||Ot.lzy&&!fo.b)&&Yx(),fo.v?fo.v[n||e]:t?qr:p4(e)}function pf(e,t){return(!fo||Ot.lzy&&!fo.b)&&Yx(),fo.v?fo.v(e):t?qt:H_(e)}function Vx(e){return(!K_||Ot.lzy&&!fo.b)&&Yx(),(K_.v||f4)(e)}var fo,K_,v4,w4,J_=q(()=>{nt();m4();xL();co();Gl();W_();Wx();w4=zm("symbol")});function zx(e){return!!e&&Ae(e.next)}function y4(e){return!uL(e)&&Ae(e[ff(3)])}var PL=q(()=>{J_();co()});function E4(e,t,n){if(e&&(zx(e)||(!X_&&(X_=hs(function(){return ff(3)})),e=e[X_.v]?e[X_.v]():null),zx(e))){var r=void 0,o=void 0;try{for(var i=0;!(o=e.next())[iL]&&t.call(n||e,o[D_],i,e)!==-1;)i++}catch(s){r={e:s},e.throw&&(o=null,e.throw(r))}finally{try{o&&!o[iL]&&e.return&&e.return(o)}finally{if(r)throw r.e}}}}var X_,C4=q(()=>{Gl();nt();J_();PL()});var fc,Z_=q(()=>{uo();fc=$_("apply")});function Ui(e,t){return!Oe(t)&&e&&(ge(t)?fc(e.push,e,t):zx(t)||y4(t)?E4(t,function(n){e.push(n)}):e.push(t)),e}var b4=q(()=>{co();PL();C4();Z_()});function ne(e,t,n){if(e)for(var r=e[ds]>>>0,o=0;o<r&&!(o in e&&t.call(n||e,e[o],o,e)===-1);o++);}var Q_=q(()=>{nt()});var lt,mme,TL=q(()=>{nt();uo();lt=Yr(__,ci),mme=Yr(S_,ci)});var Qs,_4=q(()=>{nt();uo();Qs=Yr("map",ci)});var br,Gx=q(()=>{nt();uo();br=Yr(Vm,ci)});var Kx,kL=q(()=>{uo();Kx=$_("call")});function S4(e,t,n){return lt(e,t,n)!==-1}var D4=q(()=>{TL()});var eS,I4=q(()=>{nt();uo();D4();eS=Oi("includes",ci,S4)});var nh,P4=q(()=>{nt();uo();nh=Yr("reduce",ci)});function gme(e){if(!e)return{};var t=typeof e;if(t!==lc&&t!==Bl)throw new TypeError("Prototype must be an Object or function: "+pe(e));function n(){}return n[Fi]=e,new n}var hme,Jx,RL=q(()=>{nt();Vl();hme=un.create,Jx=hme||gme});function LL(e,t){var n=un.setPrototypeOf||function(r,o){!NL&&(NL=hs(function(){var i;return i={},i[$x]=[],i instanceof Array})),NL.v?r[$x]=o:fe(o,function(i,s){return r[i]=s})};return n(e,t)}var NL,T4=q(()=>{Gl();nt();Wl()});function AL(e,t,n){var r=n||Error,o=r[Fi][I_],i=Error.captureStackTrace;return vme(e,function(){var s=this;try{k4(r,e);var a=fc(r,s,br(arguments))||s;if(a!==s){var c=Km(s);c!==Km(a)&&LL(a,c)}return i&&i(a,s[jx]),t&&t(a,arguments),a}finally{k4(r,o)}},r)}var vme,k4,R4,N4=q(()=>{Gx();Z_();nt();RL();Zm();Jm();T4();vme=function(e,t,n){R4(t,e),t=LL(t,n);function r(){this.constructor=t,R4(this,e)}return t[Fi]=n===qt?Jx(n):(r[Fi]=n[Fi],new r),t},k4=function(e,t){try{t&&(e[I_]=t)}catch{}},R4=function(e,t){try{wt(e,I_,{v:t,c:!0,e:!1})}catch{}}});function rn(){return(Date.now||L4)()}function L4(){return new Date().getTime()}var FL=q(()=>{});function OL(e){return function(n){return te(n)&&zt("strTrim called ["+pe(n)+"]"),n&&n.replace&&(n=n.replace(e,Ym)),n}}var A4,F4,O4,U4=q(()=>{co();Vl();Yl();nt();A4=OL(/^\s+|(?=\s)\s+$/g),F4=OL(/^\s+/g),O4=OL(/(?=\s)\s+$/g)});var pt,xme,wme,M4=q(()=>{nt();uo();U4();pt=Oi("trim",Wr,A4),xme=Oi("trimStart",Wr,F4),wme=Oi("trimEnd",Wr,O4)});function Jn(e){if(!e||typeof e!==lc)return!1;$L||($L=Jl()?fn():!0);var t=!1;if(e!==$L){ML||(UL=Function[Fi].toString,ML=Kx(UL,un));try{var n=Km(e);t=!n,t||(wn(n,jx)&&(n=n[jx]),t=n&&typeof n===Bl&&UL.call(n)===ML)}catch{}}return t}var UL,ML,$L,jL=q(()=>{kL();Wx();nt();L_();Jm()});function Eme(e,t,n,r){var o;return ne(e,function(i){if(i.k===t)return o=i,-1}),o||(o={k:t,v:t},e.push(o),r(o)),o.v}function HL(e,t,n,r){var o=n.handler,i=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:i},a=typeof t,c=!1,l=!1;t&&a===lc?c=Jn(t):l=t===qt||dL(a);var u={type:a,isPrim:l,isPlain:c,value:t,result:t,path:i,origin:n.src,copy:function(d,p){return HL(e,d,p?s:n,p)},copyTo:function(d,p){return j4(e,d,p,s)}};return u.isPrim?o&&Kx(o,n,u)?u.result:t:Eme(e,t,i,function(d){wt(u,"result",{g:function(){return d.v},s:function(m){d.v=m}});for(var p=0,f=o;!Kx(f||(p<$4.length?$4[p++]:yme),n,u);)f=qt})}function j4(e,t,n,r){if(!te(n))for(var o in n)t[o]=HL(e,n[o],r,o);return t}function H4(e,t,n){var r={handler:n,src:t,path:[]};return j4([],e,t,r)}function B4(e,t){var n={handler:t,src:e};return HL([],e,n)}function Cme(e){var t=e.value;if(ge(t)){var n=e.result=[];return n.length=t.length,e.copyTo(n,t),!0}return!1}function bme(e){var t=e.value;return Gm(t)?(e.result=new Date(t.getTime()),!0):!1}function _me(e){return e.type===Bl}function q4(e){var t=e.value;if(t&&e.isPlain){var n=e.result={};return e.copyTo(n,t),!0}return!1}var yme,$4,W4=q(()=>{Q_();kL();co();nt();Zm();jL();yme=function(e){return e.value&&q4(e),!0},$4=[Cme,q4,_me,bme]});function Sme(e,t){return ne(t,function(n){H4(e,n)}),e}function tS(e,t,n,r,o,i,s){return Sme(B4(e)||{},br(arguments))}var Y4=q(()=>{Q_();Gx();W4()});var rh,V4=q(()=>{nt();uo();rh=o4(ds)});function pc(){return(!nS||!nS.b&&Ot&&Ot.lzy)&&(nS=li("performance")),nS.v}function oh(){var e=pc();return e&&e.now?e.now():rn()}var nS,z4=q(()=>{FL();Wx();Gl()});function Dme(e,t,n){Fe(e)||zt("'"+pe(e)+"' is not a string");var r=Fe(t)?t:Nn(t),o=r[ds],i=e[ds],s=!Oe(n)&&n<i?n:i;return dn(e,s-o,s)===r}var Xl,G4=q(()=>{co();Vl();Yl();nt();uo();Xm();j_();Xl=Oi("endsWith",Wr,Dme)});var po,Ime,K4=q(()=>{nt();uo();po=Yr(__,Wr),Ime=Yr(S_,Wr)});function X4(e,t,n){var r,o=!0,i=e?t(qt):qt,s,a=function(){return o=!1,i&&i[BL]&&i[BL](),s},c=function(){return o=!0,i&&i[rS]&&i[rS](),s},l=function(){return i&&i[qL]?i[qL]():o},u=function(){return i=t(i),o||a(),s},d=function(){i&&n(i),i=qt},p=function(f){!f&&i&&d(),f&&!i&&u()};return s=(r={cancel:d,refresh:u},r[qL]=l,r[rS]=c,r[BL]=a,r[J4]=!1,r),Ln(s,J4,{get:function(){return!!i},set:p}),{h:s,dn:function(){i=qt}}}var rS,BL,qL,J4,Z4=q(()=>{nt();Zm();rS="ref",BL="un"+rS,qL="hasRef",J4="enabled"});function WL(e,t,n,r){var o=ge(n),i=o?n.length:0,s=(i>0?n[0]:o?qr:n)||setTimeout,a=(i>1?n[1]:qr)||clearTimeout,c=r[0];r[0]=function(){l.dn(),fc(c,e,br(arguments))};var l=X4(t,function(u){if(u){if(u.refresh)return u.refresh(),u;fc(a,e,[u])}return fc(s,e,r)},function(u){fc(a,e,[u])});return l.h}function Lo(e,t){return WL(this,!0,qr,br(arguments))}function YL(e,t,n){return WL(this,!0,e,br(arguments,1))}function VL(e,t){return WL(this,!1,qr,br(arguments))}var Q4=q(()=>{Gx();Z_();co();nt();Z4()});var Re=q(()=>{b4();Q_();I4();TL();_4();P4();Gx();co();N4();FL();Vl();vL();Wx();Y4();Gl();V4();z4();W_();Yl();RL();Zm();Wl();N_();A_();L_();jL();Jm();G4();K4();l4();j_();Xm();M4();J_();Q4()});function Ao(e,t){typeof t!==qm&&t!==null&&zt("Class extends value "+String(t)+" is not a constructor or null"),zL(e,t);function n(){this.constructor=e}e[us]=t===null?Jx(t):(n[us]=t[us],new n)}function oS(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var cUe,lUe,e6,Tme,Mi,zL,t6=q(()=>{Re();tL();cUe=(Vr()||{}).Symbol,lUe=(Vr()||{}).Reflect,e6="hasOwnProperty",Tme=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Mx[e6].call(t,o)&&(e[o]=t[o])}return e},Mi=uf||Tme,zL=function(e,t){return zL=Wm.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r[e6](o)&&(n[o]=r[o])},zL(e,t)}});var n6=q(()=>{});var Fo=q(()=>{tL();t6();n6();Re()});function l6(e){return e&&(e===eA[Zl]||e===Array[Zl])}function tA(e){return l6(e)||e===Function[Zl]}function mf(e){var t;if(e){if(Zx)return Zx(e);var n=e[c6]||e[Zl]||(e[cS]?e[cS][Zl]:null);t=e[sS]||n,wn(e,sS)||(delete e[GL],t=e[sS]=e[GL]||e[sS],e[GL]=n)}return t}function dS(e,t){var n=[];if(i6)n=i6(e);else for(var r in e)typeof r=="string"&&wn(e,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function nA(e,t,n){return t!==cS&&typeof e[t]===lS&&(n||wn(e,t))}function fS(e){zt("DynamicProto: "+e)}function Rme(e){var t={};return dS(e,function(n){!t[n]&&nA(e,n,!1)&&(t[n]=e[n])}),t}function rA(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Nme(e,t,n,r){function o(c,l,u){var d=l[u];if(d[JL]&&r){var p=c[uS]||{};p[Xx]!==!1&&(d=(p[l[ih]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}var i={};dS(n,function(c){i[c]=o(t,n,c)});for(var s=mf(e),a=[];s&&!tA(s)&&!rA(a,s);)dS(s,function(c){!i[c]&&nA(s,c,!Zx)&&(i[c]=o(t,s,c))}),a.push(s),s=mf(s);return i}function Lme(e,t,n,r){var o=null;if(e&&wn(n,ih)){var i=e[uS]||{};if(o=(i[n[ih]]||{})[t],o||fS("Missing ["+t+"] "+lS),!o[XL]&&i[Xx]!==!1){for(var s=!wn(e,t),a=mf(e),c=[];s&&a&&!tA(a)&&!rA(c,a);){var l=a[t];if(l){s=l===r;break}c.push(a),a=mf(a)}try{s&&(e[t]=o),o[XL]=1}catch{i[Xx]=!1}}}return o}function Ame(e,t,n){var r=t[e];return r===n&&(r=mf(t)[e]),typeof r!==lS&&fS("["+e+"] is not a "+lS),r}function Fme(e,t,n,r,o){function i(c,l){var u=function(){var d=Lme(this,l,c,u)||Ame(l,c,u);return d.apply(this,arguments)};return u[JL]=1,u}if(!l6(e)){var s=n[uS]=n[uS]||{},a=s[t]=s[t]||{};s[Xx]!==!1&&(s[Xx]=!!o),dS(n,function(c){nA(n,c,!1)&&n[c]!==r[c]&&(a[c]=n[c],delete n[c],(!wn(e,c)||e[c]&&!e[c][JL])&&(e[c]=i(e,c)))})}}function Ome(e,t){if(Zx){for(var n=[],r=mf(t);r&&!tA(r)&&!rA(n,r);){if(r===e)return!0;n.push(r),r=mf(r)}return!1}return!0}function KL(e,t){return wn(e,Zl)?e.name||t||r6:((e||{})[cS]||{}).name||t||r6}function it(e,t,n,r){wn(e,Zl)||fS("theClass is an invalid class definition.");var o=e[Zl];Ome(o,t)||fS("["+KL(e)+"] not in hierarchy of ["+KL(t)+"]");var i=null;wn(o,ih)?i=o[ih]:(i=kme+KL(e,"_")+"$"+QL.n,QL.n++,o[ih]=i);var s=it[a6],a=!!s[aS];a&&r&&r[aS]!==void 0&&(a=!!r[aS]);var c=Rme(t),l=Nme(o,t,c,a);n(t,l);var u=!!Zx&&!!s[ZL];u&&r&&(u=!!r[ZL]),Fme(o,i,t,c,u!==!1)}var iS,cS,Zl,lS,uS,JL,ih,kme,XL,Xx,a6,r6,c6,sS,o6,GL,aS,ZL,eA,Zx,i6,s6,QL,_r=q(()=>{Re();cS="constructor",Zl="prototype",lS="function",uS="_dynInstFuncs",JL="_isDynProxy",ih="_dynClass",kme="_dynCls$",XL="_dynInstChk",Xx=XL,a6="_dfOpts",r6="_unknown_",c6="__proto__",sS="_dyn"+c6,o6="__dynProto$Gbl",GL="_dynInstProto",aS="useBaseInst",ZL="setInstFuncs",eA=Object,Zx=eA.getPrototypeOf,i6=eA.getOwnPropertyNames,s6=Vr(),QL=s6[o6]||(s6[o6]={o:(iS={},iS[ZL]=!0,iS[aS]=!0,iS),n:1e3});it[a6]=QL.o});var oA,u6=q(()=>{"use strict";oA=100});var lr,iA,pS=q(()=>{Re();lr=mL,iA=gL});var gs,d6=q(()=>{pS();gs=lr({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});var ea,Ql,ke,hf,gf,sh,mc,vs,$i,Pt,eu,rt,ta,mS,vf,xf,na,Oo,tu,sA,zr,nu,Xn,hS,ah,ch,lh,ru,aA,Uo,Qx,wf,gS,ra,ui,uh,ou,xs,Mo,dh,yf,di,iu,ew,oa,vS,hc,cA,$o,tw,nw,Ef,ws,xS,fh,ph,su,Mt=q(()=>{ea="toLowerCase",Ql="blkVal",ke="length",hf="rdOnly",gf="notify",sh="warnToConsole",mc="throwInternal",vs="setDf",$i="watch",Pt="logger",eu="apply",rt="push",ta="splice",mS="hdlr",vf="cancel",xf="initialize",na="identifier",Oo="isInitialized",tu="getPlugin",sA="pollInternalLogs",zr="name",nu="time",Xn="processNext",hS="getProcessTelContext",ah="getNotifyMgr",ch="addNotificationListener",lh="removeNotificationListener",ru="enabled",aA="stopPollingInternalLogs",Uo="unload",Qx="onComplete",wf="version",gS="loggingLevelConsole",ra="createNew",ui="teardown",uh="messageId",ou="message",xs="isAsync",Mo="diagLog",dh="_doTeardown",yf="update",di="getNext",iu="setNextPlugin",ew="userAgent",oa="split",vS="nodeType",hc="replace",cA="logInternalMessage",$o="type",tw="handler",nw="isChildEvt",Ef="getCtx",ws="setCtx",xS="complete",fh="traceId",ph="spanId",su="traceFlags"});function f6(e,t){lA||(lA=AL("AggregationError",function(r,o){o[ke]>1&&(r.errors=o[1])}));var n=e||"One or more errors occurred.";throw ne(t,function(r,o){n+=`
`.concat(o," > ").concat(pe(r))}),new lA(n,t||[])}var lA,p6=q(()=>{Re();Mt()});function au(e,t){return wS(e,function(n){t&&t({value:n,rejected:!1})},function(n){t&&t({rejected:!0,reason:n})})}function wS(e,t,n,r){var o=e;return ql(e)?(t||n)&&(o=e.then(t,n)):t&&t(e),r&&(o=m6(o,r)),o}function m6(e,t){var n=e;return t&&(ql(e)?e.finally?n=e.finally(t):n=e.then(function(r){return t(),r},function(r){throw t(),r}):t()),n}var uA=q(()=>{Re()});function h6(e,t,n,r){dA=dA||{toString:function(){return"[[PromiseState]]"}},fA=fA||{toString:function(){return"[[PromiseResult]]"}},pA=pA||{toString:function(){return"[[PromiseIsHandled]]"}},Ln(e,dA,{get:t}),Ln(e,fA,{get:n}),Ln(e,pA,{get:r})}var dA,fA,pA,mA,g6=q(()=>{Re();mA=!1});var yS,hA=q(()=>{yS=["pending","resolving","resolved","rejected"]});function x6(e,t,n,r){var o=nn();!ES&&(ES=dc(function(){var c;return o&&o.createEvent&&(c=o.createEvent("Event")),!!c&&c.initEvent},null));var i=ES.v?o.createEvent("Event"):r?new Event(t):{};if(n&&n(i),ES.v&&i.initEvent(t,!1,!0),i&&e[v6])e[v6](i);else{var s=e["on"+t];if(s)s(i);else{var a=Ut("console");a&&(a.error||a.log)(t,pe(i))}}}var v6,ES,w6=q(()=>{Re();v6="dispatchEvent"});var mh,gA=q(()=>{mh="Promise"});function y6(e){return Ae(e)?e.toString():pe(e)}function C6(e,t,n){var r=br(arguments,3),o=0,i=!1,s,a=[],c=Mme++,l=rw.length>0?rw[rw.length-1]:void 0,u=!1,d=null,p;!vA&&(vA=li(mh+"RejectionEvent"));var f=function(E,I){try{rw.push(c),u=!0,d&&d.cancel(),d=null;var D=e(function(k,N){a.push(function(){try{var R=o===2?E:I,C=Oe(R)?s:Ae(R)?R(s):R;ql(C)?C.then(k,N):R?k(C):o===3?N(C):k(C)}catch(_){N(_)}}),i&&g()},r);return D}finally{rw.pop()}},m=function(E){return f(void 0,E)},h=function(E){var I=E,D=E;return Ae(E)&&(I=function(k){return E&&E(),k},D=function(k){throw E&&E(),k}),f(I,D)},v=function(){return yS[o]},g=function(){if(a.length>0){var E=a.slice();a=[],u=!0,t(E),d&&d.cancel(),d=null}},y=function(E,I){return function(D){if(o===I){if(E===2&&ql(D)){o=1,D.then(y(2,1),y(3,1));return}o=E,i=!0,s=D,g(),!u&&E===3&&!d&&(d=Lo(x,$me))}}},x=function(){if(!u)if(DL())process.emit(E6,s,p);else{var E=fn()||Vr();x6(E,Ume,function(I){return wt(I,"promise",{g:function(){return p}}),I.reason=s,I},!!vA.v)}};p={then:f,catch:m,finally:h},Ln(p,"state",{get:v}),mA&&h6(p,v,function(){return cf(s)},function(){return u}),IL()&&(p[ff(11)]="IPromise");var w=function(){return"IPromise"+(mA?"["+c+(Oe(l)?"":":"+l)+"]":"")+" "+v()+(i?" - "+y6(s):"")};return p.toString=w,function(){Ae(n)||zt(mh+": executor is not a function - "+y6(n));var I=y(3,0);try{n.call(p,y(2,0),I)}catch(D){I(D)}}(),p}function hh(e){return function(t){var n=br(arguments,1);return e(function(r,o){try{var i=[],s=1;ne(t,function(a,c){a&&(s++,wS(a,function(l){i[c]=l,--s===0&&r(i)},o))}),s--,s===0&&r(i)}catch(a){o(a)}},n)}}function gh(e){return function(t){var n=br(arguments,1);return ql(t)?t:e(function(r){r(t)},n)}}function vh(e){return function(t){var n=br(arguments,1);return e(function(r,o){o(t)},n)}}var E6,Ume,rw,Mme,$me,vA,CS=q(()=>{Re();uA();g6();hA();w6();gA();E6="unhandledRejection",Ume=E6.toLowerCase(),rw=[],Mme=0,$me=10});function b6(e){var t=cr(e)?e:0;return function(n){Lo(function(){jme(n)},t)}}var jme,_6=q(()=>{Re();jme=function(e){ne(e,function(t){try{t()}catch{}})}});function xh(e,t){return C6(xh,b6(t),e,t)}var aMe,cMe,lMe,S6=q(()=>{CS();_6();aMe=hh(xh),cMe=gh(xh),lMe=vh(xh)});function ow(e,t){!xA&&(xA=li(mh));var n=xA.v;if(!n)return xh(e);Ae(e)||zt(mh+": executor is not a function - "+pe(e));var r=0;function o(){return yS[r]}var i=new n(function(s,a){function c(u){r=2,s(u)}function l(u){r=3,a(u)}e(c,l)});return Ln(i,"state",{get:o}),i}var xA,gMe,vMe,xMe,D6=q(()=>{S6();CS();hA();Re();gA();gMe=hh(ow),vMe=gh(ow),xMe=vh(ow)});function mo(e,t){return!wA&&(wA=hs(function(){return ow})),wA.v.call(this,e,t)}var wA,yA,Hme,Bme,I6=q(()=>{Re();CS();D6();yA=hh(mo),Hme=gh(mo),Bme=vh(mo)});var wh=q(()=>{uA();I6()});var fi,Ue,cu,on,bS,iw,gc,Cf,jo,bf,yh,lu,Eh,ia,Ch,_S,SS,P6,Fn=q(()=>{fi=void 0,Ue="",cu="channels",on="core",bS="createPerfMgr",iw="disabled",gc="extensionConfig",Cf="extensions",jo="processTelemetry",bf="priority",yh="eventsSent",lu="eventsDiscarded",Eh="eventsSendRequest",ia="perfEvent",Ch="getPerfMgr",_S="domain",SS="path",P6="Not dynamic - "});function sa(e){return!te(e)}function _f(e){var t=e;return t&&Fe(t)&&(t=t[hc](Wme,function(n,r){return r.toUpperCase()}),t=t[hc](Yme,"_"),t=t[hc](Vme,function(n,r){return"_"+r})),t}function yn(e,t){return e&&t?po(e,t)!==-1:!1}function pi(e){return e&&e.toISOString()||""}function $t(e){return Xs(e)?e[zr]:Ue}function ji(e,t,n,r,o){var i=n;return e&&(i=e[t],i!==n&&(!o||o(i))&&(!r||r(n))&&(i=n,e[t]=i)),i}function sw(e,t,n){var r;return e?(r=e[t],!r&&te(r)&&(r=Oe(n)?{}:n,e[t]=r)):r=Oe(n)?{}:n,r}function T6(e,t){var n=null,r=null;return Ae(e)?n=e:r=e,function(){var o=arguments;if(n&&(r=n()),r)return r[t][eu](r,o)}}function EA(e,t,n){if(e&&t&&kt(e)&&kt(t)){var r=function(i){if(Fe(i)){var s=t[i];Ae(s)?(!n||n(i,!0,t,e))&&(e[i]=T6(t,i)):(!n||n(i,!1,t,e))&&(No(e,i)&&delete e[i],wt(e,i,{g:function(){return t[i]},s:function(a){t[i]=a}}))}};for(var o in t)r(o)}return e}function vc(e,t,n,r,o){e&&t&&n&&(o!==!1||Oe(e[t]))&&(e[t]=T6(n,r))}function mi(e,t,n,r){return e&&t&&kt(e)&&ge(n)&&ne(n,function(o){Fe(o)&&vc(e,o,t,o,r)}),e}function CA(e){return function(){function t(){var n=this;e&&fe(e,function(r,o){n[r]=o})}return t}()}function Hi(e){return e&&uf&&(e=Wm(uf({},e))),e}function DS(e,t,n,r,o,i){var s=arguments,a=s[0]||{},c=s[ke],l=!1,u=1;for(c>0&&fs(a)&&(l=a,a=s[u]||{},u++),kt(a)||(a={});u<c;u++){var d=s[u],p=ge(d),f=kt(d);for(var m in d){var h=p&&m in d||f&&No(d,m);if(h){var v=d[m],g=void 0;if(l&&v&&((g=ge(v))||Jn(v))){var y=a[m];g?ge(y)||(y=[]):Jn(y)||(y={}),v=DS(l,y,v)}v!==void 0&&(a[m]=v)}}}return a}var qme,Wme,Yme,Vme,LMe,xc=q(()=>{Fo();Re();Mt();Fn();qme="getPrototypeOf",Wme=/-([a-z])/g,Yme=/([^\w\d_$])/g,Vme=/^(\d+[\w\d_$])/,LMe=Object[qme]});function L6(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[us];r&&(n=t in r)}}catch{}if(!n)try{var o=new e;n=!Oe(o[t])}catch{}}return n}function PA(e){N6=e}function Sf(e){if(e&&N6){var t=Ut("__mockLocation");if(t)return t}return typeof location===cc&&location?location:Ut(Gme)}function aw(){return typeof console!==Js?console:Ut(Kme)}function aa(){return!!(typeof JSON===cc&&JSON||Ut(k6)!==null)}function Sr(){return aa()?JSON||Ut(k6):null}function cw(){return Ut(Jme)}function lw(){return Ut(Xme)}function uu(){var e=An();return e&&e.product?e.product===Zme:!1}function du(){var e=An();if(e&&(e[ew]!==_A||bA===null)){_A=e[ew];var t=(_A||Ue)[ea]();bA=yn(t,DA)||yn(t,IA)}return bA}function uw(e){if(e===void 0&&(e=null),!e){var t=An()||{};e=t?(t.userAgent||Ue)[ea]():Ue}var n=(e||Ue)[ea]();if(yn(n,DA)){var r=nn()||{};return Math.max(parseInt(n[oa](DA)[1]),r[zme]||0)}else if(yn(n,IA)){var o=parseInt(n[oa](IA)[1]);if(o)return o+4}return null}function hi(e){return(SA===null||e===!1)&&(SA=th()&&!!An().sendBeacon),SA}function wc(e){var t=!1;try{t=!!Ut("fetch");var n=Ut("Request");t&&e&&n&&(t=L6(n,"keepalive"))}catch{}return t}function Df(){return bh===null&&(bh=typeof XDomainRequest!==Js,bh&&fu()&&(bh=bh&&!L6(Ut(R6),"withCredentials"))),bh}function fu(){var e=!1;try{var t=Ut(R6);e=!!t}catch{}return e}function A6(e,t){if(e)for(var n=0;n<e[ke];n++){var r=e[n];if(r[zr]&&r[zr]===t)return r}return{}}function TA(e){var t=nn();return t&&e?A6(t.querySelectorAll("meta"),e).content:null}function kA(e){var t,n=pc();if(n){var r=n.getEntriesByType("navigation")||[];t=A6((r[ke]>0?r[0]:{}).serverTiming,e).description}return t}var zme,Gme,Kme,k6,Jme,Xme,Zme,DA,IA,R6,bA,_A,N6,bh,SA,_h=q(()=>{"use strict";Fo();Re();Mt();xc();Fn();zme="documentMode",Gme="location",Kme="console",k6="JSON",Jme="crypto",Xme="msCrypto",Zme="ReactNative",DA="msie",IA="trident/",R6="XMLHttpRequest",bA=null,_A=null,N6=!1,bh=null,SA=null});function Qme(e){e<0&&(e>>>=0),dw=O6+e&pu,fw=U6-e&pu,M6=!0}function ehe(){try{var e=rn()&2147483647;Qme((Math.random()*F6^e)+e)}catch{}}function pw(e){return e>0?Math.floor(yc()/pu*(e+1))>>>0:0}function yc(e){var t=0,n=cw()||lw();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&pu),t===0&&du()&&(M6||ehe(),t=$6()&pu),t===0&&(t=Math.floor(F6*Math.random()|0)),e||(t>>>=0),t}function $6(e){fw=36969*(fw&65535)+(fw>>16)&pu,dw=18e3*(dw&65535)+(dw>>16)&pu;var t=(fw<<16)+(dw&65535)>>>0&pu|0;return e||(t>>>=0),t}function mw(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=yc()>>>0,r=0,o=Ue;o[ke]<e;)r++,o+=t.charAt(n&63),n>>>=6,r===5&&(n=(yc()<<2&4294967295|n&3)>>>0,r=0);return o}var F6,pu,O6,U6,M6,dw,fw,IS=q(()=>{Re();Mt();_h();Fn();F6=4294967296,pu=4294967295,O6=123456789,U6=987654321,M6=!1,dw=O6,fw=U6});function H6(e){return e[vS]===1||e[vS]===9||!+e[vS]}function rhe(e,t){var n=t[e.id];if(!n){n={};try{H6(t)&&wt(t,e.id,{e:!1,v:n})}catch{}}return n}function Dr(e,t){return t===void 0&&(t=!1),_f(e+nhe+++(t?"."+j6:Ue)+the)}function PS(e){var t={id:Dr("_aiData-"+(e||Ue)+"."+j6),accept:function(n){return H6(n)},get:function(n,r,o,i){var s=n[t.id];return s?s[_f(r)]:(i&&(s=rhe(t,n),s[_f(r)]=o),o)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var j6,the,nhe,Sh=q(()=>{Re();Mt();xc();Fn();IS();j6="3.0.5",the="."+mw(6),nhe=0});function TS(e){return e&&kt(e)&&(e.isVal||e.fb||No(e,"v")||No(e,"mrg")||No(e,"ref")||e.set)}function B6(e,t,n){var r,o=n.dfVal||k_;if(t&&n.fb){var i=n.fb;ge(i)||(i=[i]);for(var s=0;s<i[ke];s++){var a=i[s],c=t[a];if(o(c)?r=c:e&&(c=e.cfg[a],o(c)&&(r=c),e.set(e.cfg,Nn(a),c)),o(r))break}}return!o(r)&&o(n.v)&&(r=n.v),r}function RA(e,t,n){var r=n;if(n&&TS(n)&&(r=B6(e,t,n)),r){TS(r)&&(r=RA(e,t,r));var o;ge(r)?(o=[],o[ke]=r[ke]):Jn(r)&&(o={}),o&&(fe(r,function(i,s){s&&TS(s)&&(s=RA(e,t,s)),o[i]=s}),r=o)}return r}function hw(e,t,n,r){var o,i,s,a=r,c,l,u,d;TS(a)?(o=a.isVal,i=a.set,u=a[hf],d=a[Ql],c=a.mrg,l=a.ref,!l&&Oe(l)&&(l=!!c),s=B6(e,t,a)):s=r,d&&e[Ql](t,n);var p,f=!0,m=t[n];(m||!te(m))&&(p=m,f=!1,o&&p!==s&&!o(p)&&(p=s,f=!0),i&&(p=i(p,s,t),f=p===s)),f?s?p=RA(e,t,s):p=s:(Jn(p)||ge(s))&&c&&s&&(Jn(s)||ge(s))&&fe(s,function(h,v){hw(e,p,h,v)}),e.set(t,n,p),l&&e.ref(t,n),u&&e[hf](t,n)}var NA=q(()=>{Re();Mt()});function LA(e){if(e){var t;if(ge(e)?(t=[],t[ke]=e[ke]):Jn(e)&&(t={}),t)return fe(e,function(n,r){t[n]=LA(r)}),t}return e}function gw(e){if(e){var t=e[ca]||e;if(t.cfg&&(t.cfg===e||t.cfg[ca]===t))return t}return null}function vw(e){if(e&&(Jn(e)||ge(e)))try{e[q6]=!0}catch{}return e}function AA(e){if(e)try{e[W6]=!0}catch{}return e}function kS(e,t,n){var r=!1;return n&&!e[t.blkVal]&&(r=n[W6],!r&&!n[q6]&&(r=Jn(n)||ge(n))),r}function RS(e){zt("InvalidAccess:"+e)}var ca,q6,W6,NS=q(()=>{Re();Mt();ca=Vx("[[ai_dynCfg_1]]"),q6=Vx("[[ai_blkDynCfg_1]]"),W6=Vx("[[ai_frcDynCfg_1]]")});function ihe(e,t,n){ge(t)&&ne(ohe,function(r){var o=t[r];t[r]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=o[eu](this,i);return xw(e,t,n,"Patching"),a}})}function LS(e,t){var n=lf(e,t);return n&&n.get}function she(e,t,n,r){var o={n,h:[],trk:function(l){l&&l.fn&&(lt(o.h,l)===-1&&o.h[rt](l),e.trk(l,o))},clr:function(l){var u=lt(o.h,l);u!==-1&&o.h[ta](u,1)}},i=!0,s=!1;function a(){i&&(s=s||kS(a,e,r),r&&!r[ca]&&s&&(r=xw(e,r,n,"Converting")),i=!1);var l=e.act;return l&&o.trk(l),r}a[e.prop]={chng:function(){e.add(o)}};function c(l){if(r!==l){a[e.ro]&&!e.upd&&RS("["+n+"] is read-only:"+pe(t)),i&&(s=s||kS(a,e,r),i=!1);var u=s&&a[e.rf];if(s)if(u){fe(r,function(p){r[p]=l?l[p]:fi});try{fe(l,function(p,f){ww(e,r,p,f)}),l=r}catch(p){Dh((e.hdlr||{})[Pt],n,"Assigning",p),s=!1}}else r&&r[ca]&&fe(r,function(p){var f=LS(r,p);if(f){var m=f[e.prop];m&&m.chng()}});if(l!==r){var d=l&&kS(a,e,l);!u&&d&&(l=xw(e,l,n,"Converting")),r=l,s=d}e.add(o)}}wt(t,o.n,{g:a,s:c})}function ww(e,t,n,r){if(t){var o=LS(t,n),i=o&&!!o[e.prop];i?t[n]=r:she(e,t,n,r)}return t}function AS(e,t,n,r){if(t){var o=LS(t,n),i=o&&!!o[e.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!i){if(c)try{vw(t)}catch(l){Dh((e.hdlr||{})[Pt],n,"Blocking",l)}try{ww(e,t,n,t[n]),o=LS(t,n)}catch(l){Dh((e.hdlr||{})[Pt],n,"State",l)}}s&&(o[e.rf]=s),a&&(o[e.ro]=a),c&&(o[e.blkVal]=!0)}return t}function xw(e,t,n,r){try{fe(t,function(o,i){ww(e,t,o,i)}),t[ca]||(Ln(t,ca,{get:function(){return e[mS]}}),ihe(e,t,n))}catch(o){Dh((e.hdlr||{})[Pt],n,r,o)}return t}var ohe,Dh,Y6=q(()=>{Re();Fn();Mt();NS();ohe=["push","pop","shift","unshift","splice"],Dh=function(e,t,n,r){e&&e[mc](3,108,"".concat(n," [").concat(t,"] failed - ")+pe(r))}});function V6(e){var t,n=pf(yw+"get"+e.uid+Ew),r=pf(yw+"ro"+e.uid+Ew),o=pf(yw+"rf"+e.uid+Ew),i=pf(yw+"blkVal"+e.uid+Ew),s=pf(yw+"dtl"+e.uid+Ew),a=null,c=null,l;function u(m,h){var v=l.act;try{l.act=m,m&&m[s]&&(ne(m[s],function(y){y.clr(m)}),m[s]=[]),h({cfg:e.cfg,set:e.set.bind(e),setDf:e[vs].bind(e),ref:e.ref.bind(e),rdOnly:e[hf].bind(e)})}catch(y){var g=e[Pt];throw g&&g[mc](1,107,pe(y)),y}finally{l.act=v||null}}function d(){if(a){var m=a;a=null,c&&c[vf](),c=null;var h=[];if(ne(m,function(v){if(v&&(v[s]&&(ne(v[s],function(g){g.clr(v)}),v[s]=null),v.fn))try{u(v,v.fn)}catch(g){h[rt](g)}}),a)try{d()}catch(v){h[rt](v)}h[ke]>0&&f6("Watcher error(s): ",h)}}function p(m){if(m&&m.h[ke]>0){a||(a=[]),c||(c=Lo(function(){c=null,d()},0));for(var h=0;h<m.h[ke];h++){var v=m.h[h];v&&lt(a,v)===-1&&a[rt](v)}}}function f(m,h){if(m){var v=m[s]=m[s]||[];lt(v,h)===-1&&v[rt](h)}}return l=(t={prop:n,ro:r,rf:o},t[Ql]=i,t[mS]=e,t.add=p,t[gf]=d,t.use=u,t.trk=f,t),l}var yw,Ew,z6=q(()=>{Re();p6();Mt();yw="[[ai_",Ew="]]"});function ahe(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return e.use(n,t),n}function che(e,t,n){var r,o=gw(t);if(o)return o;var i=Dr("dyncfg",!0),s=t&&n!==!1?t:LA(t),a;function c(){a[gf]()}function l(g,y,x){try{g=ww(a,g,y,x)}catch(w){Dh(e,y,"Setting value",w)}return g[y]}function u(g){return ahe(a,g)}function d(g,y){a.use(null,function(x){var w=a.upd;try{Oe(y)||(a.upd=y),g(x)}finally{a.upd=w}})}function p(g,y){var x;return AS(a,g,y,(x={},x[0]=!0,x))[y]}function f(g,y){var x;return AS(a,g,y,(x={},x[1]=!0,x))[y]}function m(g,y){var x;return AS(a,g,y,(x={},x[2]=!0,x))[y]}function h(g,y){return y&&fe(y,function(x,w){hw(v,g,x,w)}),g}var v=(r={uid:null,cfg:s},r[Pt]=e,r[gf]=c,r.set=l,r[vs]=h,r[$i]=u,r.ref=p,r[hf]=f,r[Ql]=m,r._block=d,r);return wt(v,"uid",{c:!1,e:!1,w:!1,v:i}),a=V6(v),xw(a,s,"config","Creating"),v}function lhe(e,t){e?(e[sh](t),e[mc](2,108,t)):RS(t)}function Gt(e,t,n,r){var o=che(n,e||{},r);return t&&o[vs](o.cfg,t),o}function On(e,t,n){var r=e[ca]||e;return r.cfg&&(r.cfg===e||r.cfg[ca]===r)?r[$i](t):(lhe(n,P6+pe(e)),Gt(e,null,n)[$i](t))}var mu=q(()=>{Re();Sh();Fn();Mt();NA();Y6();z6();NS()});function Ec(e,t){if(e&&e[Uo])return e[Uo](t)}function FS(e,t,n){var r;return n||(r=mo(function(o){n=o})),e&&rh(e)>0?au(Ec(e[0],t),function(){FS(br(e,1),t,n)}):n(),r}var FA=q(()=>{wh();Re();Mt()});var G6,K6=q(()=>{G6=500});function uhe(e,t,n){return!e&&te(e)?t:fs(e)?e:Nn(e)[ea]()==="true"}function OA(e){return{mrg:!0,v:e}}function Ih(e,t,n){return{fb:n,isVal:e,v:t}}function ys(e,t){return{fb:t,set:uhe,v:!!e}}var UA=q(()=>{Re();Mt()});function dhe(e,t){return function(){var n=arguments,r=$A(t);if(r){var o=r.listener;o&&o[e]&&o[e][eu](o,n)}}}function fhe(){var e=Ut("Microsoft");return e&&(US=e.ApplicationInsights),US}function $A(e){var t=US;return!t&&e.disableDbgExt!==!0&&(t=US||fhe()),t?t.ChromeDbgExt:null}function J6(e){if(!OS){OS={};for(var t=0;t<MA[ke];t++)OS[MA[t]]=dhe(MA[t],e)}return OS}var MA,US,OS,jA=q(()=>{Re();Mt();Fn();MA=[yh,lu,Eh,ia],US=null});function X6(e){return e?'"'+e[hc](/\"/g,Ue)+'"':Ue}function HA(e,t){var n=aw();if(n){var r="log";n[e]&&(r=e),Ae(n[r])&&n[r](t)}}function Es(e,t){return(e||{})[Pt]||new hu(t)}function BA(e){return e||new hu}function de(e,t,n,r,o,i){i===void 0&&(i=!1),BA(e)[mc](t,n,r,o,i)}function gi(e,t){BA(e)[sh](t)}function qA(e,t,n){BA(e)[cA](t,n)}var Ph,Z6,phe,mhe,hhe,ghe,vhe,If,hu,Cc=q(()=>{"use strict";_r();Re();mu();Mt();jA();_h();Fn();Z6="warnToConsole",phe="AI (Internal): ",mhe="AI: ",hhe="AITR_",ghe={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},vhe=(Ph={},Ph[0]=null,Ph[1]="errorToConsole",Ph[2]=Z6,Ph[3]="debugToConsole",Ph);If=function(){function e(t,n,r,o){r===void 0&&(r=!1);var i=this;i[uh]=t,i[ou]=(r?mhe:phe)+t;var s=Ue;aa()&&(s=Sr().stringify(o));var a=(n?" message:"+X6(n):Ue)+(o?" props:"+X6(s):Ue);i[ou]+=a}return e.dataType="MessageData",e}();hu=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},o,i,s,a,c;it(e,this,function(l){c=d(t||{}),l.consoleLoggingLevel=function(){return o},l[mc]=function(m,h,v,g,y){y===void 0&&(y=!1);var x=new If(h,v,y,g);if(a)throw pe(x);var w=vhe[m]||Z6;if(Oe(x[ou]))f("throw"+(m===1?"Critical":"Warning"),x);else{if(y){var E=+x[uh];!r[E]&&o>=m&&(l[w](x[ou]),r[E]=!0)}else o>=m&&l[w](x[ou]);u(m,x)}},l.debugToConsole=function(m){HA("debug",m),f("warning",m)},l[sh]=function(m){HA("warn",m),f("warning",m)},l.errorToConsole=function(m){HA("error",m),f("error",m)},l.resetInternalMessageCount=function(){n=0,r={}},l[cA]=u,l[Uo]=function(m){c&&c.rm(),c=null};function u(m,h){if(!p()){var v=!0,g=hhe+h[uh];if(r[g]?v=!1:r[g]=!0,v&&(m<=i&&(l.queue[rt](h),n++,f(m===1?"error":"warn",h)),n===s)){var y="Internal events throttle limit per PageView reached for this app.",x=new If(23,y,!1);l.queue[rt](x),m===1?l.errorToConsole(y):l[sh](y)}}}function d(m){return On(Gt(m,ghe,l).cfg,function(h){var v=h.cfg;o=v[gS],i=v.loggingLevelTelemetry,s=v.maxMessageLimit,a=v.enableDebug})}function p(){return n>=s}function f(m,h){var v=$A(t||{});v&&v[Mo]&&v[Mo](m,h)}})}return e.__ieDyn=1,e}()});function KA(){!la&&(la=hs(function(){return nn()}))}function whe(e,t){var n=bc[gu]||jS[gu];return n||(n=bc[gu]=bc(e,t),jS[gu]=n),n}function $S(e){return e?e.isEnabled():!0}function c8(e,t){return t&&e&&ge(e.ignoreCookies)?lt(e.ignoreCookies,t)!==-1:!1}function yhe(e,t){return t&&e&&ge(e.blockedCookies)&&lt(e.blockedCookies,t)!==-1?!0:c8(e,t)}function o8(e,t){var n=t[ru];if(te(n)){var r=void 0;Oe(e[t8])||(r=!e[t8]),Oe(e[zA])||(r=!e[zA]),n=r}return n}function JA(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r&&r[gu]?n=r[gu]:n=bc(t)}return n||(n=whe(t,(e||{})[Pt])),n}function bc(e,t){var n,r,o,i,s,a,c,l,u;e=Gt(e||jS,null,t).cfg,s=On(e,function(p){p[vs](p.cfg,xhe),r=p.ref(p.cfg,"cookieCfg"),o=r[SS]||"/",i=r[_S],a=o8(e,r)!==!1,c=r.getCookie||Ehe,l=r.setCookie||a8,u=r.delCookie||a8},t);var d=(n={isEnabled:function(){var p=o8(e,r)!==!1&&a&&Th(t),f=jS[gu];return p&&f&&d!==f&&(p=$S(f)),p},setEnabled:function(p){a=p!==!1,r[ru]=p},set:function(p,f,m,h,v){var g=!1;if($S(d)&&!yhe(r,p)){var y={},x=pt(f||Ue),w=po(x,";");if(w!==-1&&(x=pt(zl(f,w)),y=l8(dn(f,w+1))),ji(y,_S,h||i,ps,Oe),!te(m)){var E=du();if(Oe(y[YA])){var I=rn(),D=I+m*1e3;if(D>0){var k=new Date;k.setTime(D),ji(y,YA,i8(k,E?Q6:e8)||i8(k,E?Q6:e8)||Ue,ps)}}E||ji(y,"max-age",Ue+m,null,Oe)}var N=Sf();N&&N.protocol==="https:"&&(ji(y,"secure",null,null,Oe),VA===null&&(VA=!HS((An()||{})[ew])),VA&&ji(y,"SameSite","None",null,Oe)),ji(y,SS,v||o,null,Oe),l(p,s8(x,y)),g=!0}return g},get:function(p){var f=Ue;return $S(d)&&!c8(r,p)&&(f=c(p)),f},del:function(p,f){var m=!1;return $S(d)&&(m=d.purge(p,f)),m},purge:function(p,f){var m,h=!1;if(Th(t)){var v=(m={},m[SS]=f||"/",m[YA]="Thu, 01 Jan 1970 00:00:01 GMT",m);du()||(v["max-age"]="0"),u(p,s8(Ue,v)),h=!0}return h}},n[Uo]=function(p){s&&s.rm(),s=null},n);return d[gu]=d,d}function Th(e){if(MS===null){MS=!1,!la&&KA();try{var t=la.v||{};MS=t[GA]!==void 0}catch(n){de(e,2,68,"Cannot access document.cookie - "+$t(n),{exception:pe(n)})}}return MS}function l8(e){var t={};if(e&&e[ke]){var n=pt(e)[oa](";");ne(n,function(r){if(r=pt(r||Ue),r){var o=po(r,"=");o===-1?t[r]=null:t[pt(zl(r,o))]=pt(dn(r,o+1))}})}return t}function i8(e,t){return Ae(e[t])?e[t]():null}function s8(e,t){var n=e||Ue;return fe(t,function(r,o){n+="; "+r+(te(o)?Ue:"="+o)}),n}function Ehe(e){var t=Ue;if(!la&&KA(),la.v){var n=la.v[GA]||Ue;n8!==n&&(r8=l8(n),n8=n),t=pt(r8[e]||Ue)}return t}function a8(e,t){!la&&KA(),la.v&&(la.v[GA]=e+"="+t)}function HS(e){return Fe(e)?!!(yn(e,"CPU iPhone OS 12")||yn(e,"iPad; CPU OS 12")||yn(e,"Macintosh; Intel Mac OS X 10_14")&&yn(e,"Version/")&&yn(e,"Safari")||yn(e,"Macintosh; Intel Mac OS X 10_14")&&Xl(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||yn(e,"Chrome/5")||yn(e,"Chrome/6")||yn(e,"UnrealEngine")&&!yn(e,"Chrome")||yn(e,"UCBrowser/12")||yn(e,"UCBrowser/11")):!1}var WA,Pf,Q6,e8,GA,YA,t8,zA,gu,MS,VA,n8,la,r8,jS,xhe,XA=q(()=>{Re();UA();mu();Mt();Cc();_h();xc();Fn();Q6="toGMTString",e8="toUTCString",GA="cookie",YA="expires",t8="isCookieUseDisabled",zA="disableCookiesUsage",gu="_ckMgr",MS=null,VA=null,n8=null,r8={},jS={},xhe=(WA={cookieCfg:OA((Pf={},Pf[_S]={fb:"cookieDomain",dfVal:sa},Pf.path={fb:"cookiePath",dfVal:sa},Pf.enabled=fi,Pf.ignoreCookies=fi,Pf.blockedCookies=fi,Pf)),cookieDomain:fi,cookiePath:fi},WA[zA]=fi,WA)});function Cw(e,t,n,r){ne(e,function(o){if(o&&o[t])if(n)Lo(function(){return r(o)},0);else try{r(o)}catch{}})}var Che,bw,ZA=q(()=>{_r();wh();Re();mu();Mt();Fn();Che={perfEvtsSendAll:!1};bw=function(){function e(t){this.listeners=[];var n,r,o=[],i=Gt(t,Che);r=i[$i](function(s){n=!!s.cfg.perfEvtsSendAll}),it(e,this,function(s){wt(s,"listeners",{g:function(){return o}}),s[ch]=function(a){o[rt](a)},s[lh]=function(a){for(var c=lt(o,a);c>-1;)o[ta](c,1),c=lt(o,a)},s[yh]=function(a){Cw(o,yh,!0,function(c){c[yh](a)})},s[lu]=function(a,c){Cw(o,lu,!0,function(l){l[lu](a,c)})},s[Eh]=function(a,c){Cw(o,Eh,c,function(l){l[Eh](a,c)})},s[ia]=function(a){a&&(n||!a[nw]())&&Cw(o,ia,!1,function(c){a[xs]?Lo(function(){return c[ia](a)},0):c[ia](a)})},s[Uo]=function(a){var c=function(){r&&r.rm(),r=null,o=[]},l;if(Cw(o,"unload",!1,function(u){var d=u[Uo](a);d&&(l||(l=[]),l[rt](d))}),l)return mo(function(u){return au(yA(l),function(){c(),u()})});c()}})}return e.__ieDyn=1,e}()});function pn(e,t,n,r,o){if(e){var i=e;if(i[Ch]&&(i=i[Ch]()),i){var s=void 0,a=i[Ef](QA);try{if(s=i.create(t(),r,o),s){if(a&&s[ws]&&(s[ws](Tf[eF],a),a[Ef]&&a[ws])){var c=a[Ef](Tf[_w]);c||(c=[],a[ws](Tf[_w],c)),c[rt](s)}return i[ws](QA,s),n(s)}}catch(l){s&&s[ws]&&s[ws]("exception",l)}finally{s&&i.fire(s),i[ws](QA,a)}}}return n()}function tF(){return bhe}var kh,eF,_w,bhe,Tf,Sw,QA,BS=q(()=>{_r();Re();Mt();Fn();kh="ctx",eF="ParentContextKey",_w="ChildrenContextKey",bhe=null,Tf=function(){function e(t,n,r){var o=this;if(o.start=rn(),o[zr]=t,o[xs]=r,o[nw]=function(){return!1},Ae(n)){var i;wt(o,"payload",{g:function(){return!i&&Ae(n)&&(i=n(),n=null),i}})}o[Ef]=function(s){return s?s===e[eF]||s===e[_w]?o[s]:(o[kh]||{})[s]:null},o[ws]=function(s,a){if(s)if(s===e[eF])o[s]||(o[nw]=function(){return!0}),o[s]=a;else if(s===e[_w])o[s]=a;else{var c=o[kh]=o[kh]||{};c[s]=a}},o[xS]=function(){var s=0,a=o[Ef](e[_w]);if(ge(a))for(var c=0;c<a[ke];c++){var l=a[c];l&&(s+=l[nu])}o[nu]=rn()-o.start,o.exTime=o[nu]-s,o[xS]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Sw=function(){function e(t){this.ctx={},it(e,this,function(n){n.create=function(r,o,i){return new Tf(r,o,i)},n.fire=function(r){r&&(r[xS](),t&&Ae(t[ia])&&t[ia](r))},n[ws]=function(r,o){if(r){var i=n[kh]=n[kh]||{};i[r]=o}},n[Ef]=function(r){return(n[kh]||{})[r]}})}return e.__ieDyn=1,e}(),QA="CoreUtils.doPerf"});function Dw(){var e=kf();return dn(e,0,8)+"-"+dn(e,8,12)+"-"+dn(e,12,16)+"-"+dn(e,16,20)+"-"+dn(e,20)}function kf(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ue,n,r=0;r<4;r++)n=yc(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var o=e[8+(yc()&3)|0];return ms(t,0,8)+ms(t,9,4)+"4"+ms(t,13,3)+o+ms(t,16,3)+ms(t,19,12)}var nF=q(()=>{"use strict";Re();Fn();IS()});function _c(e,t,n){return e&&e[ke]===t&&e!==n?!!e.match(/^[\da-f]*$/i):!1}function d8(e,t,n){return _c(e,t)?e:n}function f8(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[ke]<2;)t="0"+t;return t}function Iw(e,t,n,r){var o;return o={},o[wf]=_c(r,2,oF)?r:rF,o[fh]=ua(e)?e:kf(),o[ph]=da(t)?t:zl(kf(),16),o.traceFlags=n>=0&&n<=255?n:1,o}function Rf(e,t){var n;if(!e||(ge(e)&&(e=e[0]||""),!e||!Fe(e)||e[ke]>8192))return null;if(e.indexOf(",")!==-1){var r=e[oa](",");e=r[t>0&&r[ke]>t?t:0]}var o=_he.exec(pt(e));return!o||o[1]===oF||o[2]===qS||o[3]===WS?null:(n={version:(o[1]||Ue)[ea](),traceId:(o[2]||Ue)[ea](),spanId:(o[3]||Ue)[ea]()},n[su]=parseInt(o[4],16),n)}function ua(e){return _c(e,32,qS)}function da(e){return _c(e,16,WS)}function Rh(e){return!(!e||!_c(e[wf],2,oF)||!_c(e[fh],32,qS)||!_c(e[ph],16,WS)||!_c(f8(e[su]),2))}function Pw(e){return Rh(e)?(e[su]&u8)===u8:!1}function Tw(e){if(e){var t=f8(e[su]);_c(t,2)||(t="01");var n=e[wf]||rF;return n!=="00"&&n!=="ff"&&(n=rF),"".concat(n.toLowerCase(),"-").concat(d8(e.traceId,32,qS).toLowerCase(),"-").concat(d8(e.spanId,16,WS).toLowerCase(),"-").concat(t.toLowerCase())}return""}function kw(e){var t="traceparent",n=Rf(TA(t),e);return n||(n=Rf(kA(t),e)),n}var _he,rF,oF,qS,WS,u8,iF=q(()=>{Re();Mt();nF();_h();Fn();_he=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,rF="00",oF="ff",qS="00000000000000000000000000000000",WS="0000000000000000",u8=1});function Sc(e){return She.get(e,"state",{},!0)}function sF(e,t){for(var n=[],r=null,o=e[di](),i;o;){var s=o[tu]();if(s){r&&r[iu]&&s[jo]&&r[iu](s),i=Sc(s);var a=!!i[Oo];s[Oo]&&(a=s[Oo]()),a||n[rt](s),r=s,o=o[di]()}}ne(n,function(c){var l=e[on]();c[xf](e.getCfg(),l,t,e[di]()),i=Sc(c),!c[on]&&!i[on]&&(i[on]=l),i[Oo]=!0,delete i[ui]})}function YS(e){return e.sort(function(t,n){var r=0;if(n){var o=n[jo];t[jo]?r=o?t[bf]-n[bf]:1:o&&(r=-1)}else r=t?1:-1;return r})}function p8(e){var t={};return{getName:function(){return t[zr]},setName:function(n){e&&e.setName(n),t[zr]=n},getTraceId:function(){return t[fh]},setTraceId:function(n){e&&e.setTraceId(n),ua(n)&&(t[fh]=n)},getSpanId:function(){return t[ph]},setSpanId:function(n){e&&e.setSpanId(n),da(n)&&(t[ph]=n)},getTraceFlags:function(){return t[su]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[su]=n}}}var She,aF=q(()=>{"use strict";Re();Mt();Sh();Fn();iF();She=PS("plugin")});function Ihe(e,t,n){for(;e;){if(e[tu]()===n)return e;e=e[di]()}return vu([n],t.config||{},t)}function cF(e,t,n,r){var o=null,i=[];t||(t=Gt({},null,n[Pt])),r!==null&&(o=r?Ihe(e,n,r):e);var s={_next:c,ctx:{core:function(){return n},diagLog:function(){return Es(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:u,getConfig:d,hasNext:function(){return!!o},getNext:function(){return o},setNext:function(f){o=f},iterate:p,onComplete:a}};function a(f,m){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];f&&i[rt]({func:f,self:Oe(m)?s.ctx:m,args:h})}function c(){var f=o;if(o=f?f[di]():null,!f){var m=i;m&&m[ke]>0&&(ne(m,function(h){try{h.func.call(h.self,h.args)}catch(v){de(n[Pt],2,73,"Unexpected Exception during onComplete - "+pe(v))}}),i=[])}return f}function l(f,m){var h=null,v=t.cfg;if(v&&f){var g=v[gc];!g&&m&&(g={}),v[gc]=g,g=t.ref(v,gc),g&&(h=g[f],!h&&m&&(h={}),g[f]=h,h=t.ref(g,f))}return h}function u(f,m){var h=l(f,!0);return m&&fe(m,function(v,g){if(te(h[v])){var y=t.cfg[v];(y||!te(y))&&(h[v]=y)}hw(t,h,v,g)}),t[vs](h,m)}function d(f,m,h){h===void 0&&(h=!1);var v,g=l(f,!1),y=t.cfg;return g&&(g[m]||!te(g[m]))?v=g[m]:(y[m]||!te(y[m]))&&(v=y[m]),v||!te(v)?v:h}function p(f){for(var m;m=s._next();){var h=m[tu]();h&&f(h)}}return s}function ho(e,t,n,r){var o=Gt(t),i=cF(e,o,n,r),s=i.ctx;function a(l){var u=i._next();return u&&u[jo](l,s),!u}function c(l,u){return l===void 0&&(l=null),ge(l)&&(l=vu(l,o.cfg,n,u)),ho(l||s[di](),o.cfg,n,u)}return s[Xn]=a,s[ra]=c,s}function Nh(e,t,n){var r=Gt(t.config),o=cF(e,r,t,n),i=o.ctx;function s(c){var l=o._next();return l&&l[Uo](i,c),!l}function a(c,l){return c===void 0&&(c=null),ge(c)&&(c=vu(c,r.cfg,t,l)),Nh(c||i[di](),t,l)}return i[Xn]=s,i[ra]=a,i}function Rw(e,t,n){var r=Gt(t.config),o=cF(e,r,t,n),i=o.ctx;function s(c){return i.iterate(function(l){Ae(l[yf])&&l[yf](i,c)})}function a(c,l){return c===void 0&&(c=null),ge(c)&&(c=vu(c,r.cfg,t,l)),Rw(c||i[di](),t,l)}return i[Xn]=s,i[ra]=a,i}function vu(e,t,n,r){var o=null,i=!r;if(ge(e)&&e[ke]>0){var s=null;ne(e,function(a){if(!i&&r===a&&(i=!0),i&&a&&Ae(a[jo])){var c=Phe(a,t,n);o||(o=c),s&&s._setNext(c),s=c}})}return r&&!o?vu([r],t,n):o}function Phe(e,t,n){var r=null,o=Ae(e[jo]),i=Ae(e[iu]),s;e?s=e[na]+"-"+e[bf]+"-"+g8++:s="Unknown-0-"+g8++;var a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:u,unload:d,update:p,_id:s,_setNext:function(f){r=f}};function c(){var f;return e&&Ae(e[h8])&&(f=e[h8]()),f||(f=ho(a,t,n)),f}function l(f,m,h,v,g){var y=!1,x=e?e[na]:Dhe,w=f[m8];return w||(w=f[m8]={}),f.setNext(r),e&&pn(f[on](),function(){return x+":"+h},function(){w[s]=!0;try{var E=r?r._id:Ue;E&&(w[E]=!1),y=m(f)}catch(D){var I=r?w[r._id]:!0;I&&(y=!0),(!r||!I)&&de(f[Mo](),1,73,"Plugin ["+x+"] failed during "+h+" - "+pe(D)+", run flags: "+pe(w))}},v,g),y}function u(f,m){m=m||c();function h(v){if(!e||!o)return!1;var g=Sc(e);return g[ui]||g[iw]?!1:(i&&e[iu](r),e[jo](f,v),!0)}l(m,h,"processTelemetry",function(){return{item:f}},!f.sync)||m[Xn](f)}function d(f,m){function h(){var v=!1;if(e){var g=Sc(e),y=e[on]||g[on];e&&(!y||y===f.core())&&!g[ui]&&(g[on]=null,g[ui]=!0,g[Oo]=!1,e[ui]&&e[ui](f,m)===!0&&(v=!0))}return v}l(f,h,"unload",function(){},m[xs])||f[Xn](m)}function p(f,m){function h(){var v=!1;if(e){var g=Sc(e),y=e[on]||g[on];e&&(!y||y===f.core())&&!g[ui]&&e[yf]&&e[yf](f,m)===!0&&(v=!0)}return v}l(f,h,"update",function(){},!1)||f[Xn](m)}return Zs(a)}var Dhe,m8,h8,g8,lF,VS=q(()=>{"use strict";Re();NA();mu();Mt();Cc();xc();Fn();BS();aF();Dhe="TelemetryPluginChain",m8="_hasRun",h8="_getTelCtx",g8=0;lF=function(){function e(t,n,r,o){var i=this,s=ho(t,n,r,o);mi(i,s,Kn(s))}return e}()});function Nf(){var e=[];function t(r){r&&e[rt](r)}function n(r,o){ne(e,function(i){try{i(r,o)}catch(s){de(r[Mo](),2,73,"Unexpected error calling unload handler - "+pe(s))}}),e=[]}return{add:t,run:n}}var zS=q(()=>{Re();Mt();Cc()});function GS(){var e=[];function t(r){var o=e;e=[],ne(o,function(i){try{(i.rm||i.remove).call(i)}catch(s){de(r,2,73,"Unloading:"+pe(s))}})}function n(r){r&&Ui(e,r)}return{run:t,add:n}}var uF=q(()=>{Re();Cc()});var dF,xu,The,Dc,fF=q(()=>{"use strict";_r();Re();mu();Mt();Cc();xc();Fn();VS();zS();uF();xu="getPlugin",The=(dF={},dF[gc]={isVal:sa,v:{}},dF),Dc=function(){function e(){var t=this,n,r,o,i,s;l(),it(e,t,function(u){u[xf]=function(d,p,f,m){c(d,p,m),n=!0},u[ui]=function(d,p){var f,m=u[on];if(!m||d&&m!==d[on]())return;var h,v=!1,g=d||Nh(null,m,o&&o[xu]?o[xu]():o),y=p||(f={reason:0},f[xs]=!1,f);function x(){v||(v=!0,i.run(g,p),s.run(g[Mo]()),h===!0&&g[Xn](y),l())}return!u[dh]||u[dh](g,y,x)!==!0?x():h=!0,h},u[yf]=function(d,p){var f=u[on];if(!f||d&&f!==d[on]())return;var m,h=!1,v=d||Rw(null,f,o&&o[xu]?o[xu]():o),g=p||{reason:0};function y(){h||(h=!0,c(v.getCfg(),v.core(),v[di]()))}return!u._doUpdate||u._doUpdate(v,g,y)!==!0?y():m=!0,m},vc(u,"_addUnloadCb",function(){return i},"add"),vc(u,"_addHook",function(){return s},"add"),wt(u,"_unloadHooks",{g:function(){return s}})}),t[Mo]=function(u){return a(u)[Mo]()},t[Oo]=function(){return n},t.setInitialized=function(u){n=u},t[iu]=function(u){o=u},t[Xn]=function(u,d){d?d[Xn](u):o&&Ae(o[jo])&&o[jo](u,null)},t._getTelCtx=a;function a(u){u===void 0&&(u=null);var d=u;if(!d){var p=r||ho(null,{},t[on]);o&&o[xu]?d=p[ra](null,o[xu]):d=p[ra](null,o)}return d}function c(u,d,p){Gt(u,The,Es(d)),!p&&d&&(p=d[hS]()[di]());var f=o;o&&o[xu]&&(f=o[xu]()),t[on]=d,r=ho(p,u,d,f)}function l(){n=!1,t[on]=null,r=null,o=null,s=GS(),i=Nf()}}return e.__ieDyn=1,e}()});function khe(e,t,n){var r={id:t,fn:n};Ui(e,r);var o={remove:function(){ne(e,function(i,s){if(i.id===r.id)return e[ta](s,1),-1})}};return o}function Rhe(e,t,n){for(var r=!1,o=e[ke],i=0;i<o;++i){var s=e[i];if(s)try{if(s.fn[eu](null,[t])===!1){r=!0;break}}catch(a){de(n,2,64,"Telemetry initializer failed: "+$t(a),{exception:pe(a)},!0)}}return!r}var v8,x8=q(()=>{Fo();_r();Re();Mt();fF();Cc();xc();Fn();v8=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,o;i(),it(t,n,function(s,a){s.addTelemetryInitializer=function(c){return khe(o,r++,c)},s[jo]=function(c,l){Rhe(o,c,l?l[Mo]():s[Mo]())&&s[Xn](c,l)},s[dh]=function(){i()}});function i(){r=0,o=[]}return n}return t.__ieDyn=1,t}(Dc)});function Ahe(e,t){return new Sw(t)}function Fhe(e,t,n){var r,o=[],i=[],s={};return ne(n,function(a){(te(a)||te(a[xf]))&&tn(C8);var c=a[bf],l=a[na];a&&c&&(te(s[c])?s[c]=l:gi(e,"Two extensions have same priority #"+c+" - "+s[c]+", "+l)),!c||c<t?o[rt](a):i[rt](a)}),r={},r[on]=o,r[cu]=i,r}function y8(e,t){var n=!1;return ne(t,function(r){if(r===e)return n=!0,-1}),n}function mF(e,t,n,r){n&&fe(n,function(o,i){r&&Jn(i)&&Jn(t[o])&&mF(e,t[o],i,r),r&&Jn(i)&&Jn(t[o])?mF(e,t[o],i,r):e.set(t,o,i)})}function E8(e,t){var n=null,r=-1;return ne(e,function(o,i){if(o.w===t)return n=o,r=i,-1}),{i:r,l:n}}function Ohe(e,t){var n=E8(e,t).l;return n||(n={w:t,rm:function(){var r=E8(e,t);r.i!==-1&&e[ta](r.i,1)}},e[rt](n)),n}function Uhe(e,t,n){ne(t,function(r){var o=On(e,r.w,n);delete r.w,r.rm=function(){o.rm()}})}var wu,C8,Nhe,w8,Lhe,pF,Ic,b8=q(()=>{"use strict";Fo();_r();wh();Re();mu();Mt();FA();K6();XA();Sh();jA();Cc();xc();Fn();ZA();BS();VS();aF();x8();zS();uF();C8="Plugins must provide initialize method",Nhe="_notificationManager",w8="SDK is still unloading...",Lhe="SDK is not initialized",pF=lo((wu={cookieCfg:{}},wu[Cf]={rdOnly:!0,ref:!0,v:[]},wu[cu]={rdOnly:!0,ref:!0,v:[]},wu[gc]={ref:!0,v:{}},wu[bS]=fi,wu.loggingLevelConsole=0,wu.diagnosticLogInterval=fi,wu));Ic=function(){function e(){var t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,x,w,E,I,D,k,N,R,C,_;it(e,this,function(b){L(),b._getDbgPlgTargets=function(){return[D]},b[Oo]=function(){return n},b[xf]=function(K,ae,he,Ee){f&&tn(w8),b[Oo]()&&tn("Core cannot be initialized more than once"),t=Gt(K,pF,he||b[Pt],!1),K=t.cfg,at(t[$i](function(le){E=le.cfg.instrumentationKey;var Le=le.ref(le.cfg,gc);fe(Le,function(dt){le.ref(Le,dt)}),te(E)&&tn("Please provide instrumentation key")})),i=Ee,Pe(),Ze(),b[Pt]=he;var Ce=K[Cf];if(u=[],u[rt].apply(u,oS(oS([],ae,!1),Ce,!1)),d=K[cu],$(null),(!p||p[ke]===0)&&tn("No "+cu+" available"),d&&d[ke]>1){var Qe=b[tu]("TeeChannelController");(!Qe||!Qe.plugin)&&de(r,1,28,"TeeChannel required")}Uhe(K,I,r),I=null,n=!0,b.releaseQueue(),b[sA]()},b.getChannels=function(){var K=[];return p&&ne(p,function(ae){K[rt](ae)}),Zs(K)},b.track=function(K){pn(b[Ch](),function(){return"AppInsightsCore:track"},function(){K===null&&(Xe(K),tn("Invalid telemetry item")),!K[zr]&&te(K[zr])&&(Xe(K),tn("telemetry name required")),K.iKey=K.iKey||E,K[nu]=K[nu]||pi(new Date),K.ver=K.ver||"4.0",!f&&b[Oo]()?T()[Xn](K):o[rt](K)},function(){return{item:K}},!K.sync)},b[hS]=T,b[ah]=function(){return i||(i=new bw(t.cfg),b[Nhe]=i),i},b[ch]=function(K){b[ah]()[ch](K)},b[lh]=function(K){i&&i[lh](K)},b.getCookieMgr=function(){return c||(c=bc(t.cfg,b[Pt])),c},b.setCookieMgr=function(K){c!==K&&(Ec(c,!1),c=K)},b[Ch]=function(){return!s&&!a&&at(t[$i](function(K){if(K.cfg.enablePerfMgr){var ae=K.cfg[bS];Ae(ae)&&(a=ae(b,b[ah]()))}})),s||a||tF()},b.setPerfMgr=function(K){s=K},b.eventCnt=function(){return o[ke]},b.releaseQueue=function(){if(n&&o[ke]>0){var K=o;o=[],ne(K,function(ae){T()[Xn](ae)})}},b[sA]=function(K){return h=K||null,_=!1,R&&R[vf](),S(!0)};function S(K){if((!R||!R[ru])&&!_){var ae=K||r&&r.queue[ke]>0;ae&&(C||(C=!0,at(t[$i](function(he){var Ee=he.cfg.diagnosticLogInterval;(!Ee||!(Ee>0))&&(Ee=1e4);var Ce=!1;R&&(Ce=R[ru],R[vf]()),R=VL(ue,Ee),R.unref(),R[ru]=Ce}))),R[ru]=!0)}return R}b[aA]=function(){_=!0,R&&R[vf](),ue()},mi(b,function(){return m},["addTelemetryInitializer"]),b[Uo]=function(K,ae,he){var Ee;K===void 0&&(K=!0),n||tn(Lhe),f&&tn(w8);var Ce=(Ee={reason:50},Ee[xs]=K,Ee.flushComplete=!1,Ee),Qe;K&&!ae&&(Qe=mo(function(dt){ae=dt}));var le=Nh(Y(),b);le[Qx](function(){y.run(b[Pt]),FS([c,i,r],K,function(){L(),ae&&ae(Ce)})},b);function Le(dt){Ce.flushComplete=dt,f=!0,g.run(le,Ce),b[aA](),le[Xn](Ce)}return ue(),Ne(K,Le,6,he)||Le(!1),Qe},b[tu]=H,b.addPlugin=function(K,ae,he,Ee){if(!K){Ee&&Ee(!1),Et(C8);return}var Ce=H(K[na]);if(Ce&&!ae){Ee&&Ee(!1),Et("Plugin ["+K[na]+"] is already loaded!");return}var Qe={reason:16};function le(Lt){u[rt](K),Qe.added=[K],$(Qe),Ee&&Ee(!0)}if(Ce){var Le=[Ce.plugin],dt={reason:2,isAsync:!!he};J(Le,dt,function(Lt){Lt?(Qe.removed=Le,Qe.reason|=32,le(!0)):Ee&&Ee(!1)})}else le(!1)},b.updateCfg=function(K,ae){ae===void 0&&(ae=!0);var he;if(b[Oo]()){he={reason:1,cfg:t.cfg,oldCfg:tS({},t.cfg),newConfig:tS({},K),merge:ae},K=he.newConfig;var Ee=t.cfg;K[Cf]=Ee[Cf],K[cu]=Ee[cu]}t._block(function(Ce){var Qe=Ce.cfg;mF(Ce,Qe,K,ae),ae||fe(Qe,function(le){No(K,le)||Ce.set(Qe,le,fi)}),Ce[vs](Qe,pF)},!0),t[gf](),he&&Je(he)},b.evtNamespace=function(){return v},b.flush=Ne,b.getTraceCtx=function(K){return w||(w=p8()),w},b.setTraceCtx=function(K){w=K||null},b.addUnloadHook=at,vc(b,"addUnloadCb",function(){return g},"add"),b.onCfgChange=function(K){var ae;return n?ae=On(t.cfg,K,b[Pt]):ae=Ohe(I,K),{rm:function(){ae.rm()}}},b.getWParam=function(){return Kl()||t.cfg.enableWParam?0:-1};function A(){var K={};k=[];var ae=function(he){he&&ne(he,function(Ee){if(Ee[na]&&Ee[wf]&&!K[Ee.identifier]){var Ce=Ee[na]+"="+Ee[wf];k[rt](Ce),K[Ee.identifier]=Ee}})};ae(p),d&&ne(d,function(he){ae(he)}),ae(u)}function L(){n=!1,t=Gt({},pF,b[Pt]),t.cfg[gS]=1,wt(b,"config",{g:function(){return t.cfg},s:function(ae){b.updateCfg(ae,!1)}}),wt(b,"pluginVersionStringArr",{g:function(){return k||A(),k}}),wt(b,"pluginVersionString",{g:function(){return N||(k||A(),N=k.join(";")),N||Ue}}),wt(b,"logger",{g:function(){return r||(r=new hu(t.cfg),t[Pt]=r),r},s:function(ae){t[Pt]=ae,r!==ae&&(Ec(r,!1),r=ae)}}),b[Pt]=new hu(t.cfg),D=[];var K=b.config[Cf]||[];K.splice(0,K[ke]),Ui(K,D),m=new v8,o=[],Ec(i,!1),i=null,s=null,a=null,Ec(c,!1),c=null,l=null,u=[],d=null,p=null,f=!1,h=null,v=Dr("AIBaseCore",!0),g=Nf(),w=null,E=null,y=GS(),I=[],N=null,k=null,_=!1}function T(){var K=ho(Y(),t.cfg,b);return K[Qx](S),K}function $(K){var ae=Fhe(b[Pt],G6,u);l=null,N=null,k=null,p=(d||[])[0]||[],p=YS(Ui(p,ae[cu]));var he=Ui(YS(ae[on]),p);D=Zs(he);var Ee=b.config[Cf]||[];Ee.splice(0,Ee[ke]),Ui(Ee,D);var Ce=T();p&&p[ke]>0&&sF(Ce[ra](p),he),sF(Ce,he),K&&Je(K)}function H(K){var ae=null,he=null,Ee=[];return ne(D,function(Ce){if(Ce[na]===K&&Ce!==m)return he=Ce,-1;Ce.getChannel&&Ee[rt](Ce)}),!he&&Ee[ke]>0&&ne(Ee,function(Ce){if(he=Ce.getChannel(K),!he)return-1}),he&&(ae={plugin:he,setEnabled:function(Ce){Sc(he)[iw]=!Ce},isEnabled:function(){var Ce=Sc(he);return!Ce[ui]&&!Ce[iw]},remove:function(Ce,Qe){var le;Ce===void 0&&(Ce=!0);var Le=[he],dt=(le={reason:1},le[xs]=Ce,le);J(Le,dt,function(Lt){Lt&&$({reason:32,removed:Le}),Qe&&Qe(Lt)})}}),ae}function Y(){if(!l){var K=(D||[]).slice();lt(K,m)===-1&&K[rt](m),l=vu(YS(K),t.cfg,b)}return l}function J(K,ae,he){if(K&&K[ke]>0){var Ee=vu(K,t.cfg,b),Ce=Nh(Ee,b);Ce[Qx](function(){var Qe=!1,le=[];ne(u,function(dt,Lt){y8(dt,K)?Qe=!0:le[rt](dt)}),u=le,N=null,k=null;var Le=[];d&&(ne(d,function(dt,Lt){var kr=[];ne(dt,function(Ki){y8(Ki,K)?Qe=!0:kr[rt](Ki)}),Le[rt](kr)}),d=Le),he&&he(Qe),S()}),Ce[Xn](ae)}else he(!1)}function ue(){if(r&&r.queue){var K=r.queue.slice(0);r.queue[ke]=0,ne(K,function(ae){var he,Ee=(he={},he[zr]=h||"InternalMessageId: "+ae[uh],he.iKey=E,he[nu]=pi(new Date),he.baseType=If.dataType,he.baseData={message:ae[ou]},he);b.track(Ee)})}}function Ne(K,ae,he,Ee){var Ce=1,Qe=!1,le=null;Ee=Ee||5e3;function Le(){Ce--,Qe&&Ce===0&&(le&&le[vf](),le=null,ae&&ae(Qe),ae=null)}if(p&&p[ke]>0){var dt=T()[ra](p);dt.iterate(function(Lt){if(Lt.flush){Ce++;var kr=!1;Lt.flush(K,function(){kr=!0,Le()},he)||kr||(K&&le==null?le=Lo(function(){le=null,Le()},Ee):Le())}})}return Qe=!0,Le(),!0}function Pe(){!i&&b[ah](),at(t[$i](function(K){var ae=K.cfg.disableDbgExt;ae===!0&&x&&(i[lh](x),x=null),i&&!x&&ae!==!0&&(x=J6(K.cfg),i[ch](x))}))}function Ze(){at(t[$i](function(K){var ae=K.cfg.enablePerfMgr;!ae&&a&&(a=null),ae&&sw(K.cfg,bS,Ahe)}))}function Je(K){var ae=Rw(Y(),b);ae[Qx](S),(!b._updateHook||b._updateHook(ae,K)!==!0)&&ae[Xn](K)}function Et(K){var ae=b[Pt];ae?(de(ae,2,73,K),S()):tn(K)}function Xe(K){var ae=b[ah]();ae&&ae[lu]([K],2)}function at(K){y.add(K)}})}return e.__ieDyn=1,e}()});function P8(e){return e&&e[hc]?e[hc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ue):e}function XS(e,t){var n;if(t){var r=Ue;ge(t)?(r=Ue,ne(t,function(i){i=P8(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=P8(t),r&&(r[0]!=="."&&(r="."+r),e=(e||Ue)+r)}var o=Hhe.exec(e||Ue)||[];return n={},n[$o]=o[1],n.ns=(o[2]||Ue).replace(Mhe,".").replace($he,Ue)[oa](".").sort().join("."),n}function hF(e,t,n){var r=[],o=Lw.get(e,KS,{},!1),i=XS(t,n);return fe(o,function(s,a){ne(a,function(c){var l;(!i[$o]||i[$o]===c.evtName[$o])&&(!i.ns||i.ns===i.ns)&&r[rt]((l={},l[zr]=c.evtName[$o]+(c.evtName.ns?"."+c.evtName.ns:Ue),l.handler=c[tw],l))})}),r}function O8(e,t,n){n===void 0&&(n=!0);var r=Lw.get(e,KS,{},n),o=r[t];return o||(o=r[t]=[]),o}function U8(e,t,n,r){e&&t&&t[$o]&&(e[I8]?e[I8](t[$o],n,r):e[D8]&&e[D8](k8+t[$o],n))}function Bhe(e,t,n,r){var o=!1;return e&&t&&t[$o]&&n&&(e[S8]?(e[S8](t[$o],n,r),o=!0):e[_8]&&(e[_8](k8+t[$o],n),o=!0)),o}function T8(e,t,n,r){for(var o=t[ke];o--;){var i=t[o];i&&(!n.ns||n.ns===i.evtName.ns)&&(!r||r(i))&&(U8(e,i.evtName,i[tw],i.capture),t[ta](o,1))}}function qhe(e,t,n){if(t[$o])T8(e,O8(e,t[$o]),t,n);else{var r=Lw.get(e,KS,{});fe(r,function(o,i){T8(e,i,t,n)}),Kn(r)[ke]===0&&Lw.kill(e,KS)}}function vi(e,t){var n;return t?(ge(t)?n=[e].concat(t):n=[e,t],n=XS("xx",n).ns[oa](".")):n=e,n}function fa(e,t,n,r,o){var i;o===void 0&&(o=!1);var s=!1;if(e)try{var a=XS(t,r);if(s=Bhe(e,a,n,o),s&&Lw.accept(e)){var c=(i={guid:jhe++,evtName:a},i[tw]=n,i.capture=o,i);O8(e,a.type)[rt](c)}}catch{}return s}function Pc(e,t,n,r,o){if(o===void 0&&(o=!1),e)try{var i=XS(t,r),s=!1;qhe(e,i,function(a){return i.ns&&!n||a[tw]===n?(s=!0,!0):!1}),s||U8(e,i,n,o)}catch{}}function gF(e,t,n,r){return r===void 0&&(r=!1),fa(e,t,n,null,r)}function vF(e,t,n,r){r===void 0&&(r=!1),Pc(e,t,n,null,r)}function ZS(e,t,n){var r=!1,o=fn();o&&(r=fa(o,e,t,n),r=fa(o.body,e,t,n)||r);var i=nn();return i&&(r=fa(i,e,t,n)||r),r}function QS(e,t,n){var r=fn();r&&(Pc(r,e,t,n),Pc(r.body,e,t,n));var o=nn();o&&Pc(o,e,t,n)}function Lh(e,t,n,r){var o=!1;return t&&e&&e[ke]>0&&ne(e,function(i){i&&(!n||lt(n,i)===-1)&&(o=ZS(i,t,r)||o)}),o}function eD(e,t,n,r){var o=!1;return t&&e&&ge(e)&&(o=Lh(e,t,n,r),!o&&n&&n[ke]>0&&(o=Lh(e,t,null,r))),o}function yu(e,t,n){e&&ge(e)&&ne(e,function(r){r&&QS(r,t,n)})}function Aw(e,t,n){return eD([L8,N8,JS],e,t,n)}function Fw(e,t){yu([L8,N8,JS],e,t)}function Ah(e,t,n){function r(s){var a=nn();e&&a&&a.visibilityState==="hidden"&&e(s)}var o=vi(A8,n),i=Lh([JS],e,t,o);return(!t||lt(t,Nw)===-1)&&(i=Lh([Nw],r,t,o)||i),!i&&t&&(i=Ah(e,null,n)),i}function Ow(e,t){var n=vi(A8,t);yu([JS],e,n),yu([Nw],null,n)}function Fh(e,t,n){function r(s){var a=nn();e&&a&&a.visibilityState==="visible"&&e(s)}var o=vi(F8,n),i=Lh([R8],e,t,o);return i=Lh([Nw],r,t,o)||i,!i&&t&&(i=Fh(e,null,n)),i}function Uw(e,t){var n=vi(F8,t);yu([R8],e,n),yu([Nw],null,n)}var k8,_8,S8,D8,I8,KS,Nw,JS,R8,N8,L8,A8,F8,Mhe,$he,jhe,Lw,Hhe,M8=q(()=>{Re();Mt();Sh();Fn();k8="on",_8="attachEvent",S8="addEventListener",D8="detachEvent",I8="removeEventListener",KS="events",Nw="visibilitychange",JS="pagehide",R8="pageshow",N8="unload",L8="beforeunload",A8=Dr("aiEvtPageHide"),F8=Dr("aiEvtPageShow"),Mhe=/\.[\.]+/g,$he=/[\.]+$/,jhe=1,Lw=PS("events"),Hhe=/^([^.]*)(?:\.(.+)|)/});var xF,$8=q(()=>{pS();xF=lr({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3})});var yt=q(()=>{u6();d6();b8();fF();IS();nF();FA();xc();Re();pS();M8();_h();Fo();ZA();BS();Cc();VS();$8();XA();Sh();zS();iF();mu();NS();UA()});var pa,j8,wF,tD,nD=q(()=>{pa="",j8="https://browser.events.data.microsoft.com/OneCollector/1.0/",wF="version",tD="properties"});var yF,EF,Oh,ma,CF,Kt,Lf,Tc,rD,oD,iD,sD,Mw,aD=q(()=>{yF="initialize",EF="logger",Oh="indexOf",ma="timings",CF="pollInternalLogs",Kt="value",Lf="kind",Tc="length",rD="processTelemetryStart",oD="handleField",iD="rmSanitizer",sD="rmFieldSanitizer",Mw="canHandle"});function ur(e){return!(e===pa||te(e))}function cD(e){if(e){var t=po(e,"-");if(t>-1)return zl(e,t)}return pa}function Y8(){return bF===null&&(bF=!Oe(Uint8Array)&&!Ghe()&&!uu()),bF}function lD(e){return!!(e&&cr(e)&&e>=1&&e<=4)}function uD(e,t,n){if(!t&&!ur(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||ge(t))t={value:t};else if(r==="object"&&!B8.call(t,"value"))t={value:n?JSON.stringify(t):t};else if(te(t[Kt])||t[Kt]===pa||!Fe(t[Kt])&&!cr(t[Kt])&&!fs(t[Kt])&&!ge(t[Kt]))return null;if(ge(t[Kt])&&!SF(t[Kt]))return null;if(!te(t[Lf])){if(ge(t[Kt])||!$w(t[Lf]))return null;t[Kt]=t[Kt].toString()}return t}function dD(e,t,n){var r=-1;if(!Oe(e))if(t>0&&(t===32?r=8192:t<=13&&(r=t<<5)),zhe(n))r===-1&&(r=0),r|=n;else{var o=Vhe[ha(e)]||-1;r!==-1&&o!==-1?r|=o:o===6&&(r=o)}return r}function V8(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||pa}function z8(e){e===void 0&&(e="D");var t=Dw();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,pa)),t}function Af(e,t,n,r,o){var i={},s=!1,a=0,c=arguments[Tc],l=arguments;for(fs(l[0])&&(s=l[0],a++);a<c;a++){var e=l[a];fe(e,function(d,p){s&&p&&kt(p)?ge(p)?(i[d]=i[d]||[],ne(p,function(f,m){f&&kt(f)?i[d][m]=Af(!0,i[d][m],f):i[d][m]=f})):i[d]=Af(!0,i[d],p):i[d]=p})}return i}function $w(e){return e===0||e>0&&e<=13||e===32}function zhe(e){return e>=0&&e<=9}function Ghe(){var e=An();if(!Oe(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[Oh]("safari")>=0||t[Oh]("firefox")>=0)&&t[Oh]("chrome")<0)return!0}return!1}function SF(e){return e[Tc]>0}function jw(e,t){var n=e;n[ma]=n[ma]||{},n[ma][rD]=n[ma][rD]||{},n[ma][rD][t]=Ho()}function ha(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===cc&&(t=4,ge(e)?(t=4096,e[Tc]>0&&(t|=ha(e[0]))):B8.call(e,"value")&&(t=8192|ha(e[Kt])))}return t}function fD(){return!!Ut("chrome")}function pD(e,t,n,r,o,i){r===void 0&&(r=!1),o===void 0&&(o=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return r&&s(a,Whe,r),n&&s(a,H8,n),a.open(e,t,!o),n&&s(a,H8,n),!o&&i&&s(a,Yhe,i),a}function Eu(e){return e>0}var kc,_F,Uh,B8,Whe,H8,Yhe,Vhe,bF,q8,W8,Ho,mD=q(()=>{yt();Fo();Re();nD();aD();_F="4.0.4",Uh="1DS-Web-JS-"+_F,B8=Mx.hasOwnProperty,Whe="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",H8="withCredentials",Yhe="timeout",Vhe=(kc={},kc[0]=0,kc[2]=6,kc[1]=1,kc[3]=7,kc[4098]=6,kc[4097]=1,kc[4099]=7,kc),bF=null,q8=Kl(),W8=Jl();Ho=oh});function Jhe(e){return e&&(!e.getProperty||!e.setProperty)&&tn("Invalid property storage override passed."),!0}var Khe,G8,K8=q(()=>{Fo();_r();yt();Re();nD();mD();aD();Khe=lo({endpointUrl:j8,propertyStorageOverride:{isVal:Jhe}});G8=function(e){Ao(t,e);function t(){var n=e.call(this)||this;return it(t,n,function(r,o){r[yF]=function(i,s,a,c){pn(r,function(){return"AppInsightsCore.initialize"},function(){try{o[yF](Gt(i,Khe,a||r[EF],!1).cfg,s,a,c)}catch(d){var l=r[EF],u=pe(d);u[Oh]("channels")!==-1&&(u+=`
 - Channels must be provided through config.channels only!`),de(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}},function(){return{config:i,extensions:s,logger:a,notificationManager:c}})},r.track=function(i){pn(r,function(){return"AppInsightsCore.track"},function(){var s=i;if(s){s[ma]=s[ma]||{},s[ma].trackStart=Ho(),lD(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Uh;var c=s.baseData=s.baseData||{};c[tD]=c[tD]||{};var l=c[tD];l[wF]=l[wF]||r.pluginVersionString||pa}o.track(s)},function(){return{item:i}},!i.sync)},r[CF]=function(i){return o[CF](i||"InternalLog")}}),n}return t.__ieDyn=1,t}(Ic)});var J8,X8,Z8,Q8,eK,tK=q(()=>{yt();J8=lr({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),X8=lr({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Z8=lr({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Q8=lr({Normal:1,Critical:2}),eK=lr({NONE:0,ERROR:1,WARNING:2,INFORMATION:3})});var nK,rK=q(()=>{yt();Re();nD();mD();aD();nK=function(){function e(t){var n=this,r={},o=[],i=[];t&&i.push(t);function s(u,d){var p,f=r[u];if(f&&(p=f[d]),!p&&p!==null){if(Fe(u)&&Fe(d))if(i[Tc]>0){for(var m=0;m<i[Tc];m++)if(i[m][oD](u,d)){p={canHandle:!0,fieldHandler:i[m]};break}}else o[Tc]===0&&(p={canHandle:!0});if(!p&&p!==null){p=null;for(var m=0;m<o[Tc];m++)if(o[m][oD](u,d)){p={canHandle:!0,handler:o[m],fieldHandler:null};break}}f||(f=r[u]={}),f[d]=p}return p}n.clearCache=function(){r={}},n.addSanitizer=function(u){u&&(eS(o,u)||o.push(u),r={})},n.addFieldSanitizer=function(u){u&&(eS(i,u)||i.push(u),r={})},n[iD]=function(u){if(u){var d=lt(o,u);d!==-1&&(o.splice(d,1),r={}),ne(o,function(p){p&&p[iD]&&p[iD](u)})}},n[sD]=function(u){if(u){var d=lt(i,u);d!==-1&&(i.splice(d,1),r={}),ne(o,function(p){p&&p[sD]&&p[sD](u)})}},n.isEmpty=function(){return rh(o)+rh(i)===0},n[oD]=function(u,d){var p=s(u,d);return p?p[Mw]:!1},n[Kt]=function(u,d,p,f){var m=s(u,d);if(m&&m[Mw]){if(!m||!m[Mw])return null;if(m.handler)return m.handler[Kt](u,d,p,f);if(!Fe(d)||te(p)||p===pa)return null;var h=null,v=ha(p);if((v&8192)===8192){var g=v&-8193;if(h=p,!ur(h[Kt])||g!==1&&g!==2&&g!==3&&(g&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?h=c(u,d,p):v===4&&(h=c(u,d,f?JSON.stringify(p):p));if(h)return a(m,u,d,v,h,f)}return null},n.property=function(u,d,p,f){var m=s(u,d);if(!m||!m[Mw]||!Fe(d)||te(p)||!ur(p[Kt]))return null;var h=ha(p[Kt]);return h===0?null:a(m,u,d,h,p,f)};function a(u,d,p,f,m,h){if(u.handler)return u.handler.property(d,p,m,h);if(!te(m[Lf])){if((f&4096)===4096||!$w(m[Lf]))return null;m[Kt]=m[Kt].toString()}return l(u.fieldHandler,d,p,f,m)}function c(u,d,p){return ur(p)?{value:p}:null}function l(u,d,p,f,m){if(m&&u){var h=u.getSanitizer(d,p,f,m[Lf],m.propertyType);if(h)if(f===4){var v={},g=m[Kt];fe(g,function(x,w){var E=d+"."+p;if(ur(w)){var I=c(E,x,w);I=l(u,E,x,ha(w),I),I&&(v[x]=I[Kt])}}),m[Kt]=v}else{var y={path:d,name:p,type:f,prop:m,sanitizer:n};m=h.call(n,y)}}return m}}return e.getFieldType=ha,e}()});var oK={};Gg(oK,{AppInsightsCore:()=>G8,BaseTelemetryPlugin:()=>Dc,DiagnosticLogger:()=>hu,EventLatency:()=>X8,EventPersistence:()=>Q8,EventPropertyType:()=>Z8,EventsDiscardedReason:()=>gs,FullVersionString:()=>Uh,InternalAppInsightsCore:()=>Ic,LoggingSeverity:()=>xF,MinChannelPriorty:()=>oA,NotificationManager:()=>bw,PerfEvent:()=>Tf,PerfManager:()=>Sw,ProcessTelemetryContext:()=>lF,TraceLevel:()=>eK,Undefined:()=>Js,ValueKind:()=>J8,ValueSanitizer:()=>nK,Version:()=>_F,_InternalLogMessage:()=>If,__getRegisteredEvents:()=>hF,_logInternalMessage:()=>qA,_throwInternal:()=>de,_warnToConsole:()=>gi,addEventHandler:()=>ZS,addEventListeners:()=>eD,addPageHideEventListener:()=>Ah,addPageShowEventListener:()=>Fh,addPageUnloadEventListener:()=>Aw,areCookiesSupported:()=>Th,arrForEach:()=>ne,arrIndexOf:()=>lt,arrMap:()=>Qs,arrReduce:()=>nh,attachEvent:()=>gF,blockDynamicConversion:()=>vw,cookieAvailable:()=>Th,createCookieMgr:()=>bc,createDynamicConfig:()=>Gt,createEnumStyle:()=>lr,createGuid:()=>z8,createProcessTelemetryContext:()=>ho,createTraceParent:()=>Iw,createUniqueNamespace:()=>Dr,createUnloadHandlerContainer:()=>Nf,dateNow:()=>rn,detachEvent:()=>vF,disallowsSameSiteNone:()=>HS,doPerf:()=>pn,dumpObj:()=>pe,eventOff:()=>Pc,eventOn:()=>fa,extend:()=>Af,findW3cTraceParent:()=>kw,forceDynamicConversion:()=>AA,formatTraceParent:()=>Tw,generateW3CId:()=>kf,getCommonSchemaMetaData:()=>dD,getConsole:()=>aw,getCookieValue:()=>V8,getCrypto:()=>cw,getDocument:()=>nn,getDynamicConfigHandler:()=>gw,getExceptionName:()=>$t,getFieldValueType:()=>ha,getGlobal:()=>Vr,getGlobalInst:()=>Ut,getHistory:()=>qx,getIEVersion:()=>uw,getISOString:()=>pi,getJSON:()=>Sr,getLocation:()=>Sf,getMsCrypto:()=>lw,getNavigator:()=>An,getPerformance:()=>pc,getSetValue:()=>sw,getTenantId:()=>cD,getTime:()=>Ho,getWindow:()=>fn,hasDocument:()=>Kl,hasHistory:()=>G_,hasJSON:()=>aa,hasNavigator:()=>th,hasOwnProperty:()=>wn,hasWindow:()=>Jl,isArray:()=>ge,isArrayValid:()=>SF,isBeaconsSupported:()=>hi,isBoolean:()=>fs,isChromium:()=>fD,isDate:()=>Gm,isDocumentObjectAvailable:()=>q8,isError:()=>Xs,isFetchSupported:()=>wc,isFunction:()=>Ae,isGreaterThanZero:()=>Eu,isIE:()=>du,isLatency:()=>lD,isNotTruthy:()=>R_,isNullOrUndefined:()=>te,isNumber:()=>cr,isObject:()=>kt,isReactNative:()=>uu,isSampledFlag:()=>Pw,isString:()=>Fe,isTruthy:()=>ps,isTypeof:()=>T_,isUint8ArrayAvailable:()=>Y8,isUndefined:()=>Oe,isValidSpanId:()=>da,isValidTraceId:()=>ua,isValidTraceParent:()=>Rh,isValueAssigned:()=>ur,isValueKind:()=>$w,isWindowObjectAvailable:()=>W8,isXhrSupported:()=>fu,mergeEvtNamespace:()=>vi,newGuid:()=>Dw,newId:()=>mw,normalizeJsName:()=>_f,objDefineAccessors:()=>q_,objForEachKey:()=>fe,objFreeze:()=>Zs,objKeys:()=>Kn,objSeal:()=>F_,onConfigChange:()=>On,openXhr:()=>pD,optimizeObject:()=>Hi,parseTraceParent:()=>Rf,perfNow:()=>oh,proxyAssign:()=>EA,proxyFunctionAs:()=>vc,proxyFunctions:()=>mi,random32:()=>yc,randomValue:()=>pw,removeEventHandler:()=>QS,removeEventListeners:()=>yu,removePageHideEventListener:()=>Ow,removePageShowEventListener:()=>Uw,removePageUnloadEventListener:()=>Fw,safeGetCookieMgr:()=>JA,safeGetLogger:()=>Es,sanitizeProperty:()=>uD,setEnableEnvMocks:()=>PA,setProcessTelemetryTimings:()=>jw,setValue:()=>ji,strContains:()=>yn,strEndsWith:()=>Xl,strFunction:()=>qm,strObject:()=>cc,strPrototype:()=>us,strStartsWith:()=>df,strTrim:()=>pt,strUndefined:()=>Js,throwError:()=>tn,toISOString:()=>pi,useXDomainRequest:()=>Df});var Ff=q(()=>{K8();tK();rK();yt();mD()});var Of,hD,gD,DF=q(()=>{Of="REAL_TIME",hD="NEAR_REAL_TIME",gD="BEST_EFFORT"});var Cs,vD,iK,xD,sK,IF,aK,cK,lK,PF,TF,wD,uK,kF,dK,RF,yD,NF,ED,CD,bD,Hw,LF,fK,Mh,AF,_D,Bw=q(()=>{Cs="",vD="POST",iK="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xD="drop",sK="send",IF="requeue",aK="rspFail",cK="oth",lK="no-cache, no-store",PF="application/x-json-stream",TF="cache-control",wD="content-type",uK="kill-tokens",kF="kill-duration",dK="kill-duration-seconds",RF="time-delta-millis",yD="client-version",NF="client-id",ED="time-delta-to-apply-millis",CD="upload-time",bD="apikey",Hw="AuthMsaDeviceTicket",LF="AuthXToken",fK="NoResponseBody",Mh="msfpc",AF="trace",_D="user"});var qw,SD,DD,ID,Ww,Ke,Bi,qi,En,ga,dr,bs,Uf,$h,jh,PD,Hh,TD,kD,pK,FF,OF,mK,hK,RD,ND,UF,MF,$F,gK,Bh,Cu,jF,_s,Yw,va,HF,BF,qh,Gr,Bo,Vw,Wh,LD,zw,vK,AD,FD,Yh,qF,Gw,OD,UD,MD,$D,jD,Kw,xK,wK,WF,YF,yK,EK,CK,Jw,bu,HD,Mf,Vh=q(()=>{qw="allowRequestSending",SD="firstRequestSent",DD="shouldAddClockSkewHeaders",ID="getClockSkewHeaderValue",Ww="setClockSkew",Ke="length",Bi="concat",qi="iKey",En="count",ga="events",dr="push",bs="split",Uf="splice",$h="toLowerCase",jh="hdrs",PD="useHdrs",Hh="initialize",TD="setTimeoutOverride",kD="clearTimeoutOverride",pK="payloadPreprocessor",FF="overrideEndpointUrl",OF="avoidOptions",mK="disableEventTimings",hK="stringifyObjects",RD="enableCompoundKey",ND="disableXhrSync",UF="disableFetchKeepAlive",MF="useSendBeacon",$F="alwaysUseXhrOverride",gK="unloadTransports",Bh="urlString",Cu="timeout",jF="ontimeout",_s="data",Yw="_sendReason",va="headers",HF="getResponseHeader",BF="getAllResponseHeaders",qh="_thePayload",Gr="batches",Bo="sendType",Vw="canSendRequest",Wh="sendQueuedRequests",LD="isCompletelyIdle",zw="setUnloading",vK="isTenantKilled",AD="sendSynchronousBatch",FD="_transport",Yh="getWParam",qF="isBeacon",Gw="timings",OD="isTeardown",UD="isSync",MD="sendPOST",$D="setKillSwitchTenants",jD="_backOffTransmission",Kw="identifier",xK="disableOptimizeObj",wK="ignoreMc1Ms0CookieProcessing",WF="eventsLimitInMem",YF="autoFlushEventsLimit",yK="disableAutoBatchFlushLimit",EK="overrideInstrumentationKey",CK="disableTelemetry",Jw="sendAttempt",bu="latency",HD="baseData",Mf="sync"});function _K(e){var t=(e.ext||{}).intweb;return t&&ur(t[Mh])?t[Mh]:null}function bK(e){for(var t=null,n=0;t===null&&n<e[Ke];n++)t=_K(e[n]);return t}var zh,VF=q(()=>{Ff();Bw();Vh();zh=function(){function e(t,n){var r=n?[][Bi](n):[],o=this,i=bK(r);o[qi]=function(){return t},o.Msfpc=function(){return i||Cs},o[En]=function(){return r[Ke]},o[ga]=function(){return r},o.addEvent=function(s){return s?(r[dr](s),i||(i=_K(s)),!0):!1},o[bs]=function(s,a){var c;if(s<r[Ke]){var l=r[Ke]-s;te(a)||(l=a<l?a:l),c=r[Uf](s,l),i=bK(r)}return new e(t,c)}}return e.create=function(t,n){return new e(t,n)},e}()});var zF,SK=q(()=>{_r();Vh();zF=function(){function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",i=!1;it(e,this,function(s){s[qw]=function(){return t},s[SD]=function(){r&&(r=!1,i||(t=!1))},s[DD]=function(){return n},s[ID]=function(){return o},s[Ww]=function(a){i||(a?(o=a,n=!0,i=!0):n=!1,t=!0)}})}return e.__ieDyn=1,e}()});var Xhe,GF,DK=q(()=>{_r();Ff();Vh();Xhe=1e3,GF=function(){function e(){var t={};function n(r){var o=[];return r&&ne(r,function(i){o[dr](pt(i))}),o}it(e,this,function(r){r[$D]=function(o,i){if(o&&i)try{var s=n(o[bs](","));if(i==="this-request-only")return s;for(var a=parseInt(i,10)*Xhe,c=0;c<s[Ke];++c)t[s[c]]=rn()+a}catch{return[]}return[]},r[vK]=function(o){var i=t,s=pt(o);return i[s]!==void 0&&i[s]>rn()?!0:(delete i[s],!1)}})}return e.__ieDyn=1,e}()});function PK(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function BD(e){var t=0,n=IK*Zhe,r=IK*Qhe,o=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*o,Math.min(t,ege)}var Zhe,Qhe,IK,ege,KF=q(()=>{Zhe=.8,Qhe=1.2,IK=3e3,ege=6e5});function kK(e,t,n,r){if(r&&e){var o=dD(r.value,r.kind,r.propertyType);if(o>-1){var i=e[TK];i||(i=e[TK]={f:{}});var s=i[qD];if(s||(s=i[qD]={}),t)for(var a=0;a<t.length;a++){var c=t[a];s[c]||(s[c]={f:{}});var l=s[c][qD];l||(l=s[c][qD]={}),s=l}s=s[n]={},ge(r.value)?s.a={t:o}:s.t=o}}}var tge,nge,RK,NK,rge,TK,qD,oge,LK,AK=q(()=>{_r();Ff();VF();Bw();Re();tge=20,nge=3984588,RK=65e3,NK=2e6,rge=Math.min(NK,RK),TK="metadata",qD="f",oge=/\./,LK=function(){function e(t,n,r,o){var i="data",s="baseData",a="ext",c=!!o,l=!0,u=n,d={};it(e,this,function(p){p.createPayload=function(h,v,g,y,x,w){return{apiKeys:[],payloadBlob:Cs,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:v,isSync:g,isBeacon:y,sendType:w,sendReason:x}},p.appendPayload=function(h,v,g){var y=h&&v&&!h.overflow;return y&&pn(t,function(){return"Serializer:appendPayload"},function(){for(var x=v.events(),w=h.payloadBlob,E=h.numEvents,I=!1,D=[],k=[],N=h.isBeacon,R=N?RK:nge,C=N?rge:NK,_=0,b=0;_<x.length;){var S=x[_];if(S){if(E>=g){h.overflow=v.split(_);break}var A=p.getEventBlob(S);if(A&&A.length<=C){var L=A.length,T=w.length;if(T+L>R){h.overflow=v.split(_);break}w&&(w+=`
`),w+=A,b++,b>tge&&(ms(w,0,1),b=0),I=!0,E++}else A?D.push(S):k.push(S),x.splice(_,1),_--}_++}if(D.length>0&&h.sizeExceed.push(zh.create(v.iKey(),D)),k.length>0&&h.failedEvts.push(zh.create(v.iKey(),k)),I){h.batches.push(v),h.payloadBlob=w,h.numEvents=E;var $=v.iKey();lt(h.apiKeys,$)===-1&&h.apiKeys.push($)}},function(){return{payload:h,theBatch:{iKey:v.iKey(),evts:v.events()},max:g}}),y},p.getEventBlob=function(h){try{return pn(t,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=h.name,v.time=h.time,v.ver=h.ver,v.iKey="o:"+cD(h.iKey);var g={},y=h[a];y&&(v[a]=g,fe(y,function(E,I){var D=g[E]={};m(I,D,"ext."+E,!0,null,null,!0)}));var x=v[i]={};x.baseType=h.baseType;var w=x[s]={};return m(h.baseData,w,s,!1,[s],function(E,I,D){kK(g,E,I,D)},l),m(h.data,x,i,!1,[],function(E,I,D){kK(g,E,I,D)},l),JSON.stringify(v)},function(){return{item:h}})}catch{return null}};function f(h,v){var g=d[h];return g===void 0&&(h.length>=7&&(g=df(h,"ext.metadata")||df(h,"ext.web")),d[h]=g),g}function m(h,v,g,y,x,w,E){fe(h,function(I,D){var k=null;if(D||ur(D)){var N=g,R=I,C=x,_=v;if(c&&!y&&oge.test(I)){var b=I.split("."),S=b.length;if(S>1){C&&(C=C.slice());for(var A=0;A<S-1;A++){var L=b[A];_=_[L]=_[L]||{},N+="."+L,C&&C.push(L)}R=b[S-1]}}var T=y&&f(N,R);if(!T&&u&&u.handleField(N,R)?k=u.value(N,R,D,r):k=uD(R,D,r),k){var $=k.value;if(_[R]=$,w&&w(C,R,k),E&&typeof $=="object"&&!ge($)){var H=C;H&&(H=H.slice(),H.push(R)),m(D,$,N+"."+R,y,H,w,E)}}}})}})}return e.__ieDyn=1,e}()});function Gh(e,t){return{set:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return YL([e,t],n,r,o)}}}var JF=q(()=>{Re()});function jf(e,t,n){ZF[e]=t,n!==!1&&(QF[t]=e)}function OK(e){try{return e.responseText}catch{}return Cs}function UK(e,t){var n=!1;if(e&&t){var r=Kn(e);if(r&&r[Ke]>0)for(var o=t[$h](),i=0;i<r[Ke];i++){var s=r[i];if(s&&wn(t,s)&&s[$h]()===o){n=!0;break}}}return n}function Kh(e,t,n,r){t&&n&&n[Ke]>0&&(r&&ZF[t]?(e[jh][ZF[t]]=n,e[PD]=!0):e.url+="&"+t+"="+n)}function MK(e,t){return t&&(cr(t)?e=[t][Bi](e):ge(t)&&(e=t[Bi](e))),e}function age(e,t,n){for(var r=0;r<e[Ke];r++)if(e[r].name===t){e[r].value=n;return}e[dr]({name:t,value:n})}function cge(e,t){for(var n=0;n<e[Ke];n++)if(e[n].name===t){e[Uf](n,1);return}}var $f,XF,FK,ige,sge,ZF,QF,$K,jK=q(()=>{_r();Ff();Re();SK();Bw();DK();KF();AK();JF();Vh();XF="sendAttempt",FK="&"+fK+"=true",ige="?cors=true&"+wD[$h]()+"="+PF,sge=($f={},$f[1]=IF,$f[100]=IF,$f[200]="sent",$f[8004]=xD,$f[8003]=xD,$f),ZF={},QF={};jf(Hw,Hw,!1);jf(yD,yD);jf(NF,"Client-Id");jf(bD,bD);jf(ED,ED);jf(CD,CD);jf(LF,LF);$K=function(){function e(t,n,r,o){var i,s=new GF,a=!1,c=new zF,l=!1,u=0,d,p,f,m,h=!0,v=[],g={},y=[],x=null,w=!1,E,I=!1,D=!1,k,N,R,C,_,b=[],S,A,L=[],T,$;it(e,this,function(H){Ne();var Y=!0;H[Hh]=function(P,U,B){T||(m=U,E=U.getCookieMgr(),d=B,p=d.diagLog(),Ui(b,On(P,function(z){var X,re=z.cfg,Q=z.cfg.extensionConfig[B.identifier];$=Gh(Q[TD],Q[kD]),ur(re.anonCookieName)?age(v,"anoncknm",re.anonCookieName):cge(v,"anoncknm"),S=Q[pK],A=Q.payloadListener;var M=Q.httpXHROverride,V=Q[FF]?Q[FF]:re.endpointUrl;i=V+ige,D=Oe(Q[OF])?!0:!Q[OF],w=!Q[mK];var j=Q.valueSanitizer,ie=Q[hK],ce=!!re[RD];Oe(Q[RD])||(ce=!!Q[RD]),k=Q.xhrTimeout,N=!!Q[ND],R=!!Q[UF],_=Q.addNoResponse!==!1,U.getPlugin("LocalStorage")&&(R=!0),l=!uu(),x=new LK(m,j,ie,ce),te(Q[MF])||(l=!!Q[MF]);var ye=M,He=Q[$F]?M:null,ot=Q[$F]?M:null,et=[3,2];if(!M){h=!1;var Rr=Sf();Rr&&Rr.protocol&&Rr.protocol[$h]()==="file:"&&(Y=!1);var Ct=[];uu()?(Ct=[2,1],et=[2,1,3]):Ct=[1,2,3],Ct=MK(Ct,Q.transports),M=J(Ct,!1),M||gi(p,"No available transport to send events"),ye=J(Ct,!0)}He||(et=MK(et,Q[gK]),He=J(et,!0)),C=!h&&(l&&hi()||!R&&wc(!0)),f=(X={},X[0]=M,X[1]=ye||J([1,2,3],!0),X[2]=He||ye||J([1],!0),X[3]=ot||J([2,3],!0)||ye||J([1],!0),X)})),T=!0)},H.addResponseHandler=function(P){return L[dr](P),{rm:function(){var U=L.indexOf(P);U>=0&&L[Uf](U,1)}}};function J(P,U){for(var B=0,z=null,X=0;z==null&&X<P[Ke];)B=P[X],B===1?Df()?z=ue:fu()&&(z=Ze):B===2&&wc(U)&&(!U||U&&!R)?z=Pe:l&&B===3&&hi()&&(z=Et),X++;return z?{_transport:B,_isSync:U,sendPOST:z}:null}H._getDbgPlgTargets=function(){return[f[0],s,x,f]};function ue(P,U,B){var z=new XDomainRequest;z.open(vD,P[Bh]),P[Cu]&&(z[Cu]=P[Cu]),z.onload=function(){var X=OK(z);Je(U,200,{},X),fd(X)},z.onerror=function(){Je(U,400,{})},z[jF]=function(){Je(U,500,{})},z.onprogress=function(){},B?z.send(P[_s]):$.set(function(){z.send(P[_s])},0)}function Ne(){var P;i=null,s=new GF,a=!1,c=new zF,l=!1,u=0,d=null,p=null,f=null,m=null,h=!0,v=[],g={},y=[],x=null,w=!1,E=null,I=!1,D=!1,k=P,N=P,R=P,C=P,_=P,b=[],S=P,A=P,L=[],T=!1,$=Gh()}function Pe(P,U,B){var z,X=P[Bh],re=!1,Q=!1,M=(z={body:P[_s],method:vD},z[iK]=!0,z);B&&(M.keepalive=!0,P[Yw]===2&&(re=!0,_&&(X+=FK))),Y&&(M.credentials="include"),P.headers&&Kn(P.headers)[Ke]>0&&(M[va]=P[va]);var V=function(ie,ce,ye){Q||(Q=!0,Je(U,ie,ce,ye),fd(ye))},j=function(){Q||(Q=!0,Je(U,0,{}))};fetch(X,M).then(function(ie){var ce={},ye=Cs,He=ie[va];He&&He.forEach(function(ot,et){ce[et]=ot}),ie.body?ie.text().then(function(ot){ye=ot,V(ie.status,ce,ye)},j):V(ie.status,ce,"")}).catch(j),re&&!Q&&(Q=!0,Je(U,200,{})),!Q&&P[Cu]>0&&$.set(function(){Q||(Q=!0,Je(U,500,{}))},P[Cu])}function Ze(P,U,B){var z=P[Bh];function X(V,j,ie){if(!V[ie]&&j&&j[HF]){var ce=j[HF](ie);ce&&(V[ie]=pt(ce))}return V}function re(V){var j={};return V[BF]?j=yp(V[BF]()):(j=X(j,V,RF),j=X(j,V,kF),j=X(j,V,dK)),j}function Q(V,j){Je(U,V.status,re(V),j)}B&&P[ND]&&(B=!1);var M=pD(vD,z,Y,!0,B,P[Cu]);fe(P[va],function(V,j){M.setRequestHeader(V,j)}),M.onload=function(){var V=OK(M);Q(M,V),fd(V)},M.onerror=function(){Q(M)},M[jF]=function(){Q(M)},M.send(P[_s])}function Je(P,U,B,z){try{P(U,B,z)}catch(X){de(p,2,518,pe(X))}}function Et(P,U,B){var z=P,X=200,re=z[qh],Q=P[Bh]+(_?FK:Cs);try{var M=An();if(!M.sendBeacon(Q,P[_s]))if(re){var V=!!m.getPlugin("LocalStorage"),j=[],ie=[];ne(re[Gr],function(ce){if(j&&ce&&ce[En]()>0)for(var ye=ce[ga](),He=0;He<ye[Ke];He++)if(M.sendBeacon(Q,x.getEventBlob(ye[He])))ie[dr](ce[He]);else{j[dr](ce[bs](He));break}else j[dr](ce[bs](0))}),ie[Ke]>0&&(re.sentEvts=ie),V||xo(j,8003,re[Bo],!0)}else X=0}catch(ce){gi(p,"Failed to send telemetry using sendBeacon API. Ex:"+pe(ce)),X=0}finally{Je(U,X,{},Cs)}}function Xe(P){return P===2||P===3}function at(P){return I&&Xe(P)&&(P=2),P}H.addHeader=function(P,U){g[P]=U},H[Vw]=function(){return K()&&c[qw]()},H[Wh]=function(P,U){Oe(P)&&(P=0),I&&(P=at(P),U=2),he(y,P,0)&&Ce(ae(),0,!1,P,U||0)},H[LD]=function(){return!a&&u===0&&y[Ke]===0},H[zw]=function(P){I=P},H.addBatch=function(P){if(P&&P[En]()>0){if(s.isTenantKilled(P[qi]()))return!1;y[dr](P)}return!0},H.teardown=function(){y[Ke]>0&&Ce(ae(),0,!0,2,2),ne(b,function(P){P&&P.rm&&P.rm()}),b=[]},H.pause=function(){a=!0},H.resume=function(){a=!1,H[Wh](0,4)},H[AD]=function(P,U,B){P&&P[En]()>0&&(te(U)&&(U=1),I&&(U=at(U),B=2),Ce([P],0,!1,U,B||0))};function K(){return!a&&u<n}function ae(){var P=y;return y=[],P}function he(P,U,B){var z=!1;return P&&P[Ke]>0&&!a&&f[U]&&x&&(z=U!==0||K()&&(B>0||c[qw]())),z}function Ee(P){var U={};return P&&ne(P,function(B,z){U[z]={iKey:B[qi](),evts:B[ga]()}}),U}function Ce(P,U,B,z,X){if(!(!P||P[Ke]===0)){if(a){xo(P,1,z);return}z=at(z);try{var re=P,Q=z!==0;pn(m,function(){return"HttpManager:_sendBatches"},function(M){M&&(P=P.slice(0));for(var V=[],j=null,ie=Ho(),ce=f[z]||(Q?f[1]:f[0]),ye=ce&&ce[FD],He=C&&(I||Xe(z)||ye===3||ce._isSync&&ye===2);he(P,z,U);){var ot=P.shift();ot&&ot[En]()>0&&(s.isTenantKilled(ot[qi]())?V[dr](ot):(j=j||x.createPayload(U,B,Q,He,X,z),x.appendPayload(j,ot,t)?j.overflow!==null&&(P=[j.overflow][Bi](P),j.overflow=null,Le(j,ie,Ho(),X),ie=Ho(),j=null):(Le(j,ie,Ho(),X),ie=Ho(),P=[ot][Bi](P),j=null)))}j&&Le(j,ie,Ho(),X),P[Ke]>0&&(y=P[Bi](y)),xo(V,8004,z)},function(){return{batches:Ee(re),retryCount:U,isTeardown:B,isSynchronous:Q,sendReason:X,useSendBeacon:Xe(z),sendType:z}},!Q)}catch(M){de(p,2,48,"Unexpected Exception sending batch: "+pe(M))}}}function Qe(P,U){var B={url:i,hdrs:{},useHdrs:!1};U?(B[jh]=Af(B[jh],g),B.useHdrs=Kn(B.hdrs)[Ke]>0):fe(g,function(M,V){QF[M]?Kh(B,QF[M],V,!1):(B[jh][M]=V,B[PD]=!0)}),Kh(B,NF,"NO_AUTH",U),Kh(B,yD,Uh,U);var z=Cs;ne(P.apiKeys,function(M){z[Ke]>0&&(z+=","),z+=M}),Kh(B,bD,z,U),Kh(B,CD,rn().toString(),U);var X=Ep(P);if(ur(X)&&(B.url+="&ext.intweb.msfpc="+X),c[DD]()&&Kh(B,ED,c[ID](),U),m[Yh]){var re=m[Yh]();re>=0&&(B.url+="&w="+re)}for(var Q=0;Q<v[Ke];Q++)B.url+="&"+v[Q].name+"="+v[Q].value;return B}function le(P,U,B){P[U]=P[U]||{},P[U][d.identifier]=B}function Le(P,U,B,z){if(P&&P.payloadBlob&&P.payloadBlob[Ke]>0){var X=!!S,re=f[P.sendType];!Xe(P[Bo])&&P[qF]&&P.sendReason===2&&(re=f[2]||f[3]||re);var Q=D;(P.isBeacon||re[FD]===3)&&(Q=!1);var M=Qe(P,Q);Q=Q||M[PD];var V=Ho();pn(m,function(){return"HttpManager:_doPayloadSend"},function(){for(var j=0;j<P.batches[Ke];j++)for(var ie=P[Gr][j],ce=ie[ga](),ye=0;ye<ce[Ke];ye++){var He=ce[ye];if(w){var ot=He[Gw]=He[Gw]||{};le(ot,"sendEventStart",V),le(ot,"serializationStart",U),le(ot,"serializationCompleted",B)}He[XF]>0?He[XF]++:He[XF]=1}xo(P[Gr],1e3+(z||0),P[Bo],!0);var et={data:P.payloadBlob,urlString:M.url,headers:M[jh],_thePayload:P,_sendReason:z,timeout:k,disableXhrSync:N,disableFetchKeepAlive:R};Q&&(UK(et[va],TF)||(et[va][TF]=lK),UK(et[va],wD)||(et[va][wD]=PF));var Rr=null;re&&(Rr=function(Ct){c[SD]();var Dt=function(Cp,eQ){Lt(Cp,eQ,P,z)},er=P[OD]||P[UD];try{re[MD](Ct,Dt,er),A&&A(et,Ct,er,P[qF])}catch(Cp){gi(p,"Unexpected exception sending payload. Ex:"+pe(Cp)),Je(Dt,0,{})}}),pn(m,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Rr)if(P[Bo]===0&&u++,X&&!P.isBeacon&&re[FD]!==3){var Ct={data:et[_s],urlString:et[Bh],headers:Af({},et[va]),timeout:et[Cu],disableXhrSync:et[ND],disableFetchKeepAlive:et[UF]},Dt=!1;pn(m,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{S(Ct,function(er){Dt=!0,!h&&!er[qh]&&(er[qh]=er[qh]||et[qh],er[Yw]=er[Yw]||et[Yw]),Rr(er)},P.isSync||P[OD])}catch{Dt||Rr(et)}})}else Rr(et)})},function(){return{thePayload:P,serializationStart:U,serializationCompleted:B,sendReason:z}},P[UD])}P.sizeExceed&&P.sizeExceed[Ke]>0&&xo(P.sizeExceed,8003,P[Bo]),P.failedEvts&&P.failedEvts[Ke]>0&&xo(P.failedEvts,8002,P[Bo])}function dt(P,U){w&&ne(P,function(B){var z=B[Gw]=B[Gw]||{};le(z,"sendEventCompleted",U)})}function Lt(P,U,B,z){var X=9e3,re=null,Q=!1,M=!1;try{var V=!0;if(typeof P!==Js){if(U){c[Ww](U[RF]);var j=U[kF]||U["kill-duration-seconds"];ne(s[$D](U[uK],j),function(ce){ne(B[Gr],function(ye){if(ye[qi]()===ce){re=re||[];var He=ye[bs](0);B.numEvents-=He[En](),re[dr](He)}})})}if(P==200||P==204){X=200;return}(!PK(P)||B.numEvents<=0)&&(V=!1),X=9e3+P%1e3}if(V){X=100;var ie=B.retryCnt;B[Bo]===0&&(ie<r?(Q=!0,dd(function(){B[Bo]===0&&u--,Ce(B[Gr],ie+1,B[OD],I?2:B[Bo],5)},I,BD(ie))):(M=!0,I&&(X=8001)))}}finally{Q||(c[Ww](),kr(B,X,z,M)),xo(re,8004,B[Bo])}}function kr(P,U,B,z){try{z&&d[jD]();var X=P[Gr];U===200&&(X=P.sentEvts||P[Gr],!z&&!P[UD]&&d._clearBackOff(),Ki(X)),xo(X,U,P[Bo],!0)}finally{P[Bo]===0&&(u--,B!==5&&H.sendQueuedRequests(P[Bo],B))}}function Ki(P){if(w){var U=Ho();ne(P,function(B){B&&B[En]()>0&&dt(B[ga](),U)})}}function dd(P,U,B){U?P():$.set(P,B)}function yp(P){var U={};if(Fe(P)){var B=pt(P)[bs](/[\r\n]+/);ne(B,function(z){if(z){var X=z.indexOf(": ");if(X!==-1){var re=pt(z.substring(0,X))[$h](),Q=pt(z.substring(X+1));U[re]=Q}else U[pt(z)]=1}})}return U}function Ep(P){for(var U=0;U<P.batches[Ke];U++){var B=P[Gr][U].Msfpc();if(B)return encodeURIComponent(B)}return Cs}function fd(P){var U=L;try{for(var B=0;B<U[Ke];B++)try{U[B](P)}catch(X){de(p,1,519,"Response handler failed: "+X)}if(P){var z=JSON.parse(P);ur(z.webResult)&&ur(z.webResult[Mh])&&E.set("MSFPC",z.webResult[Mh],365*86400)}}catch{}}function xo(P,U,B,z){if(P&&P[Ke]>0&&o){var X=o[Gc(U)];if(X){var re=B!==0;pn(m,function(){return"HttpManager:_sendBatchesNotification"},function(){dd(function(){try{X.call(o,P,U,re,B)}catch(Q){de(p,1,74,"send request notification failed: "+Q)}},z||re,0)},function(){return{batches:Ee(P),reason:U,isSync:re,sendSync:z,sendType:B}},!re)}}}function Gc(P){var U=sge[P];return ur(U)||(U=cK,P>=9e3&&P<=9999?U=aK:P>=8e3&&P<=8999?U=xD:P>=1e3&&P<=1999&&(U=sK)),U}})}return e.__ieDyn=1,e}()});function mge(e){return e&&e[MD]}var lge,HK,uge,qK,WK,dge,BK,fge,eO,Hf,fr,pge,YK,VK=q(()=>{Fo();_r();Ff();wh();Re();DF();VF();jK();Bw();KF();JF();Vh();lge=.25,HK=500,uge=20,qK=6,WK=2,dge=4,BK=2,fge=1,eO=1e4,Hf="eventsDiscarded",fr=void 0,pge=lo({eventsLimitInMem:{isVal:Eu,v:eO},immediateEventLimit:{isVal:Eu,v:500},autoFlushEventsLimit:{isVal:Eu,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:mge,v:fr},overrideInstrumentationKey:fr,overrideEndpointUrl:fr,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:fr,clearTimeoutOverride:fr,payloadPreprocessor:fr,payloadListener:fr,disableEventTimings:fr,valueSanitizer:fr,stringifyObjects:fr,enableCompoundKey:fr,disableOptimizeObj:!1,transports:fr,unloadTransports:fr,useSendBeacon:fr,disableFetchKeepAlive:fr,avoidOptions:!1,xhrTimeout:fr,disableXhrSync:fr,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:cr,v:qK},maxUnloadEventRetryAttempts:{isVal:cr,v:WK},addNoResponse:fr});YK=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="4.0.4";var r,o=!1,i=[],s,a=!1,c=0,l,u=0,d,p={},f=Of,m,h,v,g,y,x,w,E,I,D,k,N,R,C,_,b,S,A,L,T,$,H;return it(t,n,function(Y,J){K(),Y._getDbgPlgTargets=function(){return[y,r]},Y[Hh]=function(M,V,j){pn(V,function(){return"PostChannel:initialize"},function(){J[Hh](M,V,j),L=V.getNotifyMgr();try{_=vi(Dr(Y[Kw]),V.evtNamespace&&V.evtNamespace()),Y._addHook(On(M,function(ie){var ce=ie.cfg,ye=ho(null,ce,V);r=ye.getExtCfg(Y[Kw],pge),b=Gh(r[TD],r[kD]),k=!r[xK]&&fD(),S=r[wK],Ne(V),d=r[WF],l=r.immediateEventLimit,w=r[YF],R=r.maxEventRetryAttempts,C=r.maxUnloadEventRetryAttempts,A=r[yK],Q(),$=r[EK],H=!!r[CK],T&&ue();var He=ce.disablePageUnloadEvents||[];T=Aw(Pe,He,_),T=Ah(Pe,He,_)||T,T=Fh(Ze,ce.disablePageShowEvents,_)||T})),y[Hh](M,Y.core,Y)}catch(ie){throw Y.setInitialized(!1),ie}},function(){return{theConfig:M,core:V,extensions:j}})},Y.processTelemetry=function(M,V){jw(M,Y[Kw]),V=V||Y._getTelCtx(V);var j=M;!H&&!o&&($&&(j[qi]=$),Je(j,!0),N?Ee(2,2):at()),Y.processNext(j,V)},Y._doTeardown=function(M,V){Ee(2,2),o=!0,y.teardown(),ue(),K()};function ue(){Fw(null,_),Ow(null,_),Uw(null,_)}function Ne(M){var V=M[Yh];M[Yh]=function(){var j=0;return S&&(j=j|2),j|V.call(M)}}function Pe(M){var V=M||fn().event;V.type!=="beforeunload"&&(N=!0,y[zw](N)),Ee(2,2)}function Ze(M){N=!1,y[zw](N)}function Je(M,V){if(M[Jw]||(M[Jw]=0),M[bu]||(M[bu]=1),M.ext&&M.ext[AF]&&delete M.ext[AF],M.ext&&M.ext[_D]&&M.ext[_D].id&&delete M.ext[_D].id,k&&(M.ext=Hi(M.ext),M[HD]&&(M[HD]=Hi(M[HD])),M[_s]&&(M[_s]=Hi(M[_s]))),M[Mf]){if(v||a)M[bu]=3,M[Mf]=!1;else if(y){k&&(M=Hi(M)),y[AD](zh.create(M[qi],[M]),M[Mf]===!0?1:M[Mf],3);return}}var j=M[bu],ie=u,ce=d;j===4&&(ie=c,ce=l);var ye=!1;if(ie<ce)ye=!Le(M,V);else{var He=1,ot=uge;j===4&&(He=4,ot=1),ye=!0,dt(M[qi],M[bu],He,ot)&&(ye=!Le(M,V))}ye&&Gc(Hf,[M],gs.QueueFull)}Y.setEventQueueLimits=function(M,V){r[WF]=d=Eu(M)?M:eO,r[YF]=w=Eu(V)?V:0,Q();var j=u>M;if(!j&&E>0)for(var ie=1;!j&&ie<=3;ie++){var ce=x[ie];ce&&ce[Gr]&&ne(ce[Gr],function(ye){ye&&ye[En]()>=E&&(j=!0)})}le(!0,j)},Y.pause=function(){he(),a=!0,y.pause()},Y.resume=function(){a=!1,y.resume(),at()},Y._loadTransmitProfiles=function(M){yp(),fe(M,function(V,j){var ie=j[Ke];if(ie>=2){var ce=ie>2?j[2]:0;if(j[Uf](0,ie-2),j[1]<0&&(j[0]=-1),j[1]>0&&j[0]>0){var ye=j[0]/j[1];j[0]=Math.ceil(ye)*j[1]}ce>=0&&j[1]>=0&&ce>j[1]&&(ce=j[1]),j[dr](ce),p[V]=j}})},Y.flush=function(M,V,j){M===void 0&&(M=!0);var ie;if(!a)if(j=j||1,M)V||(ie=mo(function(ye){V=ye})),s==null?(he(),kr(1,0,j),s=ae(function(){s=null,Ki(V,j)},0)):i[dr](V);else{var ce=he();Et(1,1,j),V&&V(),ce&&at()}return ie},Y.setMsaAuthTicket=function(M){y.addHeader(Hw,M)},Y.hasEvents=Xe,Y._setTransmitProfile=function(M){f!==M&&p[M]!==void 0&&(he(),f=M,at())},mi(Y,function(){return y},["addResponseHandler"]);function Et(M,V,j){var ie=kr(M,V,j);return y[Wh](V,j),ie}function Xe(){return u>0}function at(){if(I>=0&&kr(I,0,D)&&y[Wh](0,D),c>0&&!h&&!a){var M=p[f][2];M>=0&&(h=ae(function(){h=null,Et(4,0,1),at()},M))}var V=p[f][1];!m&&!s&&V>=0&&!a&&(Xe()?m=ae(function(){m=null,Et(g===0?3:1,0,1),g++,g%=2,at()},V):g=0)}Y[jD]=function(){v<dge&&(v++,he(),at())},Y._clearBackOff=function(){v&&(v=0,he(),at())};function K(){r=null,o=!1,i=[],s=null,a=!1,c=0,l=500,u=0,d=eO,p={},f=Of,m=null,h=null,v=0,g=0,x={},w=0,T=!1,E=0,I=-1,D=null,k=!0,N=!1,R=qK,C=WK,_=null,$=null,H=!1,b=Gh(),y=new $K(HK,BK,fge,{requeue:fd,send:U,sent:B,drop:z,rspFail:X,oth:re}),Ep(),Ce(),Q()}function ae(M,V){V===0&&v&&(V=1);var j=1e3;return v&&(j=BD(v-1)),b.set(M,V*j)}function he(){return m!==null?(m.cancel(),m=null,g=0,!0):!1}function Ee(M,V){he(),s&&(s.cancel(),s=null),a||Et(1,M,V)}function Ce(){x[4]={batches:[],iKeyMap:{}},x[3]={batches:[],iKeyMap:{}},x[2]={batches:[],iKeyMap:{}},x[1]={batches:[],iKeyMap:{}}}function Qe(M,V,j){var ie=x[V];ie||(V=1,ie=x[V]);var ce=ie.iKeyMap[M];return!ce&&j&&(ce=zh.create(M),ie.batches[dr](ce),ie.iKeyMap[M]=ce),ce}function le(M,V){y[Vw]()&&!v&&(w>0&&u>w&&(V=!0),V&&s==null&&Y.flush(M,function(){},20))}function Le(M,V){k&&(M=Hi(M));var j=M[bu],ie=Qe(M[qi],j,!0);return ie.addEvent(M)?(j!==4?(u++,V&&M[Jw]===0&&le(!M.sync,E>0&&ie[En]()>=E)):c++,!0):!1}function dt(M,V,j,ie){for(;j<=V;){var ce=Qe(M,V,!0);if(ce&&ce[En]()>0){var ye=ce[bs](0,ie),He=ye[En]();if(He>0)return j===4?c-=He:u-=He,P(Hf,[ye],gs.QueueFull),!0}j++}return Lt(),!1}function Lt(){for(var M=0,V=0,j=function(ce){var ye=x[ce];ye&&ye[Gr]&&ne(ye[Gr],function(He){ce===4?M+=He[En]():V+=He[En]()})},ie=1;ie<=4;ie++)j(ie);u=V,c=M}function kr(M,V,j){var ie=!1,ce=V===0;return!ce||y[Vw]()?pn(Y.core,function(){return"PostChannel._queueBatches"},function(){for(var ye=[],He=4;He>=M;){var ot=x[He];ot&&ot.batches&&ot.batches[Ke]>0&&(ne(ot[Gr],function(et){y.addBatch(et)?ie=ie||et&&et[En]()>0:ye=ye[Bi](et[ga]()),He===4?c-=et[En]():u-=et[En]()}),ot[Gr]=[],ot.iKeyMap={}),He--}ye[Ke]>0&&Gc(Hf,ye,gs.KillSwitch),ie&&I>=M&&(I=-1,D=0)},function(){return{latency:M,sendType:V,sendReason:j}},!ce):(I=I>=0?Math.min(I,M):M,D=Math.max(D,j)),ie}function Ki(M,V){Et(1,0,V),Lt(),dd(function(){M&&M(),i[Ke]>0?s=ae(function(){s=null,Ki(i.shift(),V)},0):(s=null,at())})}function dd(M){y[LD]()?M():s=ae(function(){s=null,dd(M)},lge)}function yp(){he(),Ep(),f=Of,at()}function Ep(){p={},p[Of]=[2,1,0],p[hD]=[6,3,0],p[gD]=[18,9,0]}function fd(M,V){var j=[],ie=R;N&&(ie=C),ne(M,function(ce){ce&&ce[En]()>0&&ne(ce[ga](),function(ye){ye&&(ye[Mf]&&(ye[bu]=4,ye[Mf]=!1),ye[Jw]<ie?(jw(ye,Y[Kw]),Je(ye,!1)):j[dr](ye))})}),j[Ke]>0&&Gc(Hf,j,gs.NonRetryableStatus),N&&Ee(2,2)}function xo(M,V){var j=L||{},ie=j[M];if(ie)try{ie.apply(j,V)}catch(ce){de(Y.diagLog(),1,74,M+" notification failed: "+ce)}}function Gc(M,V){for(var j=[],ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];V&&V[Ke]>0&&xo(M,[V][Bi](j))}function P(M,V){for(var j=[],ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];V&&V[Ke]>0&&ne(V,function(ce){ce&&ce[En]()>0&&xo(M,[ce.events()][Bi](j))})}function U(M,V,j){M&&M[Ke]>0&&xo("eventsSendRequest",[V>=1e3&&V<=1999?V-1e3:0,j!==!0])}function B(M,V){P("eventsSent",M,V),at()}function z(M,V){P(Hf,M,V>=8e3&&V<=8999?V-8e3:gs.Unknown)}function X(M){P(Hf,M,gs.NonRetryableStatus),at()}function re(M,V){P(Hf,M,gs.Unknown),at()}function Q(){A?E=0:E=Math.max(HK*(BK+1),d/6)}}),n}return t.__ieDyn=1,t}(Dc)});var zK={};Gg(zK,{BE_PROFILE:()=>gD,NRT_PROFILE:()=>hD,PostChannel:()=>YK,RT_PROFILE:()=>Of});var GK=q(()=>{DF();VK()});var JK=O(xa=>{"use strict";var hge=xa&&xa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),gge=xa&&xa.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KK=xa&&xa.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hge(t,e,n);return gge(t,e),t};Object.defineProperty(xa,"__esModule",{value:!0});xa.oneDataSystemClientFactory=void 0;var vge=async(e,t,n)=>{let r=await Promise.resolve().then(()=>KK((Ff(),Kg(oK)))),o=await Promise.resolve().then(()=>KK((GK(),Kg(zK)))),i=new r.AppInsightsCore,s=new o.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let u={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=u}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return i.initialize(a,[]),i.addTelemetryInitializer(u=>{l&&(u.ext=u.ext??{},u.ext.utc=u.ext.utc??{},u.ext.utc.flags=8462029)}),i},xge=async(e,t,n)=>{let r=await vge(e,t,n);return{logEvent:(s,a)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:a==null?void 0:a.properties,measurements:a==null?void 0:a.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!r){a();return}r.flush(!0,l=>{if(!l){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!r){a();return}r.unload(!1,()=>{a(),r=void 0},1e3)})}};xa.oneDataSystemClientFactory=xge});var Jh,Xh,Zh,Xw,_u,wa,Zn,WD,Wi=q(()=>{Jh="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xh="sampleRate",Zh="ProcessLegacy",Xw="http.method",_u="https://dc.services.visualstudio.com",wa="/v2/track",Zn="not_specified",WD="iKey"});var Rc,tO=q(()=>{yt();Rc=iA({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})});var Nc,Me,ya,Su,Lc,YD,Un,Ss,Du,VD,zD,GD,nO,KD,JD,Bf,Qh,rO,Zw,qf,Yi,Kr,Jr,Wf,Ea,Yf,XD,ZD,oO,Vf,Iu,Qw,ey,zf,eg,Gf,iO,pr=q(()=>{Nc="split",Me="length",ya="toLowerCase",Su="ingestionendpoint",Lc="toString",YD="removeItem",Un="name",Ss="message",Du="count",VD="preTriggerDate",zD="disabled",GD="interval",nO="daysOfMonth",KD="date",JD="getUTCDate",Bf="stringify",Qh="pathname",rO="correlationHeaderExcludePatterns",Zw="extensionConfig",qf="exceptions",Yi="parsedStack",Kr="properties",Jr="measurements",Wf="sizeInBytes",Ea="typeName",Yf="severityLevel",XD="problemGroup",ZD="isManual",oO="CreateFromInterface",Vf="assembly",Iu="fileName",Qw="hasFullStack",ey="level",zf="method",eg="line",Gf="duration",iO="receivedResponse"});function QD(e,t,n){var r=t[Me],o=sO(e,t);if(o[Me]!==r){for(var i=0,s=o;n[s]!==void 0;)i++,s=dn(o,0,150-3)+aO(i);o=s}return o}function sO(e,t){var n;return t&&(t=pt(Nn(t)),t[Me]>150&&(n=dn(t,0,150),de(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),n||t}function bt(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=pt(Nn(t)),t[Me]>n&&(r=dn(t,0,n),de(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Pu(e,t){return n0(e,t,2048,66)}function tg(e,t){var n;return t&&t[Me]>32768&&(n=dn(t,0,32768),de(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function e0(e,t){var n;if(t){var r=""+t;r[Me]>32768&&(n=dn(r,0,32768),de(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Xr(e,t){if(t){var n={};fe(t,function(r,o){if(kt(o)&&aa())try{o=Sr()[Bf](o)}catch(i){de(e,2,49,"custom property is not valid",{exception:i},!0)}o=bt(e,o,8192),r=QD(e,r,n),n[r]=o}),t=n}return t}function Zr(e,t){if(t){var n={};fe(t,function(r,o){r=QD(e,r,n),n[r]=o}),t=n}return t}function t0(e,t){return t&&n0(e,t,128,69)[Lc]()}function n0(e,t,n,r){var o;return t&&(t=pt(Nn(t)),t[Me]>n&&(o=dn(t,0,n),de(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),o||t}function aO(e){var t="00"+e;return ms(t,t[Me]-3)}var Vi=q(()=>{yt();Re();pr()});function Kf(e){var t=ZK,n=wge,r=n[t];return XK.createElement?n[t]||(r=n[t]=XK.createElement("a")):r={host:cO(e,!0)},r.href=e,t++,t>=n[Me]&&(t=0),ZK=t,r}function QK(e){var t,n=Kf(e);return n&&(t=n.href),t}function e5(e){var t,n=Kf(e);return n&&(t=n[Qh]),t}function t5(e,t){return e?e.toUpperCase()+" "+t:t}function cO(e,t){var n=ty(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Me]>3&&Fe(r[2])&&r[2][Me]>0)return r[2]+(r[3]||"")}return n}function ty(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Me]>2&&Fe(r[2])&&r[2][Me]>0&&(n=r[2]||"",t&&r[Me]>2)){var o=(r[1]||"")[ya](),i=r[3]||"";(o==="http"&&i===":80"||o==="https"&&i===":443")&&(i=""),n+=i}}return n}var XK,ZK,wge,lO=q(()=>{yt();pr();XK=nn()||{},ZK=0,wge=[null,null,null,null,null]});function ng(e){return lt(yge,e[ya]())!==-1}function n5(e){uO=e}function r5(){return uO}function o5(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[rO]){for(var r=0;r<e.correlationHeaderExcludePatterns[Me];r++)if(e[rO][r].test(t))return!1}var o=Kf(t).host[ya]();if(o&&(po(o,":443")!==-1||po(o,":80")!==-1)&&(o=(ty(t,!0)||"")[ya]()),(!e||!e.enableCorsCorrelation)&&o&&o!==n)return!1;var i=e&&e.correlationHeaderDomains;if(i){var s;if(ne(i,function(l){var u=new RegExp(l.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||u.test(o)}),!s)return!1}var a=e&&e.correlationHeaderExcludedDomains;if(!a||a[Me]===0)return!0;for(var r=0;r<a[Me];r++){var c=new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(o))return!1}return o&&o[Me]>0}function i5(e){if(e){var t=dO(e,Rc[1]);if(t&&t!==uO)return t}}function dO(e,t){if(e)for(var n=e[Nc](","),r=0;r<n[Me];++r){var o=n[r][Nc]("=");if(o[Me]===2&&o[0]===t)return o[1]}}function s5(e,t,n,r){var o,i=r,s=r;if(t&&t[Me]>0){var a=Kf(t);if(o=a.host,!i)if(a[Qh]!=null){var c=a.pathname[Me]===0?"/":a[Qh];c.charAt(0)!=="/"&&(c="/"+c),s=a[Qh],i=bt(e,n?n+" "+c:c)}else i=bt(e,t)}else o=r,i=r;return{target:o,name:i,data:s}}function a5(){var e=pc();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return rn()}function c5(e,t){var n=null;return e!==0&&t!==0&&!te(e)&&!te(t)&&(n=t-e),n}function l5(e,t){var n=e||{};return{getName:function(){return n[Un]},setName:function(r){t&&t.setName(r),n[Un]=r},getTraceId:function(){return n.traceID},setTraceId:function(r){t&&t.setTraceId(r),ua(r)&&(n.traceID=r)},getSpanId:function(){return n.parentID},setSpanId:function(r){t&&t.setSpanId(r),da(r)&&(n.parentID=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){t&&t.setTraceFlags(r),n.traceFlags=r}}}var yge,uO,fO=q(()=>{yt();Re();Wi();tO();Vi();lO();pr();yge=[_u+wa,"https://breeze.aimon.applicationinsights.io"+wa,"https://dc-int.services.visualstudio.com"+wa],uO="cid-v1:"});var rg,u5,pO=q(()=>{yt();rg=lr({LocalStorage:0,SessionStorage:1}),u5=lr({AI:0,AI_AND_W3C:1,W3C:2})});function mO(){return og()?r0(rg.LocalStorage):null}function r0(e){try{if(te(Vr()))return null;var t=new Date()[Lc](),n=Ut(e===rg.LocalStorage?"localStorage":"sessionStorage"),r=d5+t;n.setItem(r,t);var o=n.getItem(r)!==t;if(n[YD](r),!o)return n}catch{}return null}function hO(){return Jf()?r0(rg.SessionStorage):null}function f5(){Tu=!1,ku=!1}function o0(e){d5=e||""}function p5(){Tu=og(!0),ku=Jf(!0)}function og(e){return(e||Tu===void 0)&&(Tu=!!r0(rg.LocalStorage)),Tu}function i0(e,t){var n=mO();if(n!==null)try{return n.getItem(t)}catch(r){Tu=!1,de(e,2,1,"Browser failed read of local storage. "+$t(r),{exception:pe(r)})}return null}function s0(e,t,n){var r=mO();if(r!==null)try{return r.setItem(t,n),!0}catch(o){Tu=!1,de(e,2,3,"Browser failed write to local storage. "+$t(o),{exception:pe(o)})}return!1}function m5(e,t){var n=mO();if(n!==null)try{return n[YD](t),!0}catch(r){Tu=!1,de(e,2,5,"Browser failed removal of local storage item. "+$t(r),{exception:pe(r)})}return!1}function Jf(e){return(e||ku===void 0)&&(ku=!!r0(rg.SessionStorage)),ku}function h5(){var e=[];return Jf()&&fe(Ut("sessionStorage"),function(t){e.push(t)}),e}function a0(e,t){var n=hO();if(n!==null)try{return n.getItem(t)}catch(r){ku=!1,de(e,2,2,"Browser failed read of session storage. "+$t(r),{exception:pe(r)})}return null}function c0(e,t,n){var r=hO();if(r!==null)try{return r.setItem(t,n),!0}catch(o){ku=!1,de(e,2,4,"Browser failed write to session storage. "+$t(o),{exception:pe(o)})}return!1}function g5(e,t){var n=hO();if(n!==null)try{return n[YD](t),!0}catch(r){ku=!1,de(e,2,6,"Browser failed removal of session storage item. "+$t(r),{exception:pe(r)})}return!1}var Tu,ku,d5,gO=q(()=>{yt();pO();pr();Tu=void 0,ku=void 0,d5=""});var Ege,v5,x5=q(()=>{yt();Re();gO();pr();Ege="appInsightsThrottle",v5=function(){function e(t,n){var r=this,o,i,s,a,c,l,u,d=!1,p=!1;m(),r._getDbgPlgTargets=function(){return[u]},r.getConfig=function(){return s},r.canThrottle=function(S){var A=C(S),L=h(S);return y(L,o,A)},r.isTriggered=function(S){return _(S)},r.isReady=function(){return d},r.flush=function(S){try{var A=b(S);if(A&&A[Me]>0){var L=A.slice(0);return u[S]=[],ne(L,function(T){f(T.msgID,T[Ss],T.severity,!1)}),!0}}catch{}return!1},r.flushAll=function(){try{if(u){var S=!0;return fe(u,function(A){var L=r.flush(parseInt(A));S=S&&L}),S}}catch{}return!1},r.onReadyState=function(S,A){return A===void 0&&(A=!0),d=te(S)?!0:S,d&&A?r.flushAll():null},r.sendMessage=function(S,A,L){return f(S,A,L,!0)};function f(S,A,L,T){if(d){var $=R(S);if(!$)return;var H=h(S),Y=C(S),J=y(H,o,Y),ue=!1,Ne=0,Pe=_(S);try{J&&!Pe?(Ne=Math.min(H.limit.maxSendNumber,Y[Du]+1),Y[Du]=0,ue=!0,c[S]=!0,Y[VD]=new Date):(c[S]=J,Y[Du]+=1);var Ze=x(S);D(i,Ze,Y);for(var Je=0;Je<Ne;Je++)N(S,i,A,L)}catch{}return{isThrottled:ue,throttleNum:Ne}}else if(T){var Et=b(S);Et.push({msgID:S,message:A,severity:L})}return null}function m(){i=Es(t),c={},a={},u={},s={},v(109),l=sa(n)?n:"",t.addUnloadHook(On(t.config,function(S){var A=S.cfg;o=og();var L=A.throttleMgrCfg||{};fe(L,function(T,$){v(parseInt(T),$)})}))}function h(S){return s[S]||s[109]}function v(S,A){var L,T;try{var $=A||{},H={};H[zD]=!!$[zD];var Y=$[GD]||{};p=(Y==null?void 0:Y.daysOfMonth)&&(Y==null?void 0:Y.daysOfMonth[Me])>0,H[GD]=g(Y);var J={samplingRate:((L=$.limit)===null||L===void 0?void 0:L.samplingRate)||100,maxSendNumber:((T=$.limit)===null||T===void 0?void 0:T.maxSendNumber)||1};H.limit=J,s[S]=H}catch{}}function g(S){S=S||{};var A=S==null?void 0:S.monthInterval,L=S==null?void 0:S.dayInterval;return te(A)&&te(L)&&(S.monthInterval=3,p||(S[nO]=[28],p=!0)),S={monthInterval:S==null?void 0:S.monthInterval,dayInterval:S==null?void 0:S.dayInterval,daysOfMonth:S==null?void 0:S.daysOfMonth},S}function y(S,A,L){if(S&&!S[zD]&&A&&sa(L)){var T=I(),$=L[KD],H=S[GD],Y=1;if(H!=null&&H.monthInterval){var J=(T.getUTCFullYear()-$.getUTCFullYear())*12+T.getUTCMonth()-$.getUTCMonth();Y=k(H.monthInterval,0,J)}var ue=1;if(p)ue=lt(H[nO],T[JD]());else if(H!=null&&H.dayInterval){var Ne=Math.floor((T.getTime()-$.getTime())/864e5);ue=k(H.dayInterval,0,Ne)}return Y>=0&&ue>=0}return!1}function x(S,A){var L=sa(A)?A:"";return S?Ege+L+"-"+S:null}function w(S){try{if(S){var A=new Date;return S.getUTCFullYear()===A.getUTCFullYear()&&S.getUTCMonth()===A.getUTCMonth()&&S[JD]()===A[JD]()}}catch{}return!1}function E(S,A,L){try{var T={date:I(),count:0};if(S){var $=JSON.parse(S),H={date:I($[KD])||T[KD],count:$[Du]||T[Du],preTriggerDate:$.preTriggerDate?I($[VD]):void 0};return H}else return D(A,L,T),T}catch{}return null}function I(S){try{if(S){var A=new Date(S);if(!isNaN(A.getDate()))return A}else return new Date}catch{}return null}function D(S,A,L){try{return s0(S,A,pt(JSON[Bf](L)))}catch{}return!1}function k(S,A,L){return S<=0?1:L>=A&&(L-A)%S==0?Math.floor((L-A)/S)+1:-1}function N(S,A,L,T){de(A,T||1,S,L)}function R(S){try{var A=h(S);return pw(1e6)<=A.limit.samplingRate}catch{}return!1}function C(S){try{var A=a[S];if(!A){var L=x(S,l);A=E(i0(i,L),i,L),a[S]=A}return a[S]}catch{}return null}function _(S){var A=c[S];if(te(A)){A=!1;var L=C(S);L&&(A=w(L[VD])),c[S]=A}return c[S]}function b(S){return u=u||{},te(u[S])&&(u[S]=[]),u[S]}}return e}()});function ny(e){if(!e)return{};var t=e[Nc](Cge),n=nh(t,function(o,i){var s=i[Nc](bge);if(s[Me]===2){var a=s[0][ya](),c=s[1];o[a]=c}return o},{});if(Kn(n)[Me]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[Su]=n[Su]||"https://"+r+"dc."+n.endpointsuffix}n[Su]=n[Su]||_u,Xl(n[Su],"/")&&(n[Su]=n[Su].slice(0,-1))}return n}var Cge,bge,w5,y5=q(()=>{yt();Wi();pr();Cge=";",bge="=";w5={parse:ny}});var l0,E5=q(()=>{yt();Wi();pr();Vi();l0=function(){function e(t,n,r){var o=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[Un]=bt(t,r)||Zn,i.data=n,i.time=pi(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1}}return e}()});var Ca,C5=q(()=>{Wi();pr();Vi();Ca=function(){function e(t,n,r,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[Un]=bt(t,n)||Zn,i[Kr]=Xr(t,r),i[Jr]=Zr(t,o)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}()});function yO(e,t){var n=e;return n&&!Fe(n)&&(JSON&&JSON[Bf]?(n=JSON[Bf](e),t&&(!n||n==="{}")&&(Ae(e[Lc])?n=e[Lc]():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}function I5(e,t){var n=e;return e&&(n&&!Fe(n)&&(n=e[wO]||e[D5]||n),n&&!Fe(n)&&(n=yO(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&po(n||"",t)===-1&&(n=t+": "+n),n||""}function Sge(e){try{if(kt(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}function Dge(e){try{if(kt(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}function _5(e){return e&&e.src&&Fe(e.src)&&e.obj&&ge(e.obj)}function Xf(e){var t=e||"";Fe(t)||(Fe(t[qo])?t=t[qo]:t=""+t);var n=t[Nc](`
`);return{src:t,obj:n}}function Ige(e){for(var t=[],n=e[Nc](`
`),r=0;r<n[Me];r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),t.push(o)}return{src:e,obj:t}}function P5(e){var t=null;if(e)try{if(e[qo])t=Xf(e[qo]);else if(e[ig]&&e[ig][qo])t=Xf(e[ig][qo]);else if(e.exception&&e.exception[qo])t=Xf(e.exception[qo]);else if(_5(e))t=e;else if(_5(e[xO]))t=e[xO];else if(fn()&&fn().opera&&e[wO])t=Ige(e[Ss]);else if(e.reason&&e.reason[qo])t=Xf(e.reason[qo]);else if(Fe(e))t=Xf(e);else{var n=e[wO]||e[D5]||"";Fe(e[b5])&&(n&&(n+=`
`),n+=" from "+e[b5]),n&&(t=Xf(n))}}catch(r){t=Xf(r)}return t||{src:"",obj:null}}function Pge(e){var t="";return e&&(e.obj?ne(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}function Tge(e){var t,n=e.obj;if(n&&n[Me]>0){t=[];var r=0,o=0;ne(n,function(m){var h=m[Lc]();if(EO.regex.test(h)){var v=new EO(h,r++);o+=v[Wf],t.push(v)}});var i=32*1024;if(o>i)for(var s=0,a=t[Me]-1,c=0,l=s,u=a;s<a;){var d=t[s][Wf],p=t[a][Wf];if(c+=d+p,c>i){var f=u-l+1;t.splice(l,f);break}l=s,u=a,s++,a--}}return t}function u0(e){var t="";if(e&&(t=e.typeName||e[Un]||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor[Lc]());t=r&&r[Me]>1?r[1]:""}catch{}return t}function vO(e){if(e)try{if(!Fe(e)){var t=u0(e),n=yO(e,!1);return(!n||n==="{}")&&(e[ig]&&(e=e[ig],t=u0(e)),n=yO(e,!0)),po(n,t)!==0&&t!=="String"?t+":"+n:n}}catch{}return""+(e||"")}var _ge,ig,qo,xO,b5,wO,D5,Ru,S5,EO,T5=q(()=>{Fo();yt();Re();Wi();pr();Vi();_ge="<no_method>",ig="error",qo="stack",xO="stackDetails",b5="errorSrc",wO="message",D5="description";Ru=function(){function e(t,n,r,o,i,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,Dge(n)?(a[qf]=n[qf]||[],a[Kr]=n[Kr],a[Jr]=n[Jr],n[Yf]&&(a[Yf]=n[Yf]),n.id&&(a.id=n.id),n[XD]&&(a[XD]=n[XD]),te(n[ZD])||(a[ZD]=n[ZD])):(r||(r={}),a[qf]=[new S5(t,n,r)],a[Kr]=Xr(t,r),a[Jr]=Zr(t,o),i&&(a[Yf]=i),s&&(a.id=s))}return e.CreateAutoException=function(t,n,r,o,i,s,a,c){var l,u=u0(i||s||t);return l={},l[Ss]=I5(t,u),l.url=n,l.lineNumber=r,l.columnNumber=o,l.error=vO(i||s||t),l.evt=vO(s||t),l[Ea]=u,l.stackDetails=P5(a||i||s),l.errorSrc=c,l},e.CreateFromInterface=function(t,n,r,o){var i=n[qf]&&Qs(n[qf],function(a){return S5[oO](t,a)}),s=new e(t,Mi(Mi({},n),{exceptions:i}),r,o);return s},e.prototype.toInterface=function(){var t,n=this,r=n.exceptions,o=n.properties,i=n.measurements,s=n.severityLevel,a=n.problemGroup,c=n.id,l=n.isManual,u=r instanceof Array&&Qs(r,function(d){return d.toInterface()})||void 0;return t={ver:"4.0"},t[qf]=u,t.severityLevel=s,t.properties=o,t.measurements=i,t.problemGroup=a,t.id=c,t.isManual=l,t},e.CreateSimpleException=function(t,n,r,o,i,s){var a;return{exceptions:[(a={},a[Qw]=!0,a.message=t,a.stack=i,a.typeName=n,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=vO,e}(),S5=function(){function e(t,n,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var o=this;if(Sge(n))o[Ea]=n[Ea],o[Ss]=n[Ss],o[qo]=n[qo],o[Yi]=n[Yi]||[],o[Qw]=n[Qw];else{var i=n,s=i&&i.evt;Xs(i)||(i=i[ig]||s||i),o[Ea]=bt(t,u0(i))||Zn,o[Ss]=tg(t,I5(n||i,o[Ea]))||Zn;var a=n[xO]||P5(n);o[Yi]=Tge(a),ge(o[Yi])&&Qs(o[Yi],function(c){c[Vf]=bt(t,c[Vf]),c[Iu]=bt(t,c[Iu])}),o[qo]=e0(t,Pge(a)),o.hasFullStack=ge(o.parsedStack)&&o.parsedStack[Me]>0,r&&(r[Ea]=r[Ea]||o[Ea])}}return e.prototype.toInterface=function(){var t,n=this,r=n[Yi]instanceof Array&&Qs(n[Yi],function(i){return i.toInterface()}),o=(t={id:n.id,outerId:n.outerId,typeName:n[Ea],message:n[Ss],hasFullStack:n[Qw],stack:n[qo]},t[Yi]=r||void 0,t);return o},e.CreateFromInterface=function(t,n){var r=n[Yi]instanceof Array&&Qs(n[Yi],function(i){return EO[oO](i)})||n[Yi],o=new e(t,Mi(Mi({},n),{parsedStack:r}));return o},e}(),EO=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[Wf]=0,typeof t=="string"){var o=t;r[ey]=n,r[zf]=_ge,r[Vf]=pt(o),r[Iu]="",r[eg]=0;var i=o.match(e.regex);i&&i[Me]>=5&&(r[zf]=pt(i[2])||r[zf],r[Iu]=pt(i[4]),r[eg]=parseInt(i[5])||0)}else r[ey]=t[ey],r[zf]=t[zf],r[Vf]=t[Vf],r[Iu]=t[Iu],r[eg]=t[eg],r[Wf]=0;r.sizeInBytes+=r.method[Me],r.sizeInBytes+=r.fileName[Me],r.sizeInBytes+=r.assembly[Me],r[Wf]+=e.baseSize,r.sizeInBytes+=r.level.toString()[Me],r.sizeInBytes+=r.line.toString()[Me]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var t=this;return{level:t[ey],method:t[zf],assembly:t[Vf],fileName:t[Iu],line:t[eg]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}()});var k5,R5=q(()=>{k5=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return e}()});var ba,N5=q(()=>{Wi();pr();R5();Vi();ba=function(){function e(t,n,r,o,i,s,a,c,l){this.aiDataContract={ver:1,metrics:1,properties:0};var u=this;u.ver=2;var d=new k5;d[Du]=o>0?o:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(i)||i===null?void 0:i,d[Un]=bt(t,n)||Zn,d.value=r,d.stdDev=isNaN(a)||a===null?void 0:a,u.metrics=[d],u[Kr]=Xr(t,c),u[Jr]=Zr(t,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}()});function L5(e,t){return t===void 0&&(t=!1),e==null?t:e.toString()[ya]()==="true"}function sg(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=ry+e%1e3,n=ry+Math.floor(e/1e3)%60,r=ry+Math.floor(e/(1e3*60))%60,o=ry+Math.floor(e/(1e3*60*60))%24,i=Math.floor(e/(1e3*60*60*24));return t=t[Me]===1?"00"+t:t[Me]===2?"0"+t:t,n=n[Me]<2?"0"+n:n,r=r[Me]<2?"0"+r:r,o=o[Me]<2?"0"+o:o,(i>0?i+".":ry)+o+":"+r+":"+n+"."+t}function A5(e,t){var n=null;return ne(e,function(r){if(r.identifier===t)return n=r,-1}),n}function F5(e,t,n,r,o){return!o&&Fe(e)&&(e==="Script error."||e==="Script error")}var ry,d0=q(()=>{yt();pr();ry=""});var Nu,O5=q(()=>{Wi();d0();pr();Vi();Nu=function(){function e(t,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=t0(t,a),c.url=Pu(t,r),c[Un]=bt(t,n)||Zn,isNaN(o)||(c[Gf]=sg(o)),c[Kr]=Xr(t,i),c[Jr]=Zr(t,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}()});var Lu,U5=q(()=>{d0();fO();pr();Vi();Lu=function(){function e(t,n,r,o,i,s,a,c,l,u,d,p){l===void 0&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=n,f[Gf]=sg(i),f.success=s,f.resultCode=a+"",f.type=bt(t,l);var m=s5(t,r,c,o);f.data=Pu(t,o)||m.data,f.target=bt(t,m.target),u&&(f.target="".concat(f.target," | ").concat(u)),f[Un]=bt(t,m[Un]),f[Kr]=Xr(t,d),f[Jr]=Zr(t,p)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()});var Au,M5=q(()=>{Wi();pr();Vi();Au=function(){function e(t,n,r,o,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var s=this;s.ver=2,n=n||Zn,s[Ss]=tg(t,n),s[Kr]=Xr(t,o),s[Jr]=Zr(t,i),r&&(s[Yf]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}()});var Fu,$5=q(()=>{Wi();pr();Vi();Fu=function(){function e(t,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Pu(t,r),c[Un]=bt(t,n)||Zn,c[Kr]=Xr(t,i),c[Jr]=Zr(t,s),a&&(c.domProcessing=a.domProcessing,c[Gf]=a[Gf],c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c[iO]=a[iO],c.sentRequest=a.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()});var _a,j5=q(()=>{_a=function(){function e(t,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=n}return e}()});var f0,H5=q(()=>{yt();f0=lr({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})});var B5,q5=q(()=>{yt();pr();B5=function(){function e(){}return e.getConfig=function(t,n,r,o){o===void 0&&(o=!1);var i;return r&&t[Zw]&&t[Zw][r]&&!te(t[Zw][r][n])?i=t[Zw][r][n]:i=t[n],te(i)?o:i},e}()});function Uu(e){var t="ai."+e+".";return function(n){return t+n}}var oy,Qn,p0,ag,CO,Ou,Zf,iy,cg,bO=q(()=>{Fo();yt();oy=Uu("application"),Qn=Uu("device"),p0=Uu("location"),ag=Uu("operation"),CO=Uu("session"),Ou=Uu("user"),Zf=Uu("cloud"),iy=Uu("internal"),cg=function(e){Ao(t,e);function t(){return e.call(this)||this}return t}(CA({applicationVersion:oy("ver"),applicationBuild:oy("build"),applicationTypeId:oy("typeId"),applicationId:oy("applicationId"),applicationLayer:oy("layer"),deviceId:Qn("id"),deviceIp:Qn("ip"),deviceLanguage:Qn("language"),deviceLocale:Qn("locale"),deviceModel:Qn("model"),deviceFriendlyName:Qn("friendlyName"),deviceNetwork:Qn("network"),deviceNetworkName:Qn("networkName"),deviceOEMName:Qn("oemName"),deviceOS:Qn("os"),deviceOSVersion:Qn("osVersion"),deviceRoleInstance:Qn("roleInstance"),deviceRoleName:Qn("roleName"),deviceScreenResolution:Qn("screenResolution"),deviceType:Qn("type"),deviceMachineName:Qn("machineName"),deviceVMName:Qn("vmName"),deviceBrowser:Qn("browser"),deviceBrowserVersion:Qn("browserVersion"),locationIp:p0("ip"),locationCountry:p0("country"),locationProvince:p0("province"),locationCity:p0("city"),operationId:ag("id"),operationName:ag("name"),operationParentId:ag("parentId"),operationRootId:ag("rootId"),operationSyntheticSource:ag("syntheticSource"),operationCorrelationVector:ag("correlationVector"),sessionId:CO("id"),sessionIsFirst:CO("isFirst"),sessionIsNew:CO("isNew"),userAccountAcquisitionDate:Ou("accountAcquisitionDate"),userAccountId:Ou("accountId"),userAgent:Ou("userAgent"),userId:Ou("id"),userStoreRegion:Ou("storeRegion"),userAuthUserId:Ou("authUserId"),userAnonymousUserAcquisitionDate:Ou("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ou("authUserAcquisitionDate"),cloudName:Zf("name"),cloudRole:Zf("role"),cloudRoleVer:Zf("roleVer"),cloudRoleInstance:Zf("roleInstance"),cloudEnvironment:Zf("environment"),cloudLocation:Zf("location"),cloudDeploymentUnit:Zf("deploymentUnit"),internalNodeName:iy("nodeName"),internalSdkVersion:iy("sdkVersion"),internalAgentVersion:iy("agentVersion"),internalSnippet:iy("snippet"),internalSdkSrc:iy("sdkSrc")}))});function _O(e,t,n,r,o,i){var s;n=bt(r,n)||Zn,(te(e)||te(t)||te(n))&&tn("Input doesn't contain all required fields");var a="";e[WD]&&(a=e[WD],delete e[WD]);var c=(s={},s[Un]=n,s.time=pi(new Date),s.iKey=a,s.ext=i||{},s.tags=[],s.data={},s.baseType=t,s.baseData=e,s);return te(o)||fe(o,function(l,u){c.data[l]=u}),c}var W5,Y5=q(()=>{yt();Wi();Vi();pr();W5=function(){function e(){}return e.create=_O,e}()});var V5,Mn,z5=q(()=>{bO();V5={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Mn=new cg});function G5(e){var t=null;if(Ae(Event))t=new Event(e);else{var n=nn();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}var K5=q(()=>{yt()});var J5={};Gg(J5,{AnalyticsPluginIdentifier:()=>Rge,BreezeChannelIdentifier:()=>SO,ConfigurationManager:()=>B5,ConnectionStringParser:()=>w5,ContextTagKeys:()=>cg,CtxTagKeys:()=>Mn,DEFAULT_BREEZE_ENDPOINT:()=>_u,DEFAULT_BREEZE_PATH:()=>wa,Data:()=>_a,DisabledPropertyName:()=>Jh,DistributedTracingModes:()=>u5,Envelope:()=>l0,Event:()=>Ca,Exception:()=>Ru,Extensions:()=>V5,HttpMethod:()=>Xw,Metric:()=>ba,PageView:()=>Nu,PageViewPerformance:()=>Fu,ProcessLegacy:()=>Zh,PropertiesPluginIdentifier:()=>kge,RemoteDependencyData:()=>Lu,RequestHeaders:()=>Rc,SampleRate:()=>Xh,SeverityLevel:()=>f0,TelemetryItemCreator:()=>W5,ThrottleMgr:()=>v5,Trace:()=>Au,correlationIdCanIncludeCorrelationHeader:()=>o5,correlationIdGetCorrelationContext:()=>i5,correlationIdGetCorrelationContextValue:()=>dO,correlationIdGetPrefix:()=>r5,correlationIdSetPrefix:()=>n5,createDistributedTraceContextFromTrace:()=>l5,createDomEvent:()=>G5,createTelemetryItem:()=>_O,createTraceParent:()=>Iw,dataSanitizeException:()=>e0,dataSanitizeId:()=>t0,dataSanitizeInput:()=>n0,dataSanitizeKey:()=>sO,dataSanitizeKeyAndAddUniqueness:()=>QD,dataSanitizeMeasurements:()=>Zr,dataSanitizeMessage:()=>tg,dataSanitizeProperties:()=>Xr,dataSanitizeString:()=>bt,dataSanitizeUrl:()=>Pu,dateTimeUtilsDuration:()=>c5,dateTimeUtilsNow:()=>a5,dsPadNumber:()=>aO,findW3cTraceParent:()=>kw,formatTraceParent:()=>Tw,getExtensionByName:()=>A5,isBeaconApiSupported:()=>hi,isCrossOriginError:()=>F5,isInternalApplicationInsightsEndpoint:()=>ng,isSampledFlag:()=>Pw,isValidSpanId:()=>da,isValidTraceId:()=>ua,isValidTraceParent:()=>Rh,msToTimeSpan:()=>sg,parseConnectionString:()=>ny,parseTraceParent:()=>Rf,strNotSpecified:()=>Zn,stringToBoolOrDefault:()=>L5,urlGetAbsoluteUrl:()=>QK,urlGetCompleteUrl:()=>t5,urlGetPathName:()=>e5,urlParseFullHost:()=>ty,urlParseHost:()=>cO,urlParseUrl:()=>Kf,utlCanUseLocalStorage:()=>og,utlCanUseSessionStorage:()=>Jf,utlDisableStorage:()=>f5,utlEnableStorage:()=>p5,utlGetLocalStorage:()=>i0,utlGetSessionStorage:()=>a0,utlGetSessionStorageKeys:()=>h5,utlRemoveSessionStorage:()=>g5,utlRemoveStorage:()=>m5,utlSetLocalStorage:()=>s0,utlSetSessionStorage:()=>c0,utlSetStoragePrefix:()=>o0});var kge,SO,Rge,Ac=q(()=>{fO();x5();y5();tO();Wi();E5();C5();T5();N5();O5();U5();M5();$5();j5();H5();q5();bO();Vi();Y5();z5();pO();d0();yt();K5();gO();lO();kge="AppInsightsPropertiesPlugin",SO="AppInsightsChannelPlugin",Rge="ApplicationInsightsAnalytics"});var Mu,X5=q(()=>{Mu="duration"});var $n,m0,jn,Sa,Qf,Ge,$u,ju,zi,Hu,Fc,sy,ay,lg,Oc,Bu,h0,Uc,cy,Mc,ly,uy,ug,ep,dy,g0,$c,dg,v0,fg,Ir,pg,x0,DO,IO,w0,PO,TO,qu,kO,RO,NO,LO,y0,mg,Z5,Wu,E0,fy,py,Q5,hg,C0,AO,b0,e7,jc=q(()=>{$n="tags",m0="deviceType",jn="data",Sa="name",Qf="traceID",Ge="length",$u="stringify",ju="measurements",zi="dataType",Hu="envelopeType",Fc="toString",sy="onLine",ay="isOnline",lg="_get",Oc="enqueue",Bu="count",h0="eventsLimitInMem",Uc="push",cy="emitLineDelimitedJson",Mc="clear",ly="batchPayloads",uy="createNew",ug="markAsSent",ep="clearSent",dy="bufferOverride",g0="BUFFER_KEY",$c="SENT_BUFFER_KEY",dg="MAX_BUFFER_SIZE",v0="sendPOST",fg="triggerSend",Ir="diagLog",pg="_sender",x0="customHeaders",DO="maxBatchSizeInBytes",IO="onunloadDisableBeacon",w0="isBeaconApiDisabled",PO="alwaysUseXhrOverride",TO="enableSessionStorageBuffer",qu="_buffer",kO="onunloadDisableFetch",RO="instrumentationKey",NO="convertUndefined",LO="maxBatchInterval",y0="baseType",mg="sampleRate",Z5="_xhrReadyStateChange",Wu="_onError",E0="_onPartialSuccess",fy="_onSuccess",py="itemsAccepted",Q5="itemsReceived",hg="oriPayload",C0="setRequestHeader",AO="eventsSendRequest",b0="getSamplingScore",e7="getHashCodeScore"});function Hn(e,t,n){return ji(e,t,n,ps)}function Nge(e,t,n){var r=n[$n]=n[$n]||{},o=t.ext=t.ext||{},i=t[$n]=t[$n]||[],s=o.user;s&&(Hn(r,Mn.userAuthUserId,s.authId),Hn(r,Mn.userId,s.id||s.localId));var a=o.app;a&&Hn(r,Mn.sessionId,a.sesId);var c=o.device;c&&(Hn(r,Mn.deviceId,c.id||c.localId),Hn(r,Mn[m0],c.deviceClass),Hn(r,Mn.deviceIp,c.ip),Hn(r,Mn.deviceModel,c.model),Hn(r,Mn[m0],c[m0]));var l=t.ext.web;if(l){Hn(r,Mn.deviceLanguage,l.browserLang),Hn(r,Mn.deviceBrowserVersion,l.browserVer),Hn(r,Mn.deviceBrowser,l.browser);var u=n[jn]=n[jn]||{},d=u[Jt]=u[Jt]||{},p=d[mr]=d[mr]||{};Hn(p,"domain",l.domain),Hn(p,"isManual",l.isManual?t7:null),Hn(p,"screenRes",l.screenRes),Hn(p,"userConsent",l.userConsent?t7:null)}var f=o.os;f&&Hn(r,Mn.deviceOS,f[Sa]);var m=o.trace;m&&(Hn(r,Mn.operationParentId,m.parentID),Hn(r,Mn.operationName,bt(e,m[Sa])),Hn(r,Mn.operationId,m[Qf]));for(var h={},v=i[Ge]-1;v>=0;v--){var g=i[v];fe(g,function(x,w){h[x]=w}),i.splice(v,1)}fe(i,function(x,w){h[x]=w});var y=Mi(Mi({},r),h);y[Mn.internalSdkVersion]||(y[Mn.internalSdkVersion]=bt(e,"javascript:".concat(Lge.Version),64)),n[$n]=Hi(y)}function Yu(e,t,n){te(e)||fe(e,function(r,o){cr(o)?n[r]=o:Fe(o)?t[r]=o:aa()&&(t[r]=Sr()[$u](o))})}function tp(e,t){te(e)||fe(e,function(n,r){e[n]=r||t})}function np(e,t,n,r){var o=new l0(e,r,t);Hn(o,"sampleRate",n[Xh]),(n[Jt]||{}).startTime&&(o.time=pi(n[Jt].startTime)),o.iKey=n.iKey;var i=n.iKey.replace(/-/g,"");return o[Sa]=o[Sa].replace("{0}",i),Nge(e,n,o),n[$n]=n[$n]||[],Hi(o)}function rp(e,t){te(t[Jt])&&de(e,1,46,"telemetryItem.baseData cannot be null.")}function n7(e,t,n){rp(e,t);var r=t[Jt][ju]||{},o=t[Jt][mr]||{};Yu(t[jn],o,r),te(n)||tp(o,n);var i=t[Jt];if(te(i))return gi(e,"Invalid input for dependency data"),null;var s=i[mr]&&i[mr][Xw]?i[mr][Xw]:"GET",a=new Lu(e,i.id,i.target,i[Sa],i[Mu],i.success,i.responseCode,s,i.type,i.correlationContext,o,r),c=new _a(Lu[zi],a);return np(e,Lu[Hu],t,c)}function OO(e,t,n){rp(e,t);var r={},o={};t[FO]!==Ca[zi]&&(r.baseTypeSource=t[FO]),t[FO]===Ca[zi]?(r=t[Jt][mr]||{},o=t[Jt][ju]||{}):t[Jt]&&Yu(t[Jt],r,o),Yu(t[jn],r,o),te(n)||tp(r,n);var i=t[Jt][Sa],s=new Ca(e,i,r,o),a=new _a(Ca[zi],s);return np(e,Ca[Hu],t,a)}function r7(e,t,n){rp(e,t);var r=t[Jt][ju]||{},o=t[Jt][mr]||{};Yu(t[jn],o,r),te(n)||tp(o,n);var i=t[Jt],s=Ru.CreateFromInterface(e,i,o,r),a=new _a(Ru[zi],s);return np(e,Ru[Hu],t,a)}function o7(e,t,n){rp(e,t);var r=t[Jt],o=r[mr]||{},i=r[ju]||{};Yu(t[jn],o,i),te(n)||tp(o,n);var s=new ba(e,r[Sa],r.average,r.sampleCount,r.min,r.max,r.stdDev,o,i),a=new _a(ba[zi],s);return np(e,ba[Hu],t,a)}function i7(e,t,n){rp(e,t);var r,o=t[Jt];!te(o)&&!te(o[mr])&&!te(o[mr][Mu])?(r=o[mr][Mu],delete o[mr][Mu]):!te(t[jn])&&!te(t[jn][Mu])&&(r=t[jn][Mu],delete t[jn][Mu]);var i=t[Jt],s;((t.ext||{}).trace||{})[Qf]&&(s=t.ext.trace[Qf]);var a=i.id||s,c=i[Sa],l=i.uri,u=i[mr]||{},d=i[ju]||{};if(te(i.refUri)||(u.refUri=i.refUri),te(i.pageType)||(u.pageType=i.pageType),te(i.isLoggedIn)||(u.isLoggedIn=i.isLoggedIn[Fc]()),!te(i[mr])){var p=i[mr];fe(p,function(h,v){u[h]=v})}Yu(t[jn],u,d),te(n)||tp(u,n);var f=new Nu(e,c,l,r,u,d,a),m=new _a(Nu[zi],f);return np(e,Nu[Hu],t,m)}function s7(e,t,n){rp(e,t);var r=t[Jt],o=r[Sa],i=r.uri||r.url,s=r[mr]||{},a=r[ju]||{};Yu(t[jn],s,a),te(n)||tp(s,n);var c=new Fu(e,o,i,void 0,s,a,r),l=new _a(Fu[zi],c);return np(e,Fu[Hu],t,l)}function a7(e,t,n){rp(e,t);var r=t[Jt].message,o=t[Jt].severityLevel,i=t[Jt][mr]||{},s=t[Jt][ju]||{};Yu(t[jn],i,s),te(n)||tp(i,n);var a=new Au(e,r,o,i,s),c=new _a(Au[zi],a);return np(e,Au[Hu],t,c)}var FO,Jt,mr,t7,Lge,c7=q(()=>{Fo();Ac();yt();X5();jc();FO="baseType",Jt="baseData",mr="properties",t7="true";Lge={Version:"3.0.5"}});function l7(e,t){Pc(e,null,null,t)}function u7(e){var t,n=nn(),r=An(),o=!1,i=!0,s=vi(Dr("OfflineListener"),e);try{if(c(fn())&&(o=!0),n){var a=n.body||n;a.ononline&&c(a)&&(o=!0)}o&&r&&!te(r[sy])&&(i=r[sy])}catch{o=!1}function c(f){var m=!1;return f&&(m=fa(f,"online",l,s),m&&fa(f,"offline",u,s)),m}function l(){i=!0}function u(){i=!1}function d(){var f=!0;return o?f=i:r&&!te(r[sy])&&(f=r[sy]),f}function p(){var f=fn();if(f&&o){if(l7(f,s),n){var m=n.body||n;Oe(m.ononline)||l7(m,s)}o=!1}}return t={},t[ay]=d,t.isListening=function(){return o},t.unload=p,t}var d7=q(()=>{yt();jc()});var f7,_0,UO,p7=q(()=>{Fo();_r();Ac();yt();jc();f7=function(){function e(t,n){var r=[],o=!1;this[lg]=function(){return r},this._set=function(i){return r=i,r},it(e,this,function(i){i[Oc]=function(s){if(i[Bu]()>=n[h0]){o||(de(t,2,105,"Maximum in-memory buffer size reached: "+i[Bu](),!0),o=!0);return}r[Uc](s)},i[Bu]=function(){return r[Ge]},i.size=function(){for(var s=r[Ge],a=0;a<r[Ge];a++)s+=r[a][Ge];return n[cy]||(s+=2),s},i[Mc]=function(){r=[],o=!1},i.getItems=function(){return r.slice(0)},i[ly]=function(s){if(s&&s[Ge]>0){var a=n[cy]?s.join(`
`):"["+s.join(",")+"]";return a}return null},i[uy]=function(s,a,c){var l=r.slice(0);s=s||t,a=a||{};var u=c?new UO(s,a):new _0(s,a);return ne(l,function(d){u[Oc](d)}),u}})}return e.__ieDyn=1,e}(),_0=function(e){Ao(t,e);function t(n,r){var o=e.call(this,n,r)||this;return it(t,o,function(i,s){i[ug]=function(a){s[Mc]()},i[ep]=function(a){}}),o}return t.__ieDyn=1,t}(f7),UO=function(e){Ao(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=!1,s=r==null?void 0:r.namePrefix,a=r[dy]||{getItem:a0,setItem:c0},c=a.getItem,l=a.setItem;return it(t,o,function(u,d){var p=v(t[g0]),f=v(t[$c]),m=u._set(p.concat(f));m[Ge]>t[dg]&&(m[Ge]=t[dg]),g(t[$c],[]),g(t[g0],m),u[Oc]=function(y){if(u[Bu]()>=t[dg]){i||(de(n,2,67,"Maximum buffer size reached: "+u[Bu](),!0),i=!0);return}d[Oc](y),g(t.BUFFER_KEY,u[lg]())},u[Mc]=function(){d[Mc](),g(t.BUFFER_KEY,u[lg]()),g(t[$c],[]),i=!1},u[ug]=function(y){g(t[g0],u._set(h(y,u[lg]())));var x=v(t[$c]);x instanceof Array&&y instanceof Array&&(x=x.concat(y),x[Ge]>t[dg]&&(de(n,1,67,"Sent buffer reached its maximum size: "+x[Ge],!0),x[Ge]=t[dg]),g(t[$c],x))},u[ep]=function(y){var x=v(t[$c]);x=h(y,x),g(t[$c],x)},u[uy]=function(y,x,w){w=!!w;var E=u[lg]().slice(0),I=v(t[$c]).slice(0);y=y||n,x=x||{},u[Mc]();var D=w?new t(y,x):new _0(y,x);return ne(E,function(k){D[Oc](k)}),w&&D[ug](I),D};function h(y,x){var w=[];return ne(x,function(E){!Ae(E)&&lt(y,E)===-1&&w[Uc](E)}),w}function v(y){var x=y;try{x=s?s+"_"+x:x;var w=c(n,x);if(w){var E=Sr().parse(w);if(Fe(E)&&(E=Sr().parse(E)),E&&ge(E))return E}}catch(I){de(n,1,42," storage key: "+x+", "+$t(I),{exception:pe(I)})}return[]}function g(y,x){var w=y;try{w=s?s+"_"+w:w;var E=JSON[$u](x);l(n,w,E)}catch(I){l(n,w,JSON[$u]([])),de(n,2,41," storage key: "+w+", "+$t(I)+". Buffer cleared",{exception:pe(I)})}}}),o}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(f7)});var m7,h7=q(()=>{_r();yt();jc();m7=function(){function e(t){it(e,this,function(n){n.serialize=function(s){var a=r(s,"root");try{return Sr()[$u](a)}catch(c){de(t,1,48,c&&Ae(c[Fc])?c[Fc]():"Error serializing object",null,!0)}};function r(s,a){var c="__aiCircularRefCheck",l={};if(!s)return de(t,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),l;if(s[c])return de(t,2,50,"Circular reference detected while serializing object",{name:a},!0),l;if(!s.aiDataContract){if(a==="measurements")l=i(s,"number",a);else if(a==="properties")l=i(s,"string",a);else if(a==="tags")l=i(s,"string",a);else if(ge(s))l=o(s,a);else{de(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{Sr()[$u](s),l=s}catch(u){de(t,1,48,u&&Ae(u[Fc])?u[Fc]():"Error serializing object",null,!0)}}return l}return s[c]=!0,fe(s.aiDataContract,function(u,d){var p=Ae(d)?d()&1:d&1,f=Ae(d)?d()&4:d&4,m=d&2,h=s[u]!==void 0,v=kt(s[u])&&s[u]!==null;if(p&&!h&&!m)de(t,1,24,"Missing required field specification. The field is required but not present on source",{field:u,name:a});else if(!f){var g=void 0;v?m?g=o(s[u],u):g=r(s[u],u):g=s[u],g!==void 0&&(l[u]=g)}}),delete s[c],l}function o(s,a){var c;if(s)if(!ge(s))de(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:a},!0);else{c=[];for(var l=0;l<s[Ge];l++){var u=s[l],d=r(u,a+"["+l+"]");c[Uc](d)}}return c}function i(s,a,c){var l;return s&&(l={},fe(s,function(u,d){if(a==="string")d===void 0?l[u]="undefined":d===null?l[u]="null":d[Fc]?l[u]=d[Fc]():l[u]="invalid field: toString() is not defined.";else if(a==="number")if(d===void 0)l[u]="undefined";else if(d===null)l[u]="null";else{var p=parseFloat(d);isNaN(p)?l[u]="NaN":l[u]=p}else l[u]="invalid field: "+c+" is of unknown type.",de(t,1,l[u],null,!0)})),l}})}return e.__ieDyn=1,e}()});var Age,g7,v7=q(()=>{jc();Age=8,g7=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[Ge]<Age;)t=t.concat(t);for(var n=5381,r=0;r<t[Ge];++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}()});var x7,w7=q(()=>{Ac();jc();v7();x7=function(){function e(){var t=this,n=new g7,r=new cg;t[b0]=function(o){var i=0;return o[$n]&&o[$n][r.userId]?i=n.getHashCodeScore(o[$n][r.userId]):o.ext&&o.ext.user&&o.ext.user.id?i=n[e7](o.ext.user.id):o[$n]&&o[$n][r.operationId]?i=n.getHashCodeScore(o[$n][r.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[Qf]?i=n.getHashCodeScore(o.ext.telemetryTrace[Qf]):i=Math.random()*100,i}}return e}()});var y7,E7=q(()=>{Ac();yt();jc();w7();y7=function(){function e(t,n){this.INT_MAX_VALUE=2147483647;var r=n||Es(null);(t>100||t<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[mg]=t,this.samplingScoreGenerator=new x7}return e.prototype.isSampledIn=function(t){var n=this[mg],r=!1;return n==null||n>=100||t.baseType===ba[zi]?!0:(r=this.samplingScoreGenerator[b0](t)<n,r)},e}()});function S0(e){try{return e.responseText}catch{}return null}function Oge(e){return e&&e[v0]}function Uge(e){return!isNaN(e)&&e>0&&e<=100}var Cn,Hc,Vu,Fge,C7,Mge,my,b7=q(()=>{Fo();_r();Ac();yt();wh();Re();c7();d7();p7();h7();E7();jc();Vu=void 0,Fge=65e3;C7=lo((Cn={endpointUrl:Ih(ps,_u+wa)},Cn[cy]=ys(),Cn[LO]=15e3,Cn[DO]=102400,Cn.disableTelemetry=ys(),Cn[TO]=ys(!0),Cn.isRetryDisabled=ys(),Cn[w0]=ys(!0),Cn.disableXhr=ys(),Cn[kO]=ys(),Cn[IO]=ys(),Cn[RO]=Vu,Cn.namePrefix=Vu,Cn.samplingPercentage=Ih(Uge,100),Cn[x0]=Vu,Cn[NO]=Vu,Cn[h0]=1e4,Cn[dy]=!1,Cn.httpXHROverride={isVal:Oge,v:Vu},Cn[PO]=ys(),Cn));Mge=(Hc={},Hc[Ca.dataType]=OO,Hc[Au.dataType]=a7,Hc[Nu.dataType]=i7,Hc[Fu.dataType]=s7,Hc[Ru.dataType]=r7,Hc[ba.dataType]=o7,Hc[Lu.dataType]=n7,Hc),my=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=SO;var r,o,i,s,a,c,l,u,d=0,p,f,m,h,v,g,y,x,w,E,I,D,k,N,R,C,_,b,S,A,L;return it(t,n,function(T,$){Gc(),T.pause=function(){Lt(),s=!0},T.resume=function(){s&&(s=!1,o=null,Ze(),dt())},T.flush=function(P,U,B){if(P===void 0&&(P=!0),!s){Lt();try{return T[fg](P,null,B||1)}catch(z){de(T[Ir](),1,22,"flush failed, telemetry will not be collected: "+$t(z),{exception:pe(z)})}}},T.onunloadFlush=function(){if(!s)if(y||b)try{return T[fg](!0,at,2)}catch(P){de(T[Ir](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$t(P),{exception:pe(P)})}else T.flush(!1)},T.addHeader=function(P,U){u[P]=U},T.initialize=function(P,U,B,z){T.isInitialized()&&de(T[Ir](),1,28,"Sender is already initialized"),$.initialize(P,U,B,z);var X=T.identifier;c=new m7(U.logger),r=0,o=null,i=0,T[pg]=null,l=0;var re=T[Ir]();m=vi(Dr("Sender"),U.evtNamespace&&U.evtNamespace()),f=u7(m),T._addHook(On(P,function(Q){var M=Q.cfg;M.storagePrefix&&o0(M.storagePrefix);var V=ho(null,M,U),j=V.getExtCfg(X,C7);wt(T,"_senderConfig",{g:function(){return j}}),v!==j.endpointUrl&&(h=v=j.endpointUrl),x&&x!==j[x0]&&ne(x,function(Dt){delete u[Dt.header]}),g=j[DO],y=(j[IO]===!1||j[w0]===!1)&&hi(),b=j[PO],S=!!j.disableXhr;var ie=j[dy],ce=!!j[TO]&&(!!ie||Jf()),ye=j.namePrefix,He=ce!==N||ce&&C!==ye||ce&&R!==ie;if(T[qu]){if(He)try{T._buffer=T._buffer[uy](re,j,ce)}catch(Dt){de(T[Ir](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+$t(Dt),{exception:pe(Dt)})}Ze()}else T[qu]=ce?new UO(re,j):new _0(re,j);C=ye,N=ce,R=ie,A=!j[kO]&&wc(!0),T._sample=new y7(j.samplingPercentage,re),E=j[RO],xo(E,M)||de(re,1,100,"Invalid Instrumentation key "+E),x=j[x0],!ng(h)&&x&&x[Ge]>0?ne(x,function(Dt){n.addHeader(Dt.header,Dt.value)}):x=null,_=j.enableSendPromise;var ot=j.httpXHROverride,et=null,Rr=null;et=Y([1,2],!1);var Ct={sendPOST:he};L=function(Dt,er){return ue(Ct,Dt,er)},!j[w0]&&hi()&&(et=Y([3],!1)),et=b?ot:et||ot||Ct,T[pg]=function(Dt,er){return ue(et,Dt,er)},A&&(p=Ee),Rr=b?ot:Y([3,1],!0)||ot,(b||!p)&&Rr&&(p=function(Dt,er){return ue(Rr,Dt,er)}),p||(p=L),w=j.disableTelemetry,I=j[NO]||Vu,D=j.isRetryDisabled,k=j[LO]}))},T.processTelemetry=function(P,U){U=T._getTelCtx(U);var B=U[Ir]();try{if(w)return;if(!P){de(B,1,7,"Cannot send empty telemetry");return}if(P.baseData&&!P[y0]){de(B,1,70,"Cannot send telemetry without baseData and baseType");return}if(P[y0]||(P[y0]="EventData"),!T[pg]){de(B,1,28,"Sender was not initialized");return}if(H(P))P[Xh]=T._sample[mg];else{de(B,2,33,"Telemetry item was sampled out and not sent",{SampleRate:T._sample[mg]});return}var z=P.iKey||E,X=t.constructEnvelope(P,z,B,I);if(!X){de(B,1,47,"Unable to create an AppInsights envelope");return}var re=!1;if(P[$n]&&P[$n][Zh]&&(ne(P[$n][Zh],function(V){try{V&&V(X)===!1&&(re=!0,gi(B,"Telemetry processor check returns false"))}catch(j){de(B,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+$t(j),{exception:pe(j)},!0)}}),delete P[$n][Zh]),re)return;var Q=c.serialize(X),M=T[qu];Ze(Q),M[Oc](Q),dt()}catch(V){de(B,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$t(V),{exception:pe(V)})}T.processNext(P,U)},T[Z5]=function(P,U,B){P.readyState===4&&Je(P.status,U,P.responseURL,B,Ki(P),S0(P)||P.response)},T[fg]=function(P,U,B){P===void 0&&(P=!0);var z;if(!s)try{var X=T[qu];if(w)X[Mc]();else{if(X[Bu]()>0){var re=X.getItems();fd(B||0,P),U?z=U.call(T,re,P):z=T[pg](re,P)}i=+new Date}Lt()}catch(M){var Q=uw();(!Q||Q>9)&&de(T[Ir](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+$t(M),{exception:pe(M)})}return z},T._doTeardown=function(P,U){T.onunloadFlush(),Ec(f,!1),Gc()},T[Wu]=function(P,U,B){de(T[Ir](),2,26,"Failed to send telemetry.",{message:U}),T._buffer&&T._buffer[ep](P)},T[E0]=function(P,U){for(var B=[],z=[],X=U.errors.reverse(),re=0,Q=X;re<Q.length;re++){var M=Q[re],V=P.splice(M.index,1)[0];kr(M.statusCode)?z[Uc](V):B[Uc](V)}P[Ge]>0&&T[fy](P,U[py]),B[Ge]>0&&T[Wu](B,Ki(null,["partial success",U[py],"of",U.itemsReceived].join(" "))),z[Ge]>0&&(le(z),de(T[Ir](),2,40,"Partial success. Delivered: "+P[Ge]+", Failed: "+B[Ge]+". Will retry to send "+z[Ge]+" our of "+U[Q5]+" items"))},T[fy]=function(P,U){T._buffer&&T._buffer[ep](P)},T._xdrOnLoad=function(P,U){var B=S0(P);if(P&&(B+""=="200"||B===""))r=0,T[fy](U,0);else{var z=Qe(B);z&&z.itemsReceived&&z.itemsReceived>z[py]&&!D?T[E0](U,z):T[Wu](U,yp(P))}};function H(P){return T._sample.isSampledIn(P)}function Y(P,U){for(var B,z=null,X=null,re=0;X==null&&re<P[Ge];)z=P[re],!S&&z===1?Df()?X=dd:fu()&&(X=he):z===2&&wc(U)?X=Pe:hi()&&z===3&&(X=ae),re++;return X?(B={},B[v0]=X,B):null}function J(P,U,B,z){U===200&&P&&T._onSuccess(P,P[Ge]),z&&T[Wu](P,z)}function ue(P,U,B){var z=function(Q,M,V){return J(U,Q,M,V)},X=Ne(U),re=P&&P[v0];return re&&X?(T._buffer[ug](U),re(X,z,!B)):null}function Ne(P){var U;if(ge(P)&&P[Ge]>0){var B=T._buffer[ly](P),z=(U={},U[jn]=B,U.urlString=h,U.headers=u,U.disableXhrSync=S,U.disableFetchKeepAlive=!A,U[hg]=P,U);return z}return null}function Pe(P,U,B){return Ce(P,U,!1)}function Ze(P){var U=P?P[Ge]:0;return T[qu].size()+U>g?((!f||f[ay]())&&T[fg](!0,null,10),!0):!1}function Je(P,U,B,z,X,re){var Q=null;if(T._appId||(Q=Qe(re),Q&&Q.appId&&(T._appId=Q.appId)),(P<200||P>=300)&&P!==0){if((P===301||P===307||P===308)&&!Et(B)){T[Wu](U,X);return}!D&&kr(P)?(le(U),de(T[Ir](),2,40,". Response code "+P+". Will retry to send "+U[Ge]+" items.")):T[Wu](U,X)}else if(f&&!f[ay]()){if(!D){var M=10;le(U,M),de(T[Ir](),2,40,". Offline - Response Code: ".concat(P,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(U.length," items."))}}else Et(B),P===206?(Q||(Q=Qe(re)),Q&&!D?T[E0](U,Q):T[Wu](U,X)):(r=0,T[fy](U,z))}function Et(P){return l>=10?!1:!te(P)&&P!==""&&P!==h?(h=P,++l,!0):!1}function Xe(P,U,B,z){try{P(U,B,z)}catch{}}function at(P,U){var B=function(X,re,Q){return J(P,X,re,Q)};if(p)p(P,!1);else{var z=Ne(P);ae(z,B,!U)}}function K(P,U){var B=An(),z=h,X=new Blob([P],{type:"text/plain;charset=UTF-8"}),re=B.sendBeacon(z,X);return re&&U(200,{},P),re}function ae(P,U,B){var z=P,X=z&&z[jn];if(Fe(X)&&X[Ge]>0&&!K(X,U)){var re=[],Q=z[hg];if(Q[Ge]>0)for(var M=0;M<X[Ge];M++){var V=P[M],j=T._buffer[ly](V);K(j,U)||re[Uc](V)}re[Ge]>0&&(L&&L(re,!0),de(T[Ir](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function he(P,U,B){var z=P,X,re,Q,M=new XMLHttpRequest,V=h;try{M[Jh]=!0}catch{}return M.open("POST",V,!B),M[C0]("Content-type","application/json"),ng(V)&&M[C0](Rc[6],Rc[7]),ne(Kn(u),function(j){M[C0](j,u[j])}),M.onreadystatechange=function(){var j=z[hg];T._xhrReadyStateChange(M,j,j[Ge]),M.readyState===4&&re&&re(!0)},M.onerror=function(j){Xe(U,400,{},Ki(M)),Q&&Q(j)},!B&&_&&(X=mo(function(j,ie){re=j,Q=ie})),M.send(P[jn]),X}function Ee(P,U){var B=function(Q,M,V){return J(P,Q,M,V)};if(ge(P)){for(var z=P[Ge],X=0;X<P[Ge];X++)z+=P[X][Ge];var re=Ne(P);d+z<=Fge?Ce(re,B,!0):hi()?ae(re,B,!U):(L&&L(P,!0),de(T[Ir](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Ce(P,U,B){var z,X=h,re=P,Q=re[jn],M=new Blob([Q],{type:"application/json"}),V,j,ie,ce=new Headers,ye=Q[Ge],He=!1,ot=!1;ng(X)&&ce.append(Rc[6],Rc[7]),ne(Kn(u),function(Ct){ce.append(Ct,u[Ct])});var et=(z={method:"POST",headers:ce,body:M},z[Jh]=!0,z);B&&(et.keepalive=!0,He=!0,d+=ye);var Rr=new Request(X,et);try{Rr[Jh]=!0}catch{}!B&&_&&(V=mo(function(Ct,Dt){j=Ct,ie=Dt}));try{au(fetch(Rr),function(Ct){if(B&&(d-=ye,ye=0),!ot)if(ot=!0,Ct.rejected)Xe(U,400,{},Ct.reason&&Ct.reason.message),ie&&ie(Ct.reason);else{var Dt=Ct.value;Dt.ok?au(Dt.text(),function(er){var Cp=re[hg];Je(Dt.status,Cp,Dt.url,Cp[Ge],Dt.statusText,er.value||""),j&&j(!0)}):(Xe(U,400,{},Dt.statusText),j&&j(!1))}})}catch(Ct){ot||(Xe(U,400,{},pe(Ct)),ie&&ie(Ct))}return He&&!ot&&(ot=!0,Xe(U,200,{}),j&&j(!0)),V}function Qe(P){try{if(P&&P!==""){var U=Sr().parse(P);if(U&&U.itemsReceived&&U.itemsReceived>=U[py]&&U.itemsReceived-U.itemsAccepted===U.errors[Ge])return U}}catch(B){de(T[Ir](),1,43,"Cannot parse the response. "+$t(B),{response:P})}return null}function le(P,U){if(U===void 0&&(U=1),!(!P||P[Ge]===0)){var B=T[qu];B[ep](P),r++;for(var z=0,X=P;z<X.length;z++){var re=X[z];B[Oc](re)}Le(U),dt()}}function Le(P){var U=10,B;if(r<=1)B=U;else{var z=(Math.pow(2,r)-1)/2,X=Math.floor(Math.random()*z*U)+1;X=P*X,B=Math.max(Math.min(X,3600),U)}var re=rn()+B*1e3;o=re}function dt(){if(!a&&!s){var P=o?Math.max(0,o-rn()):0,U=Math.max(k,P);a=Lo(function(){a=null,T[fg](!0,null,1)},U)}}function Lt(){a&&a.cancel(),a=null,o=null}function kr(P){return P===401||P===403||P===408||P===429||P===500||P===502||P===503||P===504}function Ki(P,U){return P?"XMLHttpRequest,Status:"+P.status+",Response:"+S0(P)||P.response||"":U}function dd(P,U,B){var z=P,X=fn(),re=new XDomainRequest,Q=z[jn];re.onload=function(){var j=z[hg];T._xdrOnLoad(re,j)},re.onerror=function(){Xe(U,400,{},yp(re))};var M=X&&X.location&&X.location.protocol||"";if(h.lastIndexOf(M,0)!==0){de(T[Ir](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),T._buffer[Mc]();return}var V=h.replace(/^(https?:)/,"");re.open("POST",V),re.send(Q)}function yp(P,U){return P?"XDomainRequest,Response:"+S0(P)||"":U}function Ep(){var P="getNotifyMgr";return T.core[P]?T.core[P]():T.core._notificationManager}function fd(P,U){var B=Ep();if(B&&B[AO])try{B[AO](P,U)}catch(z){de(T[Ir](),1,74,"send request notification failed: "+$t(z),{exception:pe(z)})}}function xo(P,U){var B=U.disableInstrumentationKeyValidation,z=te(B)?!1:B;if(z)return!0;var X="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",re=new RegExp(X);return re.test(P)}function Gc(){T[pg]=null,T[qu]=null,T._appId=null,T._sample=null,u={},f=null,r=0,o=null,i=null,s=!1,a=null,c=null,l=0,d=0,p=null,m=null,h=null,v=null,g=0,y=!1,x=null,w=!1,E=null,I=Vu,D=!1,N=null,C=Vu,S=!1,A=!1,L=null,wt(T,"_senderConfig",{g:function(){return DS({},C7)}})}}),n}return t.constructEnvelope=function(n,r,o,i){var s;r!==n.iKey&&!te(r)?s=Mi(Mi({},n),{iKey:r}):s=n;var a=Mge[s.baseType]||OO;return a(o,s,i)},t}(Dc)});var MO=q(()=>{b7()});var D0,I0,_7=q(()=>{D0="instrumentationKey",I0="connectionString"});var S7={};Gg(S7,{AppInsightsCore:()=>Ic,ApplicationInsights:()=>Hge,Sender:()=>my,SeverityLevel:()=>f0,arrForEach:()=>ne,isNullOrUndefined:()=>te,proxyFunctions:()=>mi,throwError:()=>tn});function jge(e){return e&&e>0}var $ge,Hge,D7=q(()=>{_r();MO();Ac();yt();Re();_7();yt();Ac();MO();$ge={diagnosticLogInterval:Ih(jge,1e4)};Hge=function(){function e(t){var n=new Ic,r;(te(t)||te(t[D0])&&te(t[I0]))&&tn("Invalid input configuration"),it(e,this,function(i){wt(i,"config",{g:function(){return r}}),s(),i.initialize=s,i.track=o,mi(i,n,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function s(){var a=Gt(t||{},$ge);r=a.cfg,n.addUnloadHook(On(a,function(){if(r[I0]){var c=ny(r[I0]),l=c.ingestionendpoint;r.endpointUrl=l?l+wa:r.endpointUrl,r[D0]=c.instrumentationkey||r[D0]}})),n.initialize(r,[new my])}});function o(i){i&&(i.baseData=i.baseData||{},i.baseType=i.baseType||"EventData"),n.track(i)}}return e.__ieDyn=1,e}()});var I7=O(Da=>{"use strict";var Bge=Da&&Da.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),qge=Da&&Da.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wge=Da&&Da.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Bge(t,e,n);return qge(t,e),t};Object.defineProperty(Da,"__esModule",{value:!0});Da.appInsightsClientFactory=void 0;var Yge=(Ac(),Kg(J5)),Vge=eL(),zge=async(e,t,n)=>{let r;try{let i=await Promise.resolve().then(()=>Wge((D7(),Kg(S7))));if(r=new i.ApplicationInsights({instrumentationKey:e,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t){r.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:t};r.config.extensionConfig[Yge.BreezeChannelIdentifier]=s}}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{let a={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};n!=null&&n.length&&Vge.TelemetryUtil.applyReplacements(a,n),r==null||r.track({name:i,data:a,baseType:"EventData",baseData:{name:i,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})},flush:async()=>{r==null||r.flush(!1)},dispose:async()=>new Promise(s=>{r==null||r.unload(!0,()=>{s(),r=void 0},1e3)})}};Da.appInsightsClientFactory=zge});var R7=O(Bc=>{"use strict";var Gge=Bc&&Bc.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Kge=Bc&&Bc.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HO=Bc&&Bc.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Gge(t,e,n);return Kge(t,e),t};Object.defineProperty(Bc,"__esModule",{value:!0});var $O=HO(require("os")),P7=HO(require("vscode")),Jge=HO(require("https")),Xge=V3(),Zge=z3(),T7=eL(),Qge=JK(),eve=I7();function k7(){return{sendPOST:(t,n)=>{let r={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let o=Jge.request(t.urlString,r,i=>{i.on("data",function(s){n(i.statusCode??200,i.headers,s.toString())}),i.on("error",function(){n(0,{})})});o.write(t.data,i=>{i&&n(0,{})}),o.end()}catch{n(0,{})}}}}var jO=class extends Xge.BaseTelemetryReporter{constructor(t,n){let r=s=>(0,eve.appInsightsClientFactory)(s,k7(),n);T7.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(r=s=>(0,Qge.oneDataSystemClientFactory)(s,P7,k7()));let o={release:$O.release(),platform:$O.platform(),architecture:$O.arch()},i=new Zge.BaseTelemetrySender(t,r);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,P7,{additionalCommonProperties:T7.TelemetryUtil.getAdditionalCommonProperties(o)})}};Bc.default=jO});var qO=O(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.TargetPopulation=zu.Filters=zu.VSCodeFilterProvider=void 0;var P0=require("vscode"),BO=class e{constructor(t,n,r){this.extensionName=t,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(t){let n=/\-[a-zA-Z0-9]+$/;return t.split(n)[0]}getFilterValue(t){switch(t){case Ia.ApplicationVersion:return e.trimVersionSuffix(P0.version);case Ia.Build:return P0.env.appName;case Ia.ClientId:return P0.env.machineId;case Ia.ExtensionName:return this.extensionName;case Ia.ExtensionVersion:return e.trimVersionSuffix(this.extensionVersion);case Ia.Language:return P0.env.language;case Ia.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,n=Object.values(Ia);for(let r of n)t.set(r,this.getFilterValue(r));return t}};zu.VSCodeFilterProvider=BO;var Ia;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(Ia||(zu.Filters=Ia={}));var N7;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(N7||(zu.TargetPopulation=N7={}))});var L7=O(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.BaseFeatureProvider=void 0;var WO=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};T0.BaseFeatureProvider=WO});var A7=O(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});k0.FilteredFeatureProvider=void 0;var tve=L7(),YO=class extends tve.BaseFeatureProvider{constructor(t,n){super(t),this.telemetry=t,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let o of r.keys()){let i=r.get(o);t.set(o,i)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let n=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(t)}};k0.FilteredFeatureProvider=YO});var F7=O(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.TasApiFeatureProvider=Gu.TASAPI_FETCHERROR_EVENTNAME=void 0;var nve=A7();Gu.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var VO="ErrorType",zO=class extends nve.FilteredFeatureProvider{constructor(t,n,r){super(n,r),this.httpClient=t,this.telemetry=n,this.filterProviders=r}async fetch(){let t=this.getFilters(),n={};for(let a of t.keys()){let c=t.get(a);n[a]=c}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let c=a,l=new Map;c.response?l.set(VO,"ServerError"):c.request?l.set(VO,"NoResponse"):l.set(VO,"GenericError"),this.telemetry.postEvent(Gu.TASAPI_FETCHERROR_EVENTNAME,l)}if(!r)throw Error(Gu.TASAPI_FETCHERROR_EVENTNAME);t.keys.length>0&&this.PostEventToTelemetry(n);let o=r.data,i=o.Configs,s=[];for(let a of i)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:o.AssignmentContext,configs:i}}};Gu.TasApiFeatureProvider=zO});var M7=O((hVe,U7)=>{var O7=require("stream").Stream,rve=require("util");U7.exports=Ds;function Ds(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}rve.inherits(Ds,O7);Ds.create=function(e,t){var n=new this;t=t||{};for(var r in t)n[r]=t[r];n.source=e;var o=e.emit;return e.emit=function(){return n._handleEmit(arguments),o.apply(e,arguments)},e.on("error",function(){}),n.pauseStream&&e.pause(),n};Object.defineProperty(Ds.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ds.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ds.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ds.prototype.pause=function(){this.source.pause()};Ds.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};Ds.prototype.pipe=function(){var e=O7.prototype.pipe.apply(this,arguments);return this.resume(),e};Ds.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};Ds.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var B7=O((gVe,H7)=>{var ove=require("util"),j7=require("stream").Stream,$7=M7();H7.exports=mn;function mn(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}ove.inherits(mn,j7);mn.create=function(e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];return t};mn.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};mn.prototype.append=function(e){var t=mn.isStreamLike(e);if(t){if(!(e instanceof $7)){var n=$7.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=n}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};mn.prototype.pipe=function(e,t){return j7.prototype.pipe.call(this,e,t),this.resume(),e};mn.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};mn.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(n){var r=mn.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};mn.prototype._pipeNext=function(e){this._currentStream=e;var t=mn.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var n=e;this.write(n),this._getNext()};mn.prototype._handleErrors=function(e){var t=this;e.on("error",function(n){t._emitError(n)})};mn.prototype.write=function(e){this.emit("data",e)};mn.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};mn.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};mn.prototype.end=function(){this._reset(),this.emit("end")};mn.prototype.destroy=function(){this._reset(),this.emit("close")};mn.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};mn.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};mn.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};mn.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var q7=O((vVe,ive)=>{ive.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Y7=O((xVe,W7)=>{W7.exports=q7()});var G7=O(Wo=>{"use strict";var R0=Y7(),sve=require("path").extname,V7=/^\s*([^;\s]*)(?:;|\s|$)/,ave=/^text\//i;Wo.charset=z7;Wo.charsets={lookup:z7};Wo.contentType=cve;Wo.extension=lve;Wo.extensions=Object.create(null);Wo.lookup=uve;Wo.types=Object.create(null);dve(Wo.extensions,Wo.types);function z7(e){if(!e||typeof e!="string")return!1;var t=V7.exec(e),n=t&&R0[t[1].toLowerCase()];return n&&n.charset?n.charset:t&&ave.test(t[1])?"UTF-8":!1}function cve(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?Wo.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var n=Wo.charset(t);n&&(t+="; charset="+n.toLowerCase())}return t}function lve(e){if(!e||typeof e!="string")return!1;var t=V7.exec(e),n=t&&Wo.extensions[t[1].toLowerCase()];return!n||!n.length?!1:n[0]}function uve(e){if(!e||typeof e!="string")return!1;var t=sve("x."+e).toLowerCase().substr(1);return t&&Wo.types[t]||!1}function dve(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(R0).forEach(function(o){var i=R0[o],s=i.extensions;if(!(!s||!s.length)){e[o]=s;for(var a=0;a<s.length;a++){var c=s[a];if(t[c]){var l=n.indexOf(R0[t[c]].source),u=n.indexOf(i.source);if(t[c]!=="application/octet-stream"&&(l>u||l===u&&t[c].substr(0,12)==="application/"))continue}t[c]=o}}})}});var J7=O((yVe,K7)=>{K7.exports=fve;function fve(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var GO=O((EVe,Z7)=>{var X7=J7();Z7.exports=pve;function pve(e){var t=!1;return X7(function(){t=!0}),function(r,o){t?e(r,o):X7(function(){e(r,o)})}}});var KO=O((CVe,Q7)=>{Q7.exports=mve;function mve(e){Object.keys(e.jobs).forEach(hve.bind(e)),e.jobs={}}function hve(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var JO=O((bVe,t9)=>{var e9=GO(),gve=KO();t9.exports=vve;function vve(e,t,n,r){var o=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[o]=xve(t,o,e[o],function(i,s){o in n.jobs&&(delete n.jobs[o],i?gve(n):n.results[o]=s,r(i,n.results))})}function xve(e,t,n,r){var o;return e.length==2?o=e(n,e9(r)):o=e(n,t,e9(r)),o}});var XO=O((_Ve,n9)=>{n9.exports=wve;function wve(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(o,i){return t(e[o],e[i])}),r}});var ZO=O((SVe,r9)=>{var yve=KO(),Eve=GO();r9.exports=Cve;function Cve(e){Object.keys(this.jobs).length&&(this.index=this.size,yve(this),Eve(e)(null,this.results))}});var i9=O((DVe,o9)=>{var bve=JO(),_ve=XO(),Sve=ZO();o9.exports=Dve;function Dve(e,t,n){for(var r=_ve(e);r.index<(r.keyedList||e).length;)bve(e,t,r,function(o,i){if(o){n(o,i);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return Sve.bind(r,n)}});var QO=O((IVe,N0)=>{var s9=JO(),Ive=XO(),Pve=ZO();N0.exports=Tve;N0.exports.ascending=a9;N0.exports.descending=kve;function Tve(e,t,n,r){var o=Ive(e,n);return s9(e,t,o,function i(s,a){if(s){r(s,a);return}if(o.index++,o.index<(o.keyedList||e).length){s9(e,t,o,i);return}r(null,o.results)}),Pve.bind(o,r)}function a9(e,t){return e<t?-1:e>t?1:0}function kve(e,t){return-1*a9(e,t)}});var l9=O((PVe,c9)=>{var Rve=QO();c9.exports=Nve;function Nve(e,t,n){return Rve(e,t,null,n)}});var d9=O((TVe,u9)=>{u9.exports={parallel:i9(),serial:l9(),serialOrdered:QO()}});var p9=O((kVe,f9)=>{f9.exports=function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]||t[n]}),e}});var g9=O((RVe,h9)=>{var r1=B7(),m9=require("util"),e1=require("path"),Lve=require("http"),Ave=require("https"),Fve=require("url").parse,Ove=require("fs"),Uve=require("stream").Stream,t1=G7(),Mve=d9(),n1=p9();h9.exports=mt;m9.inherits(mt,r1);function mt(e){if(!(this instanceof mt))return new mt(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],r1.call(this),e=e||{};for(var t in e)this[t]=e[t]}mt.LINE_BREAK=`\r
`;mt.DEFAULT_CONTENT_TYPE="application/octet-stream";mt.prototype.append=function(e,t,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=r1.prototype.append.bind(this);if(typeof t=="number"&&(t=""+t),m9.isArray(t)){this._error(new Error("Arrays are not supported."));return}var o=this._multiPartHeader(e,t,n),i=this._multiPartFooter();r(o),r(t),r(i),this._trackLength(o,t,n)};mt.prototype._trackLength=function(e,t,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(t)?r=t.length:typeof t=="string"&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+mt.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&t.hasOwnProperty("httpVersion"))&&!(t instanceof Uve))&&(n.knownLength||this._valuesToMeasure.push(t))};mt.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):Ove.stat(e.path,function(n,r){var o;if(n){t(n);return}o=r.size-(e.start?e.start:0),t(null,o)}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(n){e.pause(),t(null,+n.headers["content-length"])}),e.resume()):t("Unknown stream")};mt.prototype._multiPartHeader=function(e,t,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(t,n),o=this._getContentType(t,n),i="",s={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(o||[])};typeof n.header=="object"&&n1(s,n.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(i+=c+": "+a.join("; ")+mt.LINE_BREAK)));return"--"+this.getBoundary()+mt.LINE_BREAK+i+mt.LINE_BREAK};mt.prototype._getContentDisposition=function(e,t){var n,r;return typeof t.filepath=="string"?n=e1.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=e1.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=e1.basename(e.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};mt.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=t1.lookup(e.name)),!n&&e.path&&(n=t1.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),!n&&(t.filepath||t.filename)&&(n=t1.lookup(t.filepath||t.filename)),!n&&typeof e=="object"&&(n=mt.DEFAULT_CONTENT_TYPE),n};mt.prototype._multiPartFooter=function(){return function(e){var t=mt.LINE_BREAK,n=this._streams.length===0;n&&(t+=this._lastBoundary()),e(t)}.bind(this)};mt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+mt.LINE_BREAK};mt.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n};mt.prototype.setBoundary=function(e){this._boundary=e};mt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};mt.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?e=Buffer.concat([e,this._streams[n]]):e=Buffer.concat([e,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(mt.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};mt.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(Math.random()*10).toString(16);this._boundary=e};mt.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};mt.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};mt.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}Mve.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){e(n);return}r.forEach(function(o){t+=o}),e(null,t)})};mt.prototype.submit=function(e,t){var n,r,o={method:"post"};return typeof e=="string"?(e=Fve(e),r=n1({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},o)):(r=n1(e,o),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(e.headers),r.protocol=="https:"?n=Ave.request(r):n=Lve.request(r),this.getLength(function(i,s){if(i&&i!=="Unknown stream"){this._error(i);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),t){var a,c=function(l,u){return n.removeListener("error",c),n.removeListener("response",a),t.call(this,l,u)};a=c.bind(this,null),n.on("error",c),n.on("response",a)}}.bind(this)),n};mt.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};mt.prototype.toString=function(){return"[object FormData]"}});var x9=O(v9=>{"use strict";var $ve=require("url").parse,jve={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Hve=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function Bve(e){var t=typeof e=="string"?$ve(e):e||{},n=t.protocol,r=t.host,o=t.port;if(typeof r!="string"||!r||typeof n!="string"||(n=n.split(":",1)[0],r=r.replace(/:\d*$/,""),o=parseInt(o)||jve[n]||0,!qve(r,o)))return"";var i=gg("npm_config_"+n+"_proxy")||gg(n+"_proxy")||gg("npm_config_proxy")||gg("all_proxy");return i&&i.indexOf("://")===-1&&(i=n+"://"+i),i}function qve(e,t){var n=(gg("npm_config_no_proxy")||gg("no_proxy")).toLowerCase();return n?n==="*"?!1:n.split(/[,\s]/).every(function(r){if(!r)return!0;var o=r.match(/^(.+):(\d+)$/),i=o?o[1]:r,s=o?parseInt(o[2]):0;return s&&s!==t?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!Hve.call(e,i)):e!==i}):!0}function gg(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}v9.getProxyForUrl=Bve});var dJ=O((LVe,uJ)=>{"use strict";var Wve=g9(),Yve=require("url"),Vve=x9(),zve=require("http"),Gve=require("https"),M9=require("util"),Kve=cv(),Jve=require("zlib"),$9=require("stream"),Xve=require("events");function ed(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var j9=ed(Wve),Zve=ed(Yve),Qve=ed(zve),exe=ed(Gve),txe=ed(M9),nxe=ed(Kve),Zu=ed(Jve),Ju=ed($9);function H9(e,t){return function(){return e.apply(t,arguments)}}var{toString:rxe}=Object.prototype,{getPrototypeOf:E1}=Object,j0=(e=>t=>{let n=rxe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Is=e=>(e=e.toLowerCase(),t=>j0(t)===e),H0=e=>t=>typeof t===e,{isArray:Eg}=Array,gy=H0("undefined");function oxe(e){return e!==null&&!gy(e)&&e.constructor!==null&&!gy(e.constructor)&&xi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var B9=Is("ArrayBuffer");function ixe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&B9(e.buffer),t}var sxe=H0("string"),xi=H0("function"),q9=H0("number"),B0=e=>e!==null&&typeof e=="object",axe=e=>e===!0||e===!1,L0=e=>{if(j0(e)!=="object")return!1;let t=E1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cxe=Is("Date"),lxe=Is("File"),uxe=Is("Blob"),dxe=Is("FileList"),fxe=e=>B0(e)&&xi(e.pipe),pxe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xi(e.append)&&((t=j0(e))==="formdata"||t==="object"&&xi(e.toString)&&e.toString()==="[object FormData]"))},mxe=Is("URLSearchParams"),[hxe,gxe,vxe,xxe]=["ReadableStream","Request","Response","Headers"].map(Is),wxe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xy(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Eg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{let i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length,a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function W9(e,t){t=t.toLowerCase();let n=Object.keys(e),r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}var op=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Y9=e=>!gy(e)&&e!==op;function l1(){let{caseless:e}=Y9(this)&&this||{},t={},n=(r,o)=>{let i=e&&W9(t,o)||o;L0(t[i])&&L0(r)?t[i]=l1(t[i],r):L0(r)?t[i]=l1({},r):Eg(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&xy(arguments[r],n);return t}var yxe=(e,t,n,{allOwnKeys:r}={})=>(xy(t,(o,i)=>{n&&xi(o)?e[i]=H9(o,n):e[i]=o},{allOwnKeys:r}),e),Exe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Cxe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bxe=(e,t,n,r)=>{let o,i,s,a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&E1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_xe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return r!==-1&&r===n},Sxe=e=>{if(!e)return null;if(Eg(e))return e;let t=e.length;if(!q9(t))return null;let n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Dxe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&E1(Uint8Array)),Ixe=(e,t)=>{let r=(e&&e[Symbol.iterator]).call(e),o;for(;(o=r.next())&&!o.done;){let i=o.value;t.call(e,i[0],i[1])}},Pxe=(e,t)=>{let n,r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Txe=Is("HTMLFormElement"),kxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),w9=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Rxe=Is("RegExp"),V9=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};xy(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},Nxe=e=>{V9(e,(t,n)=>{if(xi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let r=e[n];if(xi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Lxe=(e,t)=>{let n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Eg(e)?r(e):r(String(e).split(t)),n},Axe=()=>{},Fxe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,o1="abcdefghijklmnopqrstuvwxyz",y9="0123456789",z9={DIGIT:y9,ALPHA:o1,ALPHA_DIGIT:o1+o1.toUpperCase()+y9},Oxe=(e=16,t=z9.ALPHA_DIGIT)=>{let n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Uxe(e){return!!(e&&xi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var Mxe=e=>{let t=new Array(10),n=(r,o)=>{if(B0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;let i=Eg(r)?[]:{};return xy(r,(s,a)=>{let c=n(s,o+1);!gy(c)&&(i[a]=c)}),t[o]=void 0,i}}return r};return n(e,0)},$xe=Is("AsyncFunction"),jxe=e=>e&&(B0(e)||xi(e))&&xi(e.then)&&xi(e.catch),G9=((e,t)=>e?setImmediate:t?((n,r)=>(op.addEventListener("message",({source:o,data:i})=>{o===op&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),op.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xi(op.postMessage)),Hxe=typeof queueMicrotask<"u"?queueMicrotask.bind(op):typeof process<"u"&&process.nextTick||G9,W={isArray:Eg,isArrayBuffer:B9,isBuffer:oxe,isFormData:pxe,isArrayBufferView:ixe,isString:sxe,isNumber:q9,isBoolean:axe,isObject:B0,isPlainObject:L0,isReadableStream:hxe,isRequest:gxe,isResponse:vxe,isHeaders:xxe,isUndefined:gy,isDate:cxe,isFile:lxe,isBlob:uxe,isRegExp:Rxe,isFunction:xi,isStream:fxe,isURLSearchParams:mxe,isTypedArray:Dxe,isFileList:dxe,forEach:xy,merge:l1,extend:yxe,trim:wxe,stripBOM:Exe,inherits:Cxe,toFlatObject:bxe,kindOf:j0,kindOfTest:Is,endsWith:_xe,toArray:Sxe,forEachEntry:Ixe,matchAll:Pxe,isHTMLForm:Txe,hasOwnProperty:w9,hasOwnProp:w9,reduceDescriptors:V9,freezeMethods:Nxe,toObjectSet:Lxe,toCamelCase:kxe,noop:Axe,toFiniteNumber:Fxe,findKey:W9,global:op,isContextDefined:Y9,ALPHABET:z9,generateString:Oxe,isSpecCompliantForm:Uxe,toJSONObject:Mxe,isAsyncFn:$xe,isThenable:jxe,setImmediate:G9,asap:Hxe};function we(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}W.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var K9=we.prototype,J9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{J9[e]={value:e}});Object.defineProperties(we,J9);Object.defineProperty(K9,"isAxiosError",{value:!0});we.from=(e,t,n,r,o,i)=>{let s=Object.create(K9);return W.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),we.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};function u1(e){return W.isPlainObject(e)||W.isArray(e)}function X9(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function E9(e,t,n){return e?e.concat(t).map(function(o,i){return o=X9(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Bxe(e){return W.isArray(e)&&!e.some(u1)}var qxe=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function q0(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new(j9.default||FormData),n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!W.isUndefined(v[h])});let r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(!c&&W.isBlob(m))throw new we("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,h,v){let g=m;if(m&&!v&&typeof m=="object"){if(W.endsWith(h,"{}"))h=r?h:h.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&Bxe(m)||(W.isFileList(m)||W.endsWith(h,"[]"))&&(g=W.toArray(m)))return h=X9(h),g.forEach(function(x,w){!(W.isUndefined(x)||x===null)&&t.append(s===!0?E9([h],w,i):s===null?h:h+"[]",l(x))}),!1}return u1(m)?!0:(t.append(E9(v,h,i),l(m)),!1)}let d=[],p=Object.assign(qxe,{defaultVisitor:u,convertValue:l,isVisitable:u1});function f(m,h){if(!W.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(m),W.forEach(m,function(g,y){(!(W.isUndefined(g)||g===null)&&o.call(t,g,W.isString(y)?y.trim():y,h,p))===!0&&f(g,h?h.concat(y):[y])}),d.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return f(e),t}function C9(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Z9(e,t){this._pairs=[],e&&q0(e,this,t)}var Q9=Z9.prototype;Q9.append=function(t,n){this._pairs.push([t,n])};Q9.toString=function(t){let n=t?function(r){return t.call(this,r,C9)}:C9;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Wxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C1(e,t,n){if(!t)return e;let r=n&&n.encode||Wxe,o=n&&n.serialize,i;if(o?i=o(t,n):i=W.isURLSearchParams(t)?t.toString():new Z9(t,n).toString(r),i){let s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}var d1=class{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}},b9=d1,b1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yxe=Zve.default.URLSearchParams,Vxe={isNode:!0,classes:{URLSearchParams:Yxe,FormData:j9.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},_1=typeof window<"u"&&typeof document<"u",zxe=(e=>_1&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Gxe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kxe=_1&&window.location.href||"http://localhost",Jxe=Object.freeze({__proto__:null,hasBrowserEnv:_1,hasStandardBrowserWebWorkerEnv:Gxe,hasStandardBrowserEnv:zxe,origin:Kxe}),Yo={...Jxe,...Vxe};function Xxe(e,t){return q0(e,new Yo.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Yo.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Zxe(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Qxe(e){let t={},n=Object.keys(e),r,o=n.length,i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function eJ(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=i>=n.length;return s=!s&&W.isArray(o)?o.length:s,c?(W.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!W.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&W.isArray(o[s])&&(o[s]=Qxe(o[s])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){let n={};return W.forEachEntry(e,(r,o)=>{t(Zxe(r),o,n,0)}),n}return null}function ewe(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var S1={transitional:b1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){let r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return o?JSON.stringify(eJ(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xxe(t,this.formSerializer).toString();if((a=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return q0(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),ewe(t)):t}],transformResponse:[function(t){let n=this.transitional||S1.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||o)){let s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yo.classes.FormData,Blob:Yo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{S1.headers[e]={}});var D1=S1,twe=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nwe=e=>{let t={},n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&twe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_9=Symbol("internals");function hy(e){return e&&String(e).trim().toLowerCase()}function A0(e){return e===!1||e==null?e:W.isArray(e)?e.map(A0):String(e)}function rwe(e){let t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}var owe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function i1(e,t,n,r,o){if(W.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function iwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function swe(e,t){let n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}var xg=class{constructor(t){t&&this.set(t)}set(t,n,r){let o=this;function i(a,c,l){let u=hy(c);if(!u)throw new Error("header name must be a non-empty string");let d=W.findKey(o,u);(!d||o[d]===void 0||l===!0||l===void 0&&o[d]!==!1)&&(o[d||c]=A0(a))}let s=(a,c)=>W.forEach(a,(l,u)=>i(l,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(W.isString(t)&&(t=t.trim())&&!owe(t))s(nwe(t),n);else if(W.isHeaders(t))for(let[a,c]of t.entries())i(c,a,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=hy(t),t){let r=W.findKey(this,t);if(r){let o=this[r];if(!n)return o;if(n===!0)return rwe(o);if(W.isFunction(n))return n.call(this,o,r);if(W.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=hy(t),t){let r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||i1(this,this[r],r,n)))}return!1}delete(t,n){let r=this,o=!1;function i(s){if(s=hy(s),s){let a=W.findKey(r,s);a&&(!n||i1(r,r[a],a,n))&&(delete r[a],o=!0)}}return W.isArray(t)?t.forEach(i):i(t),o}clear(t){let n=Object.keys(this),r=n.length,o=!1;for(;r--;){let i=n[r];(!t||i1(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){let n=this,r={};return W.forEach(this,(o,i)=>{let s=W.findKey(r,i);if(s){n[s]=A0(o),delete n[i];return}let a=t?iwe(i):String(i).trim();a!==i&&delete n[i],n[a]=A0(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let n=Object.create(null);return W.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){let r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){let r=(this[_9]=this[_9]={accessors:{}}).accessors,o=this.prototype;function i(s){let a=hy(s);r[a]||(swe(o,s),r[a]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};xg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(xg.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(xg);var Vo=xg;function s1(e,t){let n=this||D1,r=t||n,o=Vo.from(r.headers),i=r.data;return W.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function tJ(e){return!!(e&&e.__CANCEL__)}function Qu(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Qu,we,{__CANCEL__:!0});function vg(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function awe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function I1(e,t){return e&&!awe(t)?cwe(e,t):t}var O0="1.7.4";function nJ(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var lwe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function uwe(e,t,n){let r=n&&n.Blob||Yo.classes.Blob,o=nJ(e);if(t===void 0&&r&&(t=!0),o==="data"){e=o.length?e.slice(o.length+1):e;let i=lwe.exec(e);if(!i)throw new we("Invalid URL",we.ERR_INVALID_URL);let s=i[1],a=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(t){if(!r)throw new we("Blob is not supported",we.ERR_NOT_SUPPORT);return new r([l],{type:s})}return l}throw new we("Unsupported protocol "+o,we.ERR_NOT_SUPPORT)}var a1=Symbol("internals"),f1=class extends Ju.default.Transform{constructor(t){t=W.toFlatObject(t,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(r,o)=>!W.isUndefined(o[r])),super({readableHighWaterMark:t.chunkSize});let n=this[a1]={timeWindow:t.timeWindow,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",r=>{r==="progress"&&(n.isCaptured||(n.isCaptured=!0))})}_read(t){let n=this[a1];return n.onReadCallback&&n.onReadCallback(),super._read(t)}_transform(t,n,r){let o=this[a1],i=o.maxRate,s=this.readableHighWaterMark,a=o.timeWindow,c=1e3/a,l=i/c,u=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0,d=(f,m)=>{let h=Buffer.byteLength(f);o.bytesSeen+=h,o.bytes+=h,o.isCaptured&&this.emit("progress",o.bytesSeen),this.push(f)?process.nextTick(m):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(m)}},p=(f,m)=>{let h=Buffer.byteLength(f),v=null,g=s,y,x=0;if(i){let w=Date.now();(!o.ts||(x=w-o.ts)>=a)&&(o.ts=w,y=l-o.bytes,o.bytes=y<0?-y:0,x=0),y=l-o.bytes}if(i){if(y<=0)return setTimeout(()=>{m(null,f)},a-x);y<g&&(g=y)}g&&h>g&&h-g>u&&(v=f.subarray(g),f=f.subarray(0,g)),d(f,v?()=>{process.nextTick(m,null,v)}:m)};p(t,function f(m,h){if(m)return r(m);h?p(h,f):r(null)})}},S9=f1,{asyncIterator:D9}=Symbol,dwe=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[D9]?yield*e[D9]():yield e},rJ=dwe,fwe=W.ALPHABET.ALPHA_DIGIT+"-_",vy=new M9.TextEncoder,Xu=`\r
`,pwe=vy.encode(Xu),mwe=2,p1=class{constructor(t,n){let{escapeName:r}=this.constructor,o=W.isString(n),i=`Content-Disposition: form-data; name="${r(t)}"${!o&&n.name?`; filename="${r(n.name)}"`:""}${Xu}`;o?n=vy.encode(String(n).replace(/\r?\n|\r\n?/g,Xu)):i+=`Content-Type: ${n.type||"application/octet-stream"}${Xu}`,this.headers=vy.encode(i+Xu),this.contentLength=o?n.byteLength:n.size,this.size=this.headers.byteLength+this.contentLength+mwe,this.name=t,this.value=n}async*encode(){yield this.headers;let{value:t}=this;W.isTypedArray(t)?yield t:yield*rJ(t),yield pwe}static escapeName(t){return String(t).replace(/[\r\n"]/g,n=>({"\r":"%0D","\n":"%0A",'"':"%22"})[n])}},hwe=(e,t,n)=>{let{tag:r="form-data-boundary",size:o=25,boundary:i=r+"-"+W.generateString(o,fwe)}=n||{};if(!W.isFormData(e))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let s=vy.encode("--"+i+Xu),a=vy.encode("--"+i+"--"+Xu+Xu),c=a.byteLength,l=Array.from(e.entries()).map(([d,p])=>{let f=new p1(d,p);return c+=f.size,f});c+=s.byteLength*l.length,c=W.toFiniteNumber(c);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(u["Content-Length"]=c),t&&t(u),$9.Readable.from(async function*(){for(let d of l)yield s,yield*d.encode();yield a}())},gwe=hwe,m1=class extends Ju.default.Transform{__transform(t,n,r){this.push(t),r()}_transform(t,n,r){if(t.length!==0&&(this._transform=this.__transform,t[0]!==120)){let o=Buffer.alloc(2);o[0]=120,o[1]=156,this.push(o,n)}this.__transform(t,n,r)}},vwe=m1,xwe=(e,t)=>W.isAsyncFn(e)?function(...n){let r=n.pop();e.apply(this,n).then(o=>{try{t?r(null,...t(o)):r(null,o)}catch(i){r(i)}},r)}:e,wwe=xwe;function ywe(e,t){e=e||10;let n=new Array(e),r=new Array(e),o=0,i=0,s;return t=t!==void 0?t:1e3,function(c){let l=Date.now(),u=r[i];s||(s=l),n[o]=c,r[o]=l;let d=i,p=0;for(;d!==o;)p+=n[d++],d=d%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-s<t)return;let f=u&&l-u;return f?Math.round(p*1e3/f):void 0}}function Ewe(e,t){let n=0,r=1e3/t,o,i,s=(l,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{let u=Date.now(),d=u-n;d>=r?s(l,u):(o=l,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}var wg=(e,t,n=3)=>{let r=0,o=ywe(50,250);return Ewe(i=>{let s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,l=o(c),u=s<=a;r=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},U0=(e,t)=>{let n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},M0=e=>(...t)=>W.asap(()=>e(...t)),I9={flush:Zu.default.constants.Z_SYNC_FLUSH,finishFlush:Zu.default.constants.Z_SYNC_FLUSH},Cwe={flush:Zu.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Zu.default.constants.BROTLI_OPERATION_FLUSH},P9=W.isFunction(Zu.default.createBrotliDecompress),{http:bwe,https:_we}=nxe.default,Swe=/https:?/,T9=Yo.protocols.map(e=>e+":"),k9=(e,[t,n])=>(e.on("end",n).on("error",n),t);function Dwe(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function oJ(e,t,n){let r=t;if(!r&&r!==!1){let o=Vve.getProxyForUrl(n);o&&(r=new URL(o))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));let i=Buffer.from(r.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.headers.host=e.hostname+(e.port?":"+e.port:"");let o=r.hostname||r.host;e.hostname=o,e.host=o,e.port=r.port,e.path=n,r.protocol&&(e.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}e.beforeRedirects.proxy=function(i){oJ(i,t,i.href)}}var Iwe=typeof process<"u"&&W.kindOf(process)==="process",Pwe=e=>new Promise((t,n)=>{let r,o,i=(c,l)=>{o||(o=!0,r&&r(c,l))},s=c=>{i(c),t(c)},a=c=>{i(c,!0),n(c)};e(s,a,c=>r=c).catch(a)}),Twe=({address:e,family:t})=>{if(!W.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}},R9=(e,t)=>Twe(W.isObject(e)?e:{address:e,family:t}),kwe=Iwe&&function(t){return Pwe(async function(r,o,i){let{data:s,lookup:a,family:c}=t,{responseType:l,responseEncoding:u}=t,d=t.method.toUpperCase(),p,f=!1,m;if(a){let T=wwe(a,$=>W.isArray($)?$:[$]);a=($,H,Y)=>{T($,H,(J,ue,Ne)=>{if(J)return Y(J);let Pe=W.isArray(ue)?ue.map(Ze=>R9(Ze)):[R9(ue,Ne)];H.all?Y(J,Pe):Y(J,Pe[0].address,Pe[0].family)})}}let h=new Xve.EventEmitter,v=()=>{t.cancelToken&&t.cancelToken.unsubscribe(g),t.signal&&t.signal.removeEventListener("abort",g),h.removeAllListeners()};i((T,$)=>{p=!0,$&&(f=!0,v())});function g(T){h.emit("abort",!T||T.type?new Qu(null,t,m):T)}h.once("abort",o),(t.cancelToken||t.signal)&&(t.cancelToken&&t.cancelToken.subscribe(g),t.signal&&(t.signal.aborted?g():t.signal.addEventListener("abort",g)));let y=I1(t.baseURL,t.url),x=new URL(y,W.hasBrowserEnv?Yo.origin:void 0),w=x.protocol||T9[0];if(w==="data:"){let T;if(d!=="GET")return vg(r,o,{status:405,statusText:"method not allowed",headers:{},config:t});try{T=uwe(t.url,l==="blob",{Blob:t.env&&t.env.Blob})}catch($){throw we.from($,we.ERR_BAD_REQUEST,t)}return l==="text"?(T=T.toString(u),(!u||u==="utf8")&&(T=W.stripBOM(T))):l==="stream"&&(T=Ju.default.Readable.from(T)),vg(r,o,{data:T,status:200,statusText:"OK",headers:new Vo,config:t})}if(T9.indexOf(w)===-1)return o(new we("Unsupported protocol "+w,we.ERR_BAD_REQUEST,t));let E=Vo.from(t.headers).normalize();E.set("User-Agent","axios/"+O0,!1);let{onUploadProgress:I,onDownloadProgress:D}=t,k=t.maxRate,N,R;if(W.isSpecCompliantForm(s)){let T=E.getContentType(/boundary=([-_\w\d]{10,70})/i);s=gwe(s,$=>{E.set($)},{tag:`axios-${O0}-boundary`,boundary:T&&T[1]||void 0})}else if(W.isFormData(s)&&W.isFunction(s.getHeaders)){if(E.set(s.getHeaders()),!E.hasContentLength())try{let T=await txe.default.promisify(s.getLength).call(s);Number.isFinite(T)&&T>=0&&E.setContentLength(T)}catch{}}else if(W.isBlob(s))s.size&&E.setContentType(s.type||"application/octet-stream"),E.setContentLength(s.size||0),s=Ju.default.Readable.from(rJ(s));else if(s&&!W.isStream(s)){if(!Buffer.isBuffer(s))if(W.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(W.isString(s))s=Buffer.from(s,"utf-8");else return o(new we("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",we.ERR_BAD_REQUEST,t));if(E.setContentLength(s.length,!1),t.maxBodyLength>-1&&s.length>t.maxBodyLength)return o(new we("Request body larger than maxBodyLength limit",we.ERR_BAD_REQUEST,t))}let C=W.toFiniteNumber(E.getContentLength());W.isArray(k)?(N=k[0],R=k[1]):N=R=k,s&&(I||N)&&(W.isStream(s)||(s=Ju.default.Readable.from(s,{objectMode:!1})),s=Ju.default.pipeline([s,new S9({maxRate:W.toFiniteNumber(N)})],W.noop),I&&s.on("progress",k9(s,U0(C,wg(M0(I),!1,3)))));let _;if(t.auth){let T=t.auth.username||"",$=t.auth.password||"";_=T+":"+$}if(!_&&x.username){let T=x.username,$=x.password;_=T+":"+$}_&&E.delete("authorization");let b;try{b=C1(x.pathname+x.search,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(T){let $=new Error(T.message);return $.config=t,$.url=t.url,$.exists=!0,o($)}E.set("Accept-Encoding","gzip, compress, deflate"+(P9?", br":""),!1);let S={path:b,method:d,headers:E.toJSON(),agents:{http:t.httpAgent,https:t.httpsAgent},auth:_,protocol:w,family:c,beforeRedirect:Dwe,beforeRedirects:{}};!W.isUndefined(a)&&(S.lookup=a),t.socketPath?S.socketPath=t.socketPath:(S.hostname=x.hostname,S.port=x.port,oJ(S,t.proxy,w+"//"+x.hostname+(x.port?":"+x.port:"")+S.path));let A,L=Swe.test(S.protocol);if(S.agent=L?t.httpsAgent:t.httpAgent,t.transport?A=t.transport:t.maxRedirects===0?A=L?exe.default:Qve.default:(t.maxRedirects&&(S.maxRedirects=t.maxRedirects),t.beforeRedirect&&(S.beforeRedirects.config=t.beforeRedirect),A=L?_we:bwe),t.maxBodyLength>-1?S.maxBodyLength=t.maxBodyLength:S.maxBodyLength=1/0,t.insecureHTTPParser&&(S.insecureHTTPParser=t.insecureHTTPParser),m=A.request(S,function($){if(m.destroyed)return;let H=[$],Y=+$.headers["content-length"];if(D||R){let Ze=new S9({maxRate:W.toFiniteNumber(R)});D&&Ze.on("progress",k9(Ze,U0(Y,wg(M0(D),!0,3)))),H.push(Ze)}let J=$,ue=$.req||m;if(t.decompress!==!1&&$.headers["content-encoding"])switch((d==="HEAD"||$.statusCode===204)&&delete $.headers["content-encoding"],($.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":H.push(Zu.default.createUnzip(I9)),delete $.headers["content-encoding"];break;case"deflate":H.push(new vwe),H.push(Zu.default.createUnzip(I9)),delete $.headers["content-encoding"];break;case"br":P9&&(H.push(Zu.default.createBrotliDecompress(Cwe)),delete $.headers["content-encoding"])}J=H.length>1?Ju.default.pipeline(H,W.noop):H[0];let Ne=Ju.default.finished(J,()=>{Ne(),v()}),Pe={status:$.statusCode,statusText:$.statusMessage,headers:new Vo($.headers),config:t,request:ue};if(l==="stream")Pe.data=J,vg(r,o,Pe);else{let Ze=[],Je=0;J.on("data",function(Xe){Ze.push(Xe),Je+=Xe.length,t.maxContentLength>-1&&Je>t.maxContentLength&&(f=!0,J.destroy(),o(new we("maxContentLength size of "+t.maxContentLength+" exceeded",we.ERR_BAD_RESPONSE,t,ue)))}),J.on("aborted",function(){if(f)return;let Xe=new we("maxContentLength size of "+t.maxContentLength+" exceeded",we.ERR_BAD_RESPONSE,t,ue);J.destroy(Xe),o(Xe)}),J.on("error",function(Xe){m.destroyed||o(we.from(Xe,null,t,ue))}),J.on("end",function(){try{let Xe=Ze.length===1?Ze[0]:Buffer.concat(Ze);l!=="arraybuffer"&&(Xe=Xe.toString(u),(!u||u==="utf8")&&(Xe=W.stripBOM(Xe))),Pe.data=Xe}catch(Xe){return o(we.from(Xe,null,t,Pe.request,Pe))}vg(r,o,Pe)})}h.once("abort",Ze=>{J.destroyed||(J.emit("error",Ze),J.destroy())})}),h.once("abort",T=>{o(T),m.destroy(T)}),m.on("error",function($){o(we.from($,null,t,m))}),m.on("socket",function($){$.setKeepAlive(!0,1e3*60)}),t.timeout){let T=parseInt(t.timeout,10);if(Number.isNaN(T)){o(new we("error trying to parse `config.timeout` to int",we.ERR_BAD_OPTION_VALUE,t,m));return}m.setTimeout(T,function(){if(p)return;let H=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",Y=t.transitional||b1;t.timeoutErrorMessage&&(H=t.timeoutErrorMessage),o(new we(H,Y.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,m)),g()})}if(W.isStream(s)){let T=!1,$=!1;s.on("end",()=>{T=!0}),s.once("error",H=>{$=!0,m.destroy(H)}),s.on("close",()=>{!T&&!$&&g(new Qu("Request stream has been aborted",t,m))}),s.pipe(m)}else m.end(s)})},Rwe=Yo.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function o(i){let s=i;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){let a=W.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Nwe=Yo.hasStandardBrowserEnv?{write(e,t,n,r,o,i){let s=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),W.isString(r)&&s.push("path="+r),W.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}},N9=e=>e instanceof Vo?{...e}:e;function ip(e,t){t=t||{};let n={};function r(l,u,d){return W.isPlainObject(l)&&W.isPlainObject(u)?W.merge.call({caseless:d},l,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function o(l,u,d){if(W.isUndefined(u)){if(!W.isUndefined(l))return r(void 0,l,d)}else return r(l,u,d)}function i(l,u){if(!W.isUndefined(u))return r(void 0,u)}function s(l,u){if(W.isUndefined(u)){if(!W.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in t)return r(l,u);if(d in e)return r(void 0,l)}let c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u)=>o(N9(l),N9(u),!0)};return W.forEach(Object.keys(Object.assign({},e,t)),function(u){let d=c[u]||o,p=d(e[u],t[u],u);W.isUndefined(p)&&d!==a||(n[u]=p)}),n}var iJ=e=>{let t=ip({},e),{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;t.headers=s=Vo.from(s),t.url=C1(I1(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(W.isFormData(n)){if(Yo.hasStandardBrowserEnv||Yo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Yo.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&Rwe(t.url))){let l=o&&i&&Nwe.read(i);l&&s.set(o,l)}return t},Lwe=typeof XMLHttpRequest<"u",Awe=Lwe&&function(e){return new Promise(function(n,r){let o=iJ(e),i=o.data,s=Vo.from(o.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:l}=o,u,d,p,f,m;function h(){f&&f(),m&&m(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function g(){if(!v)return;let x=Vo.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};vg(function(D){n(D),h()},function(D){r(D),h()},E),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new we("Request aborted",we.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",E=o.transitional||b1;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new we(w,E.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&W.forEach(s.toJSON(),function(w,E){v.setRequestHeader(E,w)}),W.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),a&&a!=="json"&&(v.responseType=o.responseType),l&&([p,m]=wg(l,!0),v.addEventListener("progress",p)),c&&v.upload&&([d,f]=wg(c),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",f)),(o.cancelToken||o.signal)&&(u=x=>{v&&(r(!x||x.type?new Qu(null,e,v):x),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));let y=nJ(o.url);if(y&&Yo.protocols.indexOf(y)===-1){r(new we("Unsupported protocol "+y+":",we.ERR_BAD_REQUEST,e));return}v.send(i||null)})},Fwe=(e,t)=>{let n=new AbortController,r,o=function(c){if(!r){r=!0,s();let l=c instanceof Error?c:this.reason;n.abort(l instanceof we?l:new Qu(l instanceof Error?l.message:l))}},i=t&&setTimeout(()=>{o(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t),s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",o):c.unsubscribe(o))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",o));let{signal:a}=n;return a.unsubscribe=s,[a,()=>{i&&clearTimeout(i),i=null}]},Owe=Fwe,Uwe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Mwe=async function*(e,t,n){for await(let r of e)yield*Uwe(ArrayBuffer.isView(r)?r:await n(String(r)),t)},L9=(e,t,n,r,o)=>{let i=Mwe(e,t,o),s=0,a,c=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{let{done:u,value:d}=await i.next();if(u){c(),l.close();return}let p=d.byteLength;if(n){let f=s+=p;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),i.return()}},{highWaterMark:2})},W0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sJ=W0&&typeof ReadableStream=="function",h1=W0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),aJ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$we=sJ&&aJ(()=>{let e=!1,t=new Request(Yo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),A9=64*1024,g1=sJ&&aJ(()=>W.isReadableStream(new Response("").body)),$0={stream:g1&&(e=>e.body)};W0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$0[t]&&($0[t]=W.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new we(`Response type '${t}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);var jwe=async e=>{if(e==null)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(W.isArrayBufferView(e)||W.isArrayBuffer(e))return e.byteLength;if(W.isURLSearchParams(e)&&(e=e+""),W.isString(e))return(await h1(e)).byteLength},Hwe=async(e,t)=>{let n=W.toFiniteNumber(e.getContentLength());return n??jwe(t)},Bwe=W0&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:p}=iJ(e);l=l?(l+"").toLowerCase():"text";let[f,m]=o||i||s?Owe([o,i],s):[],h,v,g=()=>{!h&&setTimeout(()=>{f&&f.unsubscribe()}),h=!0},y;try{if(c&&$we&&n!=="get"&&n!=="head"&&(y=await Hwe(u,r))!==0){let I=new Request(t,{method:"POST",body:r,duplex:"half"}),D;if(W.isFormData(r)&&(D=I.headers.get("content-type"))&&u.setContentType(D),I.body){let[k,N]=U0(y,wg(M0(c)));r=L9(I.body,A9,k,N,h1)}}W.isString(d)||(d=d?"include":"omit"),v=new Request(t,{...p,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:d});let x=await fetch(v),w=g1&&(l==="stream"||l==="response");if(g1&&(a||w)){let I={};["status","statusText","headers"].forEach(R=>{I[R]=x[R]});let D=W.toFiniteNumber(x.headers.get("content-length")),[k,N]=a&&U0(D,wg(M0(a),!0))||[];x=new Response(L9(x.body,A9,k,()=>{N&&N(),w&&g()},h1),I)}l=l||"text";let E=await $0[W.findKey($0,l)||"text"](x,e);return!w&&g(),m&&m(),await new Promise((I,D)=>{vg(I,D,{data:E,headers:Vo.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:v})})}catch(x){throw g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,v),{cause:x.cause||x}):we.from(x,x&&x.code,e,v)}}),v1={http:kwe,xhr:Awe,fetch:Bwe};W.forEach(v1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var F9=e=>`- ${e}`,qwe=e=>W.isFunction(e)||e===null||e===!1,cJ={getAdapter:e=>{e=W.isArray(e)?e:[e];let{length:t}=e,n,r,o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!qwe(n)&&(r=v1[(s=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){let i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=t?i.length>1?`since :
`+i.map(F9).join(`
`):" "+F9(i[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:v1};function c1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qu(null,e)}function O9(e){return c1(e),e.headers=Vo.from(e.headers),e.data=s1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cJ.getAdapter(e.adapter||D1.adapter)(e).then(function(r){return c1(e),r.data=s1.call(e,e.transformResponse,r),r.headers=Vo.from(r.headers),r},function(r){return tJ(r)||(c1(e),r&&r.response&&(r.response.data=s1.call(e,e.transformResponse,r.response),r.response.headers=Vo.from(r.response.headers))),Promise.reject(r)})}var P1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{P1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var U9={};P1.transitional=function(t,n,r){function o(i,s){return"[Axios v"+O0+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new we(o(s," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!U9[s]&&(U9[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};function Wwe(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),o=r.length;for(;o-- >0;){let i=r[o],s=t[i];if(s){let a=e[i],c=a===void 0||s(a,i,e);if(c!==!0)throw new we("option "+i+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}var x1={assertOptions:Wwe,validators:P1},Ku=x1.validators,yg=class{constructor(t){this.defaults=t,this.interceptors={request:new b9,response:new b9}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;let i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ip(this.defaults,n);let{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&x1.assertOptions(r,{silentJSONParsing:Ku.transitional(Ku.boolean),forcedJSONParsing:Ku.transitional(Ku.boolean),clarifyTimeoutError:Ku.transitional(Ku.boolean)},!1),o!=null&&(W.isFunction(o)?n.paramsSerializer={serialize:o}:x1.assertOptions(o,{encode:Ku.function,serialize:Ku.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Vo.concat(s,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let u,d=0,p;if(!c){let m=[O9.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,l),p=m.length,u=Promise.resolve(n);d<p;)u=u.then(m[d++],m[d++]);return u}p=a.length;let f=n;for(d=0;d<p;){let m=a[d++],h=a[d++];try{f=m(f)}catch(v){h.call(this,v);break}}try{u=O9.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,p=l.length;d<p;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=ip(this.defaults,t);let n=I1(t.baseURL,t.url);return C1(n,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){yg.prototype[t]=function(n,r){return this.request(ip(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(ip(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}yg.prototype[t]=n(),yg.prototype[t+"Form"]=n(!0)});var F0=yg,w1=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});let r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i,s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new Qu(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new e(function(o){t=o}),cancel:t}}},Ywe=w1;function Vwe(e){return function(n){return e.apply(null,n)}}function zwe(e){return W.isObject(e)&&e.isAxiosError===!0}var y1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(y1).forEach(([e,t])=>{y1[t]=e});var Gwe=y1;function lJ(e){let t=new F0(e),n=H9(F0.prototype.request,t);return W.extend(n,F0.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return lJ(ip(e,o))},n}var Bn=lJ(D1);Bn.Axios=F0;Bn.CanceledError=Qu;Bn.CancelToken=Ywe;Bn.isCancel=tJ;Bn.VERSION=O0;Bn.toFormData=q0;Bn.AxiosError=we;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=Vwe;Bn.isAxiosError=zwe;Bn.mergeConfig=ip;Bn.AxiosHeaders=Vo;Bn.formToJSON=e=>eJ(W.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=cJ.getAdapter;Bn.HttpStatusCode=Gwe;Bn.default=Bn;uJ.exports=Bn});var fJ=O(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.AxiosHttpClient=void 0;var Kwe=dJ(),T1=class{constructor(t){this.endpoint=t}get(t){return Kwe.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};Y0.AxiosHttpClient=T1});var pJ=O(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.MemoryKeyValueStorage=void 0;var k1=class{constructor(){this.storage=new Map}async getValue(t,n){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(n||void 0)}setValue(t,n){this.storage.set(t,n)}};V0.MemoryKeyValueStorage=k1});var mJ=O(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});z0.ExperimentationServiceBase=void 0;var Jwe=pJ(),R1=class{get features(){return this._features}set features(t){this._features=t,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(t,n,r,o,i){this.telemetry=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=o,this.storage=i,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(i=new Jwe.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let o of t){for(let i of o.features)r.features.includes(i)||r.features.push(i);for(let i of o.configs){let s=r.configs.find(a=>a.Id===i.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),i.Parameters):r.configs.push(i)}r.assignmentContext+=o.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),n.features.includes(t)}getTreatmentVariable(t,n){this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${n}`);let r=this.features.configs.find(o=>o.Id===t);return r==null?void 0:r.Parameters[n]}async getTreatmentVariableAsync(t,n,r){if(r){let o=this.featuresConsumed,i=this.getTreatmentVariable(t,n);if(i===void 0)this.featuresConsumed=o;else return i}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,n)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let n of t)this.featureProviders.push(n)}};z0.ExperimentationServiceBase=R1});var hJ=O(G0=>{"use strict";Object.defineProperty(G0,"__esModule",{value:!0});G0.PollingService=void 0;var N1=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};G0.PollingService=N1});var gJ=O(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.ExperimentationServiceAutoPolling=void 0;var Xwe=mJ(),Zwe=hJ(),L1=class extends Xwe.ExperimentationServiceBase{constructor(t,n,r,o,i,s,a){if(super(t,o,i,s,a),this.telemetry=t,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=i,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new Zwe.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(t)}};K0.ExperimentationServiceAutoPolling=L1});var vJ=O(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.ExperimentationService=void 0;var Qwe=F7(),eye=fJ(),tye=gJ(),J0=class extends tye.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage),this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Qwe.TasApiFeatureProvider(new eye.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};X0.ExperimentationService=J0;J0.REFRESH_RATE_IN_MINUTES=30});var xJ=O(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});Z0.ExperimentationService=void 0;var nye=vJ();Object.defineProperty(Z0,"ExperimentationService",{enumerable:!0,get:function(){return nye.ExperimentationService}})});var wJ=O(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.MementoKeyValueStorage=void 0;var A1=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,n){return await this.mementoGlobalStorage.get(t)||n}setValue(t,n){this.mementoGlobalStorage.update(t,n)}};Q0.MementoKeyValueStorage=A1});var yJ=O(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});var F1=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,n){}getTreatmentVariableAsync(t,n){return Promise.resolve(void 0)}};O1.default=F1});var CJ=O(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.getExperimentationServiceAsync=Cg.getExperimentationService=void 0;var rye=qO(),oye=xJ(),U1=require("vscode"),iye=wJ(),sye=yJ(),aye="https://default.exp-tas.com/vscode/ab",cye="query-expfeature",lye="abexp.assignmentcontext",uye="VSCode.ABExp.FeatureData",dye=1e3*60*30;function EJ(e,t,n,r,o,...i){if(!o)throw new Error("Memento storage was not provided.");let s=U1.workspace.getConfiguration("telemetry");if(!(U1.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):U1.env.isTelemetryEnabled))return new sye.default;let l=[new rye.VSCodeFilterProvider(e,t,n),...i],u=new iye.MementoKeyValueStorage(o);return new oye.ExperimentationService({filterProviders:l,telemetry:r,storageKey:uye,keyValueStorage:u,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:lye,telemetryEventName:cye,endpoint:aye,refetchInterval:dye})}Cg.getExperimentationService=EJ;async function fye(e,t,n,r,o,...i){let s=EJ(e,t,n,r,o,...i);return await s.initializePromise,s}Cg.getExperimentationServiceAsync=fye});var _J=O(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.TargetPopulation=td.getExperimentationServiceAsync=td.getExperimentationService=void 0;var bJ=CJ();Object.defineProperty(td,"getExperimentationService",{enumerable:!0,get:function(){return bJ.getExperimentationService}});Object.defineProperty(td,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return bJ.getExperimentationServiceAsync}});var pye=qO();Object.defineProperty(td,"TargetPopulation",{enumerable:!0,get:function(){return pye.TargetPopulation}})});var jZ=O((gKe,lCe)=>{lCe.exports={name:"remote-containers",displayName:"%displayName%",description:"%description%",version:"0.384.0",publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.86.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"%capabilities.untrustedWorkspaces.description%"},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","devcontainer","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",l10n:"./l10n",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json",".devcontainer-internal.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"%configuration.title%",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"%configuration.defaultExtensions.deprecationMessage%",markdownDeprecationMessage:"%configuration.defaultExtensions.markdownDeprecationMessage%"},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"%configuration.defaultExtensions.description%",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensions.errorMessage%"}},"dev.containers.defaultExtensionsIfInstalledLocally":{scope:"application",type:"array",description:"%configuration.defaultExtensionsIfInstalledLocally.description%",default:["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensionsIfInstalledLocally.errorMessage%"}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"%configuration.defaultFeatures%",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"%configuration.workspaceMountConsistency.deprecationMessage%",markdownDeprecationMessage:"%configuration.workspaceMountConsistency.markdownDeprecationMessage%"},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["%configuration.workspaceMountConsistency.consistent%","%configuration.workspaceMountConsistency.cached%","%configuration.workspaceMountConsistency.delegated%"],description:"%configuration.workspaceMountConsistency.description%",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"%configuration.cacheVolume.deprecationMessage%",markdownDeprecationMessage:"%configuration.cacheVolume.markdownDeprecationMessage%"},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"%configuration.cacheVolume.description%",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"%configuration.copyGitConfig.deprecationMessage%",markdownDeprecationMessage:"%configuration.copyGitConfig.markdownDeprecationMessage%"},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"%configuration.copyGitConfig.markdownDescription%",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"%configuration.gitCredentialHelperConfigLocation.deprecationMessage%",markdownDeprecationMessage:"%configuration.gitCredentialHelperConfigLocation.markdownDeprecationMessage%"},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["%configuration.gitCredentialHelperConfigLocation.system%","%configuration.gitCredentialHelperConfigLocation.global%","%configuration.gitCredentialHelperConfigLocation.none%"],description:"%configuration.gitCredentialHelperConfigLocation.description%",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"%configuration.dockerCredentialHelper.markdownDescription%",default:!0},"dev.containers.mountWaylandSocket":{scope:"application",ignoreSync:!0,type:"boolean",markdownDescription:"%configuration.mountWaylandSocket.markdownDescription%",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"%configuration.logLevel.deprecationMessage%",markdownDeprecationMessage:"%configuration.logLevel.markdownDeprecationMessage%"},"dev.containers.logLevel":{scope:"application",type:"string",description:"%configuration.logLevel.description%",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"%configuration.dockerPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerPath.markdownDeprecationMessage%"},"dev.containers.dockerPath":{scope:"application",type:"string",description:"%configuration.dockerPath.description%",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"%configuration.dockerComposePath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerComposePath.markdownDeprecationMessage%"},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"%configuration.dockerComposePath.description%",default:"docker-compose"},"dev.containers.dockerSocketPath":{scope:"application",type:"string",description:"%configuration.dockerSocketPath.description%",default:"/var/run/docker.sock"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"%configuration.executeInWSL.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSL.markdownDeprecationMessage%"},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"%configuration.executeInWSL.description%",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"%configuration.executeInWSLDistro.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSLDistro.markdownDeprecationMessage%"},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"%configuration.executeInWSLDistro.markdownDescription%"},"dev.containers.forwardWSLServices":{scope:"application",type:"boolean",description:"%configuration.forwardWSLServices.description%",default:!0},"dotfiles.repository":{scope:"machine",type:"string",description:"%configuration.dotfiles.repository.description%"},"dotfiles.installCommand":{scope:"machine",type:"string",description:"%configuration.dotfiles.installCommand.description%"},"dotfiles.targetPath":{scope:"machine",type:"string",description:"%configuration.dotfiles.targetPath.description%",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"%configuration.dotfiles.repository.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.repository.markdownDeprecationMessage%"},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"%configuration.dotfiles.installCommand.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.installCommand.markdownDeprecationMessage%"},"remote.containers.dotfiles.targetPath":{scope:"machine",deprecationMessage:"%configuration.dotfiles.targetPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.targetPath.markdownDeprecationMessage%"},"remote.containers.repositoryConfigurationPaths":{scope:"application",deprecationMessage:"%configuration.repositoryConfigurationPaths.deprecationMessage%",markdownDeprecationMessage:"%configuration.repositoryConfigurationPaths.markdownDeprecationMessage%"},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"%configuration.repositoryConfigurationPaths.markdownDescription%",default:[],items:{type:"string"}},"dev.containers.experimentalLockfile":{scope:"application",type:"boolean",description:"%configuration.experimentalLockfile.description%",default:!1},"dev.containers.optimisticallyLaunchDocker":{scope:"application",type:"boolean",description:"%configuration.optimisticallyLaunchDocker.description%",default:!0}}},commands:[{command:"remote-containers.reopenInContainer",title:"%command.reopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildAndReopenInContainer",title:"%command.rebuildAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"%command.rebuildNoCacheAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.reopenLocally",title:"%command.reopenLocally%",category:"%command.category%"},{command:"remote-containers.reopenInWSL",title:"%command.reopenInWSL%",category:"%command.category%"},{command:"remote-containers.reopenInSSH",title:"%command.reopenInSSH%",category:"%command.category%"},{command:"remote-containers.reopenInTunnel",title:"%command.reopenInTunnel%",category:"%command.category%"},{command:"remote-containers.openFolder",title:"%command.openFolder%",category:"%command.category%",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openFolderInContainerInCurrentWindow",title:"%command.openFolderInContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.openFolderInContainerInNewWindow",title:"%command.openFolderInContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.openInformationAboutMountPerformance",title:"%command.openInformationAboutMountPerformance%",category:"%command.category%",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"%command.openRepositoryInVolume%",category:"%command.category%"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"%command.openRepositoryInUniqueVolume%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"%command.openRepositoryFromRemoteHubWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"%command.openRepositoryFromGitWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openPullRequestInVolume",title:"%command.openPullRequestInVolume%",category:"%command.category%"},{command:"remote-containers.inspectVolume",title:"%command.inspectVolume%",category:"%command.category%"},{command:"remote-containers.openWorkspace",title:"%command.openWorkspace%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainer",title:"%command.attachToRunningContainer%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"%command.attachToRunningContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.inspectVolumeFromViewlet",title:"%command.inspectVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"%command.cloneInVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cleanUpDevContainers",title:"%command.cleanUpDevContainers%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.pruneVolumes",title:"%command.pruneVolumes%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"%command.explorerVolumesRefresh%",category:"%command.category%",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"%command.attachToK8sContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.switchContainer",title:"%command.switchContainer%",category:"%command.category%"},{command:"remote-containers.rebuildContainer",title:"%command.rebuildContainer%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"%command.rebuildContainerNoCache%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"%command.createDevContainerFile%",category:"%command.category%"},{command:"remote-containers.createDevContainerFileWithCopilot",title:"%command.createDevContainerFileWithCopilot%",category:"%command.category%"},{command:"remote-containers.createDevContainer",title:"%command.createDevContainer%",category:"%command.category%"},{command:"remote-containers.settings",title:"%command.settings%",category:"%command.category%"},{command:"remote-containers.getHelp",title:"%command.getHelp%",category:"%command.category%"},{command:"remote-containers.getStarted",title:"%command.getStarted%",category:"%command.category%"},{command:"remote-containers.trySample",title:"%command.trySample%",category:"%command.category%"},{command:"remote-containers.reportIssue",title:"%command.reportIssue%",category:"%command.category%"},{command:"remote-containers.provideFeedback",title:"%command.provideFeedback%",category:"%command.category%"},{command:"remote-containers.openDevContainerFile",title:"%command.openDevContainerFile%",category:"%command.category%",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"%command.openAttachConfigByNameFile%",category:"%command.category%"},{command:"remote-containers.openAttachDevContainerFile",title:"%command.openAttachDevContainerFile%",category:"%command.category%"},{command:"remote-containers.revealLogTerminal",title:"%command.revealLogTerminal%",category:"%command.category%"},{command:"remote-containers.openLogFile",title:"%command.openLogFile%",category:"%command.developerCategory%"},{command:"remote-containers.openLastLogFile",title:"%command.openLastLogFile%",category:"%command.category%"},{command:"remote-containers.testConnection",title:"%command.testConnection%",category:"%command.developerCategory%"},{command:"remote-containers.attachToContainerInCurrentWindow",title:"%command.attachToContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.attachToContainerInNewWindow",title:"%command.attachToContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.stopContainer",title:"%command.stopContainer%",category:"%command.category%"},{command:"remote-containers.startContainer",title:"%command.startContainer%",category:"%command.category%",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"%command.removeContainer%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"%command.removeRecentFolder%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"%command.showDetails%",category:"%command.category%"},{command:"remote-containers.explorerTargetsRefresh",title:"%command.explorerTargetsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"%command.explorerDetailsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"%command.inspectDockerResource%",category:"%command.category%"},{command:"remote-containers.inspectInBasicDevContainer",title:"%command.inspectInBasicDevContainer%",category:"%command.category%"},{command:"remote-containers.cloneInVolume",title:"%command.cloneInVolume%",category:"%command.category%"},{command:"remote-containers.removeVolume",title:"%command.removeVolume%",category:"%command.category%"},{command:"remote-containers.newContainer",title:"%command.newContainer%",category:"%command.category%",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"%command.showContainerLog%",category:"%command.category%"},{command:"remote-containers.addExtensionToConfig",title:"%command.addExtensionToConfig%",category:"%command.category%"},{command:"remote-containers.checkoutPRInVolume",title:"%command.checkoutPRInVolume%",category:"%command.category%"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"%command.showReopenInContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"%command.showRecoveryContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.labelPortAndUpdateConfig",title:"%command.labelPortAndUpdateConfig%",category:"%command.category%",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"%command.installDocker%",category:"%command.category%"},{command:"remote-containers.installDockerInWSL",title:"%command.installDockerInWSL%",category:"%command.category%"},{command:"remote-containers.installUserCLI",title:"%command.installUserCLI%",category:"%command.category%"},{command:"remote-containers.configureContainerFeatures",title:"%command.configureContainerFeatures%",category:"%command.category%"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenLocally",when:"!hideConnectCommands && canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"!hideConnectCommands && canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"!hideConnectCommands && canReopenInSSH"},{command:"remote-containers.reopenInTunnel",when:"!hideConnectCommands && canReopenInTunnel"},{command:"remote-containers.openFolder",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.createDevContainer",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openWorkspace",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainer",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.switchContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.testConnection",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.trySample",when:"!hideConnectCommands && !remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"!hideConnectCommands && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"false"},{command:"remote-containers.attachToContainerInNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"false"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.installDockerInWSL",when:"!hideConnectCommands && isWindows && !remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_2_actions@0",when:"true"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"!hideConnectCommands"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"!hideConnectCommands"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_2_actions@6",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInSSH"},{command:"remote-containers.reopenInTunnel",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInTunnel"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@3"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@1"},{command:"remote-containers.cleanUpDevContainers",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@2"},{command:"remote-containers.newContainer",when:"!hideConnectCommands && view == dockerContainers",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"!hideConnectCommands && view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"!hideConnectCommands && view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"!hideConnectCommands && view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/",group:"1_pullrequest@3"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"!hideConnectCommands && remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@2"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@2"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@3"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"!hideConnectCommands && canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"!hideConnectCommands && canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"!hideConnectCommands && canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInTunnel",when:"!hideConnectCommands && canReopenInTunnel && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@1"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@2"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^running(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@3"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && !isWorkspaceScopedExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote|tunnel)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.dev-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.attached-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.exec.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.k8s-container.workspaceSuffix%"}}],views:{remote:[{id:"targetsContainers",name:"%views.remote.targetsContainers%",when:"!hideConnectCommands",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"%views.remote.detailsContainers%",when:"!hideConnectCommands && remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"%views.remote.devVolumes%",when:"!hideConnectCommands",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"%viewsWelcome.targetsContainers.needsDockerStartOrInstall%"},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"%viewsWelcome.targetsContainers.needsSSHCredentials%"},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithFolder%"},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithoutFolder%"},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:"%viewsWelcome.devVolumes.noDevVolumes%"}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":"copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dev-containers-cli","dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/adm-zip":"^0.5.4","@types/chai":"^4.3.10","@types/eslint":"^8.56.10","@types/follow-redirects":"^1.14.4","@types/js-yaml":"^4.0.9","@types/markdown-it":"^13.0.6","@types/minimist":"^1.2.5","@types/mocha":"^10.0.4","@types/ncp":"^2.0.8","@types/node":"^18.15.3","@types/pull-stream":"^3.6.5","@types/recursive-readdir":"^2.2.4","@types/semver":"^7.5.5","@types/stats-lite":"^2.2.2","@types/tar":"^6.1.9","@types/tar-stream":"^3.1.3","@types/vscode":"~1.75.0","@types/yargs":"^17.0.31","@typescript-eslint/eslint-plugin":"^6.11.0","@typescript-eslint/experimental-utils":"^5.62.0","@typescript-eslint/parser":"^6.11.0","@vscode/l10n-dev":"^0.0.30","@vscode/vsce":"^2.22.0",ajv:"^8.12.0",chai:"^4.3.10",copyfiles:"^2.4.1",esbuild:"^0.19.5",eslint:"^8.53.0","eslint-plugin-local":"^4.2.2","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^9.0.1",husky:"^8.0.3",jsonc:"^2.0.0",minimist:"^1.2.8",mocha:"^10.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.11.0","p-all":"^5.0.0",rimraf:"^5.0.5","stats-lite":"^2.2.0","ts-node":"^10.9.1",typescript:"^5.2.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^4.0.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#cf9f0eaf870f30c5da7d8e33abc2065b030a1180","@vscode/extension-telemetry":"^0.9.0","@vscode/l10n":"^0.0.16","adm-zip":"^0.5.10",applicationinsights:"^2.9.1","find-process":"^1.4.7","follow-redirects":"^1.15.6","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",muxrpc:"^6.7.3","node-pty":"^1.0.0","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.6.2","stream-to-pull-stream":"^1.7.3",tar:"^6.2.1","tar-stream":"^3.1.6","vscode-tas-client":"^0.1.75","vscode-uri":"^3.0.8",yargs:"~17.7.2"}}});var HCe={};Gg(HCe,{activate:()=>uCe,attachToContainer:()=>Hy,deactivate:()=>mCe});module.exports=Kg(HCe);var F=G(require("vscode")),WZ=G(Nr()),oe=require("vscode"),YZ=G(require("os")),YI=G(require("fs")),St=G(require("path")),VZ=G(require("querystring"));function Xg(e,t=!1){let n=e.length,r=0,o="",i=0,s=16,a=0,c=0,l=0,u=0,d=0;function p(x,w){let E=0,I=0;for(;E<x||!w;){let D=e.charCodeAt(r);if(D>=48&&D<=57)I=I*16+D-48;else if(D>=65&&D<=70)I=I*16+D-65+10;else if(D>=97&&D<=102)I=I*16+D-97+10;else break;r++,E++}return E<x&&(I=-1),I}function f(x){r=x,o="",i=0,s=16,d=0}function m(){let x=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&bp(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&bp(e.charCodeAt(r)))for(r++;r<e.length&&bp(e.charCodeAt(r));)r++;else return d=3,e.substring(x,r);let w=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&bp(e.charCodeAt(r))){for(r++;r<e.length&&bp(e.charCodeAt(r));)r++;w=r}else d=3;return e.substring(x,w)}function h(){let x="",w=r;for(;;){if(r>=n){x+=e.substring(w,r),d=2;break}let E=e.charCodeAt(r);if(E===34){x+=e.substring(w,r),r++;break}if(E===92){if(x+=e.substring(w,r),r++,r>=n){d=2;break}switch(e.charCodeAt(r++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let D=p(4,!0);D>=0?x+=String.fromCharCode(D):d=4;break;default:d=5}w=r;continue}if(E>=0&&E<=31)if(Jg(E)){x+=e.substring(w,r),d=2;break}else d=6;r++}return x}function v(){if(o="",d=0,i=r,c=a,u=l,r>=n)return i=n,s=17;let x=e.charCodeAt(r);if(VI(x)){do r++,o+=String.fromCharCode(x),x=e.charCodeAt(r);while(VI(x));return s=15}if(Jg(x))return r++,o+=String.fromCharCode(x),x===13&&e.charCodeAt(r)===10&&(r++,o+=`
`),a++,l=r,s=14;switch(x){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,o=h(),s=10;case 47:let w=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Jg(e.charCodeAt(r));)r++;return o=e.substring(w,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;let E=n-1,I=!1;for(;r<E;){let D=e.charCodeAt(r);if(D===42&&e.charCodeAt(r+1)===47){r+=2,I=!0;break}r++,Jg(D)&&(D===13&&e.charCodeAt(r)===10&&r++,a++,l=r)}return I||(r++,d=1),o=e.substring(w,r),s=13}return o+=String.fromCharCode(x),r++,s=16;case 45:if(o+=String.fromCharCode(x),r++,r===n||!bp(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o+=m(),s=11;default:for(;r<n&&g(x);)r++,x=e.charCodeAt(r);if(i!==r){switch(o=e.substring(i,r),o){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return o+=String.fromCharCode(x),r++,s=16}}function g(x){if(VI(x)||Jg(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){let x;do x=v();while(x>=12&&x<=15);return x}return{setPosition:f,getPosition:()=>r,scan:t?y:v,getToken:()=>s,getTokenValue:()=>o,getTokenOffset:()=>i,getTokenLength:()=>r-i,getTokenStartLine:()=>c,getTokenStartCharacter:()=>i-u,getTokenError:()=>d}}function VI(e){return e===32||e===9}function Jg(e){return e===10||e===13}function bp(e){return e>=48&&e<=57}var eM;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(eM||(eM={}));function zI(e,t,n){let r,o,i,s,a;if(t){for(s=t.offset,a=s+t.length,i=s;i>0&&!Zg(e,i-1);)i--;let x=a;for(;x<e.length&&!Zg(e,x);)x++;o=e.substring(i,x),r=CQ(o,n)}else o=e,r=0,i=0,s=0,a=e.length;let c=bQ(n,e),l=0,u=0,d;n.insertSpaces?d=_p(" ",n.tabSize||4):d="	";let p=Xg(o,!1),f=!1;function m(){return l>1?_p(c,l)+_p(d,r+u):c+_p(d,r+u)}function h(){let x=p.scan();for(l=0;x===15||x===14;)x===14&&n.keepLines?l+=1:x===14&&(l=1),x=p.scan();return f=x===16||p.getTokenError()!==0,x}let v=[];function g(x,w,E){!f&&(!t||w<a&&E>s)&&e.substring(w,E)!==x&&v.push({offset:w,length:E-w,content:x})}let y=h();if(n.keepLines&&l>0&&g(_p(c,l),0,0),y!==17){let x=p.getTokenOffset()+i,w=_p(d,r);g(w,i,x)}for(;y!==17;){let x=p.getTokenOffset()+p.getTokenLength()+i,w=h(),E="",I=!1;for(;l===0&&(w===12||w===13);){let k=p.getTokenOffset()+i;g(" ",x,k),x=p.getTokenOffset()+p.getTokenLength()+i,I=w===12,E=I?m():"",w=h()}if(w===2)y!==1&&u--,n.keepLines&&l>0||!n.keepLines&&y!==1?E=m():n.keepLines&&(E=" ");else if(w===4)y!==3&&u--,n.keepLines&&l>0||!n.keepLines&&y!==3?E=m():n.keepLines&&(E=" ");else{switch(y){case 3:case 1:u++,n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 5:n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 12:E=m();break;case 13:l>0?E=m():I||(E=" ");break;case 6:n.keepLines&&l>0?E=m():I||(E=" ");break;case 10:n.keepLines&&l>0?E=m():w===6&&!I&&(E="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&l>0?E=m():(w===12||w===13)&&!I?E=" ":w!==5&&w!==17&&(f=!0);break;case 16:f=!0;break}l>0&&(w===12||w===13)&&(E=m())}w===17&&(n.keepLines&&l>0?E=m():E=n.insertFinalNewline?c:"");let D=p.getTokenOffset()+i;g(E,x,D),y=w}return v}function _p(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function CQ(e,t){let n=0,r=0,o=t.tabSize||4;for(;n<e.length;){let i=e.charAt(n);if(i===" ")r++;else if(i==="	")r+=o;else break;n++}return Math.floor(r/o)}function bQ(e,t){for(let n=0;n<t.length;n++){let r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function Zg(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}var Qg;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Qg||(Qg={}));function tM(e,t){let n=[],r=new Object,o,i={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,d){i.value=c,i.offset=l,i.length=u,i.type=d,i.colonOffset=void 0,o=i}try{Xy(e,{onObjectBegin:(c,l)=>{if(t<=c)throw r;o=void 0,s=t>c,n.push("")},onObjectProperty:(c,l,u)=>{if(t<l||(a(c,l,u,"property"),n[n.length-1]=c,t<=l+u))throw r},onObjectEnd:(c,l)=>{if(t<=c)throw r;o=void 0,n.pop()},onArrayBegin:(c,l)=>{if(t<=c)throw r;o=void 0,n.push(0)},onArrayEnd:(c,l)=>{if(t<=c)throw r;o=void 0,n.pop()},onLiteralValue:(c,l,u)=>{if(t<l||(a(c,l,u,rM(c)),t<=l+u))throw r},onSeparator:(c,l,u)=>{if(t<=l)throw r;if(c===":"&&o&&o.type==="property")o.colonOffset=l,s=!1,o=void 0;else if(c===","){let d=n[n.length-1];typeof d=="number"?n[n.length-1]=d+1:(s=!0,n[n.length-1]=""),o=void 0}}})}catch(c){if(c!==r)throw c}return{path:n,previousNode:o,isAtPropertyKey:s,matches:c=>{let l=0;for(let u=0;l<c.length&&u<n.length;u++)if(c[l]===n[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function nM(e,t=[],n=Qg.DEFAULT){let r=null,o=[],i=[];function s(c){Array.isArray(o)?o.push(c):r!==null&&(o[r]=c)}return Xy(e,{onObjectBegin:()=>{let c={};s(c),i.push(o),o=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{o=i.pop()},onArrayBegin:()=>{let c=[];s(c),i.push(o),o=c,r=null},onArrayEnd:()=>{o=i.pop()},onLiteralValue:s,onError:(c,l,u)=>{t.push({error:c,offset:l,length:u})}},n),o[0]}function Jy(e,t=[],n=Qg.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(c){r.type==="property"&&(r.length=c-r.offset,r=r.parent)}function i(c){return r.children.push(c),c}Xy(e,{onObjectBegin:c=>{r=i({type:"object",offset:c,length:-1,parent:r,children:[]})},onObjectProperty:(c,l,u)=>{r=i({type:"property",offset:l,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:c,offset:l,length:u,parent:r})},onObjectEnd:(c,l)=>{o(c+l),r.length=c+l-r.offset,r=r.parent,o(c+l)},onArrayBegin:(c,l)=>{r=i({type:"array",offset:c,length:-1,parent:r,children:[]})},onArrayEnd:(c,l)=>{r.length=c+l-r.offset,r=r.parent,o(c+l)},onLiteralValue:(c,l,u)=>{i({type:rM(c),offset:l,length:u,parent:r,value:c}),o(l+u)},onSeparator:(c,l,u)=>{r.type==="property"&&(c===":"?r.colonOffset=l:c===","&&o(l))},onError:(c,l,u)=>{t.push({error:c,offset:l,length:u})}},n);let a=r.children[0];return a&&delete a.parent,a}function ev(e,t){if(!e)return;let n=e;for(let r of t)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let o=!1;for(let i of n.children)if(Array.isArray(i.children)&&i.children[0].value===r&&i.children.length===2){n=i.children[1],o=!0;break}if(!o)return}else{let o=r;if(n.type!=="array"||o<0||!Array.isArray(n.children)||o>=n.children.length)return;n=n.children[o]}return n}function Ky(e){switch(e.type){case"array":return e.children.map(Ky);case"object":let t=Object.create(null);for(let n of e.children){let r=n.children[1];r&&(t[n.children[0].value]=Ky(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function Xy(e,t,n=Qg.DEFAULT){let r=Xg(e,!1),o=[];function i(_){return _?()=>_(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(_){return _?()=>_(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}function a(_){return _?b=>_(b,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function c(_){return _?b=>_(b,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}let l=s(t.onObjectBegin),u=c(t.onObjectProperty),d=i(t.onObjectEnd),p=s(t.onArrayBegin),f=i(t.onArrayEnd),m=c(t.onLiteralValue),h=a(t.onSeparator),v=i(t.onComment),g=a(t.onError),y=n&&n.disallowComments,x=n&&n.allowTrailingComma;function w(){for(;;){let _=r.scan();switch(r.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:y||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(_){case 12:case 13:y?E(10):v();break;case 16:E(1);break;case 15:case 14:break;default:return _}}}function E(_,b=[],S=[]){if(g(_),b.length+S.length>0){let A=r.getToken();for(;A!==17;){if(b.indexOf(A)!==-1){w();break}else if(S.indexOf(A)!==-1)break;A=w()}}}function I(_){let b=r.getTokenValue();return _?m(b):(u(b),o.push(b)),w(),!0}function D(){switch(r.getToken()){case 11:let _=r.getTokenValue(),b=Number(_);isNaN(b)&&(E(2),b=0),m(b);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return w(),!0}function k(){return r.getToken()!==10?(E(3,[],[2,5]),!1):(I(!1),r.getToken()===6?(h(":"),w(),C()||E(4,[],[2,5])):E(5,[],[2,5]),o.pop(),!0)}function N(){l(),w();let _=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(_||E(4,[],[]),h(","),w(),r.getToken()===2&&x)break}else _&&E(6,[],[]);k()||E(4,[],[2,5]),_=!0}return d(),r.getToken()!==2?E(7,[2],[]):w(),!0}function R(){p(),w();let _=!0,b=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(b||E(4,[],[]),h(","),w(),r.getToken()===4&&x)break}else b&&E(6,[],[]);_?(o.push(0),_=!1):o[o.length-1]++,C()||E(4,[],[4,5]),b=!0}return f(),_||o.pop(),r.getToken()!==4?E(8,[4],[]):w(),!0}function C(){switch(r.getToken()){case 3:return R();case 1:return N();case 10:return I(!0);default:return D()}}return w(),r.getToken()===17?n.allowEmptyContent?!0:(E(4,[],[]),!1):C()?(r.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}function rM(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}function oM(e,t,n,r){let o=t.slice(),s=Jy(e,[]),a,c;for(;o.length>0&&(c=o.pop(),a=ev(s,o),a===void 0&&n!==void 0);)typeof c=="string"?n={[c]:n}:n=[n];if(a)if(a.type==="object"&&typeof c=="string"&&Array.isArray(a.children)){let l=ev(a,[c]);if(l!==void 0)if(n===void 0){if(!l.parent)throw new Error("Malformed AST");let u=a.children.indexOf(l.parent),d,p=l.parent.offset+l.parent.length;if(u>0){let f=a.children[u-1];d=f.offset+f.length}else d=a.offset+1,a.children.length>1&&(p=a.children[1].offset);return md(e,{offset:d,length:p-d,content:""},r)}else return md(e,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let u=`${JSON.stringify(c)}: ${JSON.stringify(n)}`,d=r.getInsertionIndex?r.getInsertionIndex(a.children.map(f=>f.children[0].value)):a.children.length,p;if(d>0){let f=a.children[d-1];p={offset:f.offset+f.length,length:0,content:","+u}}else a.children.length===0?p={offset:a.offset+1,length:0,content:u}:p={offset:a.offset+1,length:0,content:u+","};return md(e,p,r)}}else if(a.type==="array"&&typeof c=="number"&&Array.isArray(a.children)){let l=c;if(l===-1){let u=`${JSON.stringify(n)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:u};else{let p=a.children[a.children.length-1];d={offset:p.offset+p.length,length:0,content:","+u}}return md(e,d,r)}else if(n===void 0&&a.children.length>=0){let u=c,d=a.children[u],p;if(a.children.length===1)p={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===u){let f=a.children[u-1],m=f.offset+f.length,h=a.offset+a.length;p={offset:m,length:h-2-m,content:""}}else p={offset:d.offset,length:a.children[u+1].offset-d.offset,content:""};return md(e,p,r)}else if(n!==void 0){let u,d=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>c){let p=a.children[c];u={offset:p.offset,length:p.length,content:d}}else if(a.children.length===0||c===0)u={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let p=c>a.children.length?a.children.length:c,f=a.children[p-1];u={offset:f.offset+f.length,length:0,content:","+d}}return md(e,u,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${l} as length is not sufficient`)}else throw new Error(`Can not add ${typeof c!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return md(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function md(e,t,n){if(!n.formattingOptions)return[t];let r=Zy(e,t),o=t.offset,i=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;o>0&&!Zg(r,o-1);)o--;for(;i<r.length&&!Zg(r,i);)i++}let s=zI(r,{offset:o,length:i-o},{...n.formattingOptions,keepLines:!1});for(let c=s.length-1;c>=0;c--){let l=s[c];r=Zy(r,l),o=Math.min(o,l.offset),i=Math.max(i,l.offset+l.length),i+=l.content.length-l.length}let a=e.length-(r.length-i)-o;return[{offset:o,length:a,content:r.substring(o,i)}]}function Zy(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}var iM;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(iM||(iM={}));var sM;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(sM||(sM={}));var cM=tM,We=nM,hd=Jy,Ji=ev;var Qy=Ky;var aM;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(aM||(aM={}));function _n(e,t,n,r){return oM(e,t,n,r)}function wo(e,t){let n=t.slice(0).sort((o,i)=>{let s=o.offset-i.offset;return s===0?o.length-i.length:s}),r=e.length;for(let o=n.length-1;o>=0;o--){let i=n[o];if(i.offset+i.length<=r)e=Zy(e,i);else throw new Error("Overlapping edit");r=i.offset}return e}var Yt=G(require("fs")),ks=require("util");function gr(e){return new Promise(t=>Yt.stat(e,(n,r)=>t(!n&&r.isFile())))}function lM(e){return new Promise(t=>Yt.stat(e,(n,r)=>t(!n&&r.isDirectory())))}function uM(e){return new Promise(t=>Yt.stat(e,(n,r)=>t(!n&&r.isSocket())))}var ct=(0,ks.promisify)(Yt.readFile),eE=(0,ks.promisify)(Yt.writeFile),XCe=(0,ks.promisify)(Yt.appendFile),Kc=(0,ks.promisify)(Yt.rename),Jc=(0,ks.promisify)(Yt.readdir),dM=(0,ks.promisify)(Yt.unlink),Xi=e=>new Promise((t,n)=>Yt.mkdir(e,{recursive:!0},r=>r?n(r):t())),fM=(0,ks.promisify)(Yt.rmdir),Xc=(0,ks.promisify)(Yt.rm),ZCe=(0,ks.promisify)(Yt.copyFile);function gd(e,t,n,r=!1){let o=e.relative(t,n);return(r||!!o)&&!o.startsWith("..")&&!e.isAbsolute(o)}var Be=G(require("vscode")),Pr=require("vscode"),Ay=G(require("path"));var jl=G(require("path")),jm=G(Nr());var gM=G(require("os")),nv=G(require("fs")),vM=G(require("path"));var GI=require("events"),Rs=class{nodeEmitter=new GI.EventEmitter;disposables;constructor(...t){this.disposables=t}event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},tE=class{nodeEmitter=new GI.EventEmitter;event=t=>{let n=r=>r.results.push(t(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}};fire(t){let n=[];return this.nodeEmitter.emit("event",{data:t,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function pM(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:t,package:e,getTelemetryLevel:()=>"off"}}function vd(e){return e.replaceAll(/ghcr.io\/devcontainers\/([^/,]+)\/([^/,]+)/g,"devcontainers-$1:$2")}var vr=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(vr||{}),JI={info:3,debug:2,trace:1},IQ=Object.keys(JI).reduce((e,t)=>(e[JI[t]]=t,e),[]);function rE(e){return JI[e]||3}function to(e){return IQ[e]||3}var je={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Ns=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function xM(e,t){let n=!!t;return{event:r=>{n&&(n=!1,e.forEach(o=>o.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(o=>o.event(r))}}}function wM(e,t){let n=kQ(e);return{event(r){let o=TQ(r,t());o&&n.write(o)},join:n.join}}function yM(e,t,n){return{event(r){let o=PQ(r,t(),n.getTime());o&&e(o)}}}function Yn(e,t=2){return{event:e.event,write(n,r=t){e.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=t){e.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=t){let o=Date.now();return e.event({type:"start",level:r,timestamp:o,text:n}),o},stop(n,r,o=t){e.event({type:"stop",level:o,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function PQ(e,t,n){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${tv(mM,`${e.timestamp-n} ms`)}] ${nE(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${tv(AQ,`[${e.timestamp-n} ms] Start`)}: ${nE(e.text)}`:`[${tv(mM,`${e.timestamp-n} ms`)}] Start: ${nE(e.text)}`;case"stop":return 1>=t?`${tv(LQ,`[${e.timestamp-n} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${nE(e.text)}`:void 0;default:throw EM(e)}}function nE(e){return OQ(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function TQ(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${KI(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${KI(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${KI(e.text)}`:void 0;default:throw EM(e)}}function KI(e){return e.replace(Ns,"").replace(/(\r?\n)?$/,gM.EOL)}function EM(e){return new Error(`Unknown log event type: ${e.type}`)}function kQ(e){let t=[],n=!1,r,o;function i(){n=!1,o&&!t.length&&(r=void 0,o(),o=void 0)}function s(a,c=!1){if(a&&t.push(a),!c&&!n&&t.length){n=!0;let l=t.join("");t.length=0,nv.appendFile(e,l,u=>{u&&(u.code==="ENOENT"?nv.mkdir(vM.dirname(e),{recursive:!0},d=>{d?(i(),console.error(d)):nv.appendFile(e,l,p=>{i(),p&&console.error(p),s()})}):(i(),console.error(u))),i(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>o=a):Promise.resolve())}}var RQ="38;2;143;99;79",CM="38;2;99;143;79",NQ="38;2;86;156;214",LQ=RQ,AQ=CM,mM=CM,FQ=NQ;function tv(e,t){return t.split(`
`).map(n=>`\x1B[1m\x1B[${e}m${n}\x1B[39m\x1B[22m`).join(`
`)}function OQ(e){let t,n=0,r=[];for(Ns.lastIndex=0;t=Ns.exec(e);)r.push(hM(e.substring(n,t.index))),r.push(t[0]),n=Ns.lastIndex;return r.push(hM(e.substr(n))),r.join("")}function hM(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,o=[];for(;n=t.exec(e);)o.push(e.substring(r,n.index)),o.push(tv(FQ,n[0])),r=t.lastIndex;return o.push(e.substr(r)),o.join("")}function ft(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[31m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function XI(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[33m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var De=class extends Error{description;detail;step;originalError;manageContainer=!1;params;containerId;dockerParams;volumeName;repositoryPath;folderPath;containerProperties;config;actions=[];data={};constructor(t){var n;super(t.originalError&&t.originalError.message||t.description),Object.assign(this,t),this.actions||(this.actions=[]),this.data||(this.data={}),(n=this.originalError)!=null&&n.stack&&(this.stack=this.originalError.stack)}};var Se=G(require("path")),Fb=G(require("fs")),Az=G(cv()),ZR=require("string_decoder"),Il=G(hC());var Im=G(require("crypto")),Fz=G(wk()),Dl=G(Nr()),Oz=G(oq()),Uz=G(Xq());var Yle=G(require("path")),WR=require("string_decoder");var Cb=G(require("path")),KV=G(require("stream")),JV=G(require("os")),_m=G(require("child_process")),px=require("string_decoder");var UV=G(require("path")),MV=G(require("assert"));var Zq;(()=>{"use strict";var e={470:o=>{function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,l){for(var u,d="",p=0,f=-1,m=0,h=0;h<=c.length;++h){if(h<c.length)u=c.charCodeAt(h);else{if(u===47)break;u=47}if(u===47){if(!(f===h-1||m===1))if(f!==h-1&&m===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var v=d.lastIndexOf("/");if(v!==d.length-1){v===-1?(d="",p=0):p=(d=d.slice(0,v)).length-1-d.lastIndexOf("/"),f=h,m=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=h,m=0;continue}}l&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+c.slice(f+1,h):d=c.slice(f+1,h),p=h-f-1;f=h,m=0}else u===46&&m!==-1?++m:m=-1}return d}var a={resolve:function(){for(var c,l="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var p;d>=0?p=arguments[d]:(c===void 0&&(c=process.cwd()),p=c),i(p),p.length!==0&&(l=p+"/"+l,u=p.charCodeAt(0)===47)}return l=s(l,!u),u?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(c){if(i(c),c.length===0)return".";var l=c.charCodeAt(0)===47,u=c.charCodeAt(c.length-1)===47;return(c=s(c,!l)).length!==0||l||(c="."),c.length>0&&u&&(c+="/"),l?"/"+c:c},isAbsolute:function(c){return i(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,l=0;l<arguments.length;++l){var u=arguments[l];i(u),u.length>0&&(c===void 0?c=u:c+="/"+u)}return c===void 0?".":a.normalize(c)},relative:function(c,l){if(i(c),i(l),c===l||(c=a.resolve(c))===(l=a.resolve(l)))return"";for(var u=1;u<c.length&&c.charCodeAt(u)===47;++u);for(var d=c.length,p=d-u,f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var m=l.length-f,h=p<m?p:m,v=-1,g=0;g<=h;++g){if(g===h){if(m>h){if(l.charCodeAt(f+g)===47)return l.slice(f+g+1);if(g===0)return l.slice(f+g)}else p>h&&(c.charCodeAt(u+g)===47?v=g:g===0&&(v=0));break}var y=c.charCodeAt(u+g);if(y!==l.charCodeAt(f+g))break;y===47&&(v=g)}var x="";for(g=u+v+1;g<=d;++g)g!==d&&c.charCodeAt(g)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+l.slice(f+v):(f+=v,l.charCodeAt(f)===47&&++f,l.slice(f))},_makeLong:function(c){return c},dirname:function(c){if(i(c),c.length===0)return".";for(var l=c.charCodeAt(0),u=l===47,d=-1,p=!0,f=c.length-1;f>=1;--f)if((l=c.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?u?"/":".":u&&d===1?"//":c.slice(0,d)},basename:function(c,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');i(c);var u,d=0,p=-1,f=!0;if(l!==void 0&&l.length>0&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var m=l.length-1,h=-1;for(u=c.length-1;u>=0;--u){var v=c.charCodeAt(u);if(v===47){if(!f){d=u+1;break}}else h===-1&&(f=!1,h=u+1),m>=0&&(v===l.charCodeAt(m)?--m==-1&&(p=u):(m=-1,p=h))}return d===p?p=h:p===-1&&(p=c.length),c.slice(d,p)}for(u=c.length-1;u>=0;--u)if(c.charCodeAt(u)===47){if(!f){d=u+1;break}}else p===-1&&(f=!1,p=u+1);return p===-1?"":c.slice(d,p)},extname:function(c){i(c);for(var l=-1,u=0,d=-1,p=!0,f=0,m=c.length-1;m>=0;--m){var h=c.charCodeAt(m);if(h!==47)d===-1&&(p=!1,d=m+1),h===46?l===-1?l=m:f!==1&&(f=1):l!==-1&&(f=-1);else if(!p){u=m+1;break}}return l===-1||d===-1||f===0||f===1&&l===d-1&&l===u+1?"":c.slice(l,d)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(l,u){var d=u.dir||u.root,p=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+p:d+"/"+p:p}(0,c)},parse:function(c){i(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return l;var u,d=c.charCodeAt(0),p=d===47;p?(l.root="/",u=1):u=0;for(var f=-1,m=0,h=-1,v=!0,g=c.length-1,y=0;g>=u;--g)if((d=c.charCodeAt(g))!==47)h===-1&&(v=!1,h=g+1),d===46?f===-1?f=g:y!==1&&(y=1):f!==-1&&(y=-1);else if(!v){m=g+1;break}return f===-1||h===-1||y===0||y===1&&f===h-1&&f===m+1?h!==-1&&(l.base=l.name=m===0&&p?c.slice(1,h):c.slice(m,h)):(m===0&&p?(l.name=c.slice(1,f),l.base=c.slice(1,h)):(l.name=c.slice(m,f),l.base=c.slice(m,h)),l.ext=c.slice(f,h)),m>0?l.dir=c.slice(0,m-1):p&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,o.exports=a}},t={};function n(o){var i=t[o];if(i!==void 0)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(o,i)=>{for(var s in i)n.o(i,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:i[s]})},n.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{let o;n.r(r),n.d(r,{URI:()=>p,Utils:()=>R}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let i=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(C,_){if(!C.scheme&&_)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!i.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!s.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l="",u="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(_){return _ instanceof p||!!_&&typeof _.authority=="string"&&typeof _.fragment=="string"&&typeof _.path=="string"&&typeof _.query=="string"&&typeof _.scheme=="string"&&typeof _.fsPath=="string"&&typeof _.with=="function"&&typeof _.toString=="function"}scheme;authority;path;query;fragment;constructor(_,b,S,A,L,T=!1){typeof _=="object"?(this.scheme=_.scheme||l,this.authority=_.authority||l,this.path=_.path||l,this.query=_.query||l,this.fragment=_.fragment||l):(this.scheme=function($,H){return $||H?$:"file"}(_,T),this.authority=b||l,this.path=function($,H){switch($){case"https":case"http":case"file":H?H[0]!==u&&(H=u+H):H=u}return H}(this.scheme,S||l),this.query=A||l,this.fragment=L||l,c(this,T))}get fsPath(){return y(this,!1)}with(_){if(!_)return this;let{scheme:b,authority:S,path:A,query:L,fragment:T}=_;return b===void 0?b=this.scheme:b===null&&(b=l),S===void 0?S=this.authority:S===null&&(S=l),A===void 0?A=this.path:A===null&&(A=l),L===void 0?L=this.query:L===null&&(L=l),T===void 0?T=this.fragment:T===null&&(T=l),b===this.scheme&&S===this.authority&&A===this.path&&L===this.query&&T===this.fragment?this:new m(b,S,A,L,T)}static parse(_,b=!1){let S=d.exec(_);return S?new m(S[2]||l,I(S[4]||l),I(S[5]||l),I(S[7]||l),I(S[9]||l),b):new m(l,l,l,l,l)}static file(_){let b=l;if(o&&(_=_.replace(/\\/g,u)),_[0]===u&&_[1]===u){let S=_.indexOf(u,2);S===-1?(b=_.substring(2),_=u):(b=_.substring(2,S),_=_.substring(S)||u)}return new m("file",b,_,l,l)}static from(_){let b=new m(_.scheme,_.authority,_.path,_.query,_.fragment);return c(b,!0),b}toString(_=!1){return x(this,_)}toJSON(){return this}static revive(_){if(_){if(_ instanceof p)return _;{let b=new m(_);return b._formatted=_.external,b._fsPath=_._sep===f?_.fsPath:null,b}}return _}}let f=o?1:void 0;class m extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=y(this,!1)),this._fsPath}toString(_=!1){return _?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){let _={$mid:1};return this._fsPath&&(_.fsPath=this._fsPath,_._sep=f),this._formatted&&(_.external=this._formatted),this.path&&(_.path=this.path),this.scheme&&(_.scheme=this.scheme),this.authority&&(_.authority=this.authority),this.query&&(_.query=this.query),this.fragment&&(_.fragment=this.fragment),_}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(C,_,b){let S,A=-1;for(let L=0;L<C.length;L++){let T=C.charCodeAt(L);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||_&&T===47||b&&T===91||b&&T===93||b&&T===58)A!==-1&&(S+=encodeURIComponent(C.substring(A,L)),A=-1),S!==void 0&&(S+=C.charAt(L));else{S===void 0&&(S=C.substr(0,L));let $=h[T];$!==void 0?(A!==-1&&(S+=encodeURIComponent(C.substring(A,L)),A=-1),S+=$):A===-1&&(A=L)}}return A!==-1&&(S+=encodeURIComponent(C.substring(A))),S!==void 0?S:C}function g(C){let _;for(let b=0;b<C.length;b++){let S=C.charCodeAt(b);S===35||S===63?(_===void 0&&(_=C.substr(0,b)),_+=h[S]):_!==void 0&&(_+=C[b])}return _!==void 0?_:C}function y(C,_){let b;return b=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?_?C.path.substr(1):C.path[1].toLowerCase()+C.path.substr(2):C.path,o&&(b=b.replace(/\//g,"\\")),b}function x(C,_){let b=_?g:v,S="",{scheme:A,authority:L,path:T,query:$,fragment:H}=C;if(A&&(S+=A,S+=":"),(L||A==="file")&&(S+=u,S+=u),L){let Y=L.indexOf("@");if(Y!==-1){let J=L.substr(0,Y);L=L.substr(Y+1),Y=J.lastIndexOf(":"),Y===-1?S+=b(J,!1,!1):(S+=b(J.substr(0,Y),!1,!1),S+=":",S+=b(J.substr(Y+1),!1,!0)),S+="@"}L=L.toLowerCase(),Y=L.lastIndexOf(":"),Y===-1?S+=b(L,!1,!0):(S+=b(L.substr(0,Y),!1,!0),S+=L.substr(Y))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){let Y=T.charCodeAt(1);Y>=65&&Y<=90&&(T=`/${String.fromCharCode(Y+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){let Y=T.charCodeAt(0);Y>=65&&Y<=90&&(T=`${String.fromCharCode(Y+32)}:${T.substr(2)}`)}S+=b(T,!0,!1)}return $&&(S+="?",S+=b($,!1,!1)),H&&(S+="#",S+=_?H:v(H,!1,!1)),S}function w(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+w(C.substr(3)):C}}let E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function I(C){return C.match(E)?C.replace(E,_=>w(_)):C}var D=n(470);let k=D.posix||D,N="/";var R;(function(C){C.joinPath=function(_,...b){return _.with({path:k.join(_.path,...b)})},C.resolvePath=function(_,...b){let S=_.path,A=!1;S[0]!==N&&(S=N+S,A=!0);let L=k.resolve(S,...b);return A&&L[0]===N&&!_.authority&&(L=L.substring(1)),_.with({path:L})},C.dirname=function(_){if(_.path.length===0||_.path===N)return _;let b=k.dirname(_.path);return b.length===1&&b.charCodeAt(0)===46&&(b=""),_.with({path:b})},C.basename=function(_){return k.basename(_.path)},C.extname=function(_){return k.extname(_.path)}})(R||(R={}))})(),Zq=r})();var{URI:be,Utils:ei}=Zq;var Qq=G(require("path"));var gl=G(Nr());function Tt(e,t){if(Kv(t)){let n=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function Kv(e){return Qq.extname(e)===".code-workspace"}async function jC(e,t){if(t.isWorkspaceFile)try{let n=t.rootFolderPath,r=(await e.readFile(t.workspaceOrFolderPath)).toString(),i=We(r).folders;if(i&&i.length>0){for(let s of i){let a=s.path,c;if(a){if(e.path.isAbsolute(a))return gl.t("Workspace contains an absolute folder path '{0}'.",a);c=e.path.resolve(n,a)}else{let l=s.uri;return l?be.parse(l).scheme!=="file"?gl.t("Workspace contains folder '{0}' not on the local file system.",l):gl.t("Workspace contains an absolute folder path '{0}'.",l):gl.t("Workspace contains a folder that defines neither a path nor a URI.")}if(!zae(e,c,n))return gl.t("Folder '{0}' is not a subfolder of shared root folder '{1}'.",c,n)}return}return gl.t("Workspace does not define any folders")}catch(n){return gl.t("Problems loading workspace file {0}: {1}",t.workspaceOrFolderPath,n&&(n.message||n.toString()))}}function zae(e,t,n){return t===n?!0:!t||!n||n.length>t.length||t.length>n.length&&t.charAt(n.length)!==e.path.sep?!1:Gae(e.platform,n,t.substr(0,n.length))}function Gae(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var ir=G(require("path")),sb=G(hC()),NR=G(require("crypto")),ob=G(Jv()),RV=require("string_decoder");var LR=G(Nr());var pm=G(require("path"));async function rY(e,t){let n=await Ece(e),r=n["agent-socket"];if(!r){t.write("gpg-agent: No agent-socket found in container.");return}let o=n.homedir;try{let{stdout:a}=await e.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim()){t.write("gpg-agent: Private keys found in container, not forwarding.");return}}catch{}let i=!1,s=n["keyboxd-socket"];if(s)try{await e.exec(`grep -e '^s*use-keyboxds*$' '${o}/common.conf' 2>/dev/null`),i=!0}catch{}return{homedir:o,gpgSocket:r,keyboxdSocket:s,useKeyboxd:i}}async function oY(e,t,n,r){let o=await yce(e,r),i=o["agent-extra-socket"];if(!i){r.write(`gpg-agent: No agent-extra-socket found on ${e.type} host.`);return}let s=o.homedir,a=!1,c=o["keyboxd-socket"];if(c)try{let x=(await e.readFile(e.path.join(s,"common.conf"))).toString();a=/^\s*use-keyboxd\s*$/m.test(x)}catch{}let l=pm.posix.join(n.homedir,"pubring.kbx"),u=await Ja(t,l);u&&r.write(`GPG forwarding: ${l} exists in container.`);let d=pm.posix.join(n.homedir,"pubring.gpg"),p=await Ja(t,d);p&&r.write(`GPG forwarding: ${d} exists in container.`);let f=pm.posix.join(n.homedir,"trustdb.gpg"),m=await Ja(t,f);m&&r.write(`GPG forwarding: ${f} exists in container.`);let h=a&&n.keyboxdSocket&&!n.useKeyboxd&&!u&&!p,v=a&&(n.useKeyboxd||h),g=[],y=(async()=>{if(await t.exec(`mkdir -p -m 700 '${pm.posix.dirname(n.gpgSocket)}'`),v)h&&await t.exec(`mkdir -p -m 700 '${n.homedir}' && echo '
use-keyboxd' >> '${pm.posix.join(n.homedir,"common.conf")}'`);else if(a||n.useKeyboxd){if(!n.useKeyboxd&&!u&&!p||n.useKeyboxd&&(await t.exec("gpg --export --export-options backup")).stdout.trim().length===0){try{let x=await se({exec:e.exec,cmd:"gpg",args:["--export","--export-options","backup"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Bd(x.stdout.byteLength)} | gpg --import --import-options restore`,{stdin:x.stdout})}catch(w){r.write(`GPG forwarding: Failed to import public keys: ${w==null?void 0:w.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export public keys: ${x==null?void 0:x.message}`)}try{let x=await se({exec:e.exec,cmd:"gpgsm",args:["--export","--armor"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Bd(x.stdout.byteLength)} | gpgsm --import`,{stdin:x.stdout})}catch(w){r.write(`GPG forwarding: Failed to import certificates: ${w==null?void 0:w.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export certificates: ${x==null?void 0:x.message}`)}}}else u||await Hd(e,t,e.path.join(s,"pubring.kbx"),l,"gpg"),p||await Hd(e,t,e.path.join(s,"pubring.gpg"),d,"gpg"),m||await Hd(e,t,e.path.join(s,"trustdb.gpg"),f,"gpg");if((a||n.useKeyboxd)&&!m)try{let x=await se({exec:e.exec,cmd:"gpg",args:["--export-ownertrust"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Bd(x.stdout.byteLength)} | gpg --import-ownertrust`,{stdin:x.stdout})}catch(w){r.write(`GPG forwarding: Failed to import ownertrust: ${w==null?void 0:w.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export ownertrust: ${x==null?void 0:x.message}`)}await Cce(e,r)})();return{cliHost:e,remoteGpgSocket:n.gpgSocket,localGpgSocket:i,remoteKeyboxdSocket:v?n.keyboxdSocket:void 0,localKeyboxdSocket:v?c:void 0,importTasks:async()=>{await y;for(let x of g)await x()}}}async function yce(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"gpgconf",args:["--list-dirs"],output:t,print:!0});return n.toString().trim().split(/\r?\n/).reduce((r,o)=>{let i=o.indexOf(":");if(i!==-1){let s=decodeURIComponent(o.substring(i+1));e.platform==="win32"&&/^\/.\//.test(s)&&(s=`${s.charAt(1)}:${s.substring(2).replace(/\//g,"\\")}`),r[o.substring(0,i)]=s}return r},{})}catch{return{}}}async function Ece(e){try{let{stdout:t}=await e.exec("gpgconf --list-dirs");return t.trim().split(`
`).reduce((n,r)=>{let o=r.indexOf(":");return o!==-1&&(n[r.substring(0,o)]=decodeURIComponent(r.substring(o+1))),n},{})}catch{return{}}}async function Cce(e,t){try{await se({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}var aY=G(require("path"));async function Xv(e,t,n){if(!("exec"in e)){for(let r=t,o="";r!==o;o=r,r=e.path.dirname(r))if(await e.isFile(e.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:n}),o=r.toString().trim();return e.path.resolve(t,o)}catch{return}}async function uR(e,t,n,r){try{return await se({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",env:n,output:r,print:"onerror"}),!0}catch(o){return(o==null?void 0:o.code)==="ENOENT"?void 0:!1}}async function cY(e,t,n,r,o){let i=r[1],s={get:"fill",store:"approve",erase:"reject"}[i];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${i}`);let a=await iY(n?e:t,s,o).catch(c=>{if(n)throw c});return!n&&(a==null?void 0:a.code)!==0&&(a=await iY(e,s,o),a.code===0&&(n=!0)),{result:a,preferLocalCLIHost:n}}async function iY({exec:e},t,n){try{let{stdout:r,stderr:o}=await se({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:je});return{stdout:r.toString(),stderr:o.toString(),code:0}}catch(r){if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:o,stderr:i,code:s}=r;return{stdout:o.toString(),stderr:i.toString(),code:s||0}}}async function lY(e,t,n){let r=await dR(e,t,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let o=r.indexOf("/");if(o===-1)return;let i=r.substr(0,o),s=r.substr(o+1);try{let{stdout:a}=await se({exec:e.exec,cmd:"git",args:["remote","get-url",i],cwd:t.rootFolderPath,output:n}),c=a.toString().trim();if(c.endsWith(".git")&&(c=c.substr(0,c.length-4)),c.startsWith("https://github.com/")){let l=await Dce(e,t,i,n);if(l&&s!==l)return`${c}/tree/${s}`}return c}catch{return}}async function WC(e,t,n){if(!("exec"in e)){let o=await Xv(e,t.rootFolderPath,n);if(!o)return;try{return(await e.readFile(e.path.join(o,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(i){if((i==null?void 0:i.code)!=="ENOENT")throw i;return[]}}let r;try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:n});r=o.toString()}catch{return}return Array.from(new Set(bce(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function bce(e,t,n){return{[Symbol.iterator]:function*(){let r;for(;r=e.exec(t);)yield r[n],e.lastIndex===r.index&&e.lastIndex++}}}async function uY(e,t,n){return await _ce(e,t,n)||Sce(e,t,n)}async function _ce(e,t,n){try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function Sce(e,t,n){let r=await dR(e,t,n);if(r)try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:t.rootFolderPath,output:n});return!!o.toString().trim()}catch{return}}async function dY(e,t,n,r){let o=await dR(e,t,r);if(!o)return!1;try{let i=e.platform==="win32"?n.replace(/\\/g,"/"):n;return await se({exec:e.exec,cmd:"git",args:["cat-file","-e",`${o}:${i}`],cwd:t.rootFolderPath,output:r}),!0}catch{return!1}}async function dR(e,t,n){try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function Dce(e,t,n,r){try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["remote","show",n],cwd:t.rootFolderPath,output:r});return(o.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function fY(e,t,n,r,o,i){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[r.tokenEnvVar]}:r.env,c=[];if(r.fullClone||c.push("--depth","1"),r.branch&&c.push("--branch",r.branch),r.recurseSubmodules&&c.push("--recurse-submodules"),t.type==="container"&&r.url.startsWith("file:")){let d=t.path.join(be.parse(r.url).path,".git");await Hs({ptyExec:t.ptyExec,cmd:"git",args:["config","--global","--add","safe.directory",d],cwd:n,env:a,output:Yn(o,3)})}let l=Hs({ptyExec:t.ptyExec,cmd:"git",args:["clone",...c,r.url,"."],cwd:n,env:a,output:Yn(o,3)}),u=r.fullClone?l:(async()=>(await l,await Hs({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:i}),Hs({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:i})))();return{gitClone:l,gitUnshallow:u}}async function YC(e,t,n){await Zv(e,t,[".gitconfig"],"git"," && grep -e '^\\[' ~/.gitconfig | grep -v -E '^\\[(filter|safe)([[:blank:]]+|\\])'"),await Ice(e,t,n),await Pce(e,t.shellServer)}var pY=["git","config"];async function Ice(e,t,n){let{cliHost:r}=e,o=await sY(r);if(!await r.isFile(o)&&(r.type==="local"||(r=await io(process.cwd(),e.loadNativeModule,e.output),o=await sY(r),!await r.isFile(o))))return;let i=(async()=>{let s=await n,a=s.XDG_CONFIG_HOME?[s.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return aY.posix.join(...a,...pY)})();await Hd(r,t.shellServer,o,i,"git")}async function sY(e){let{env:t}=e,n=t.XDG_CONFIG_HOME?[t.XDG_CONFIG_HOME]:[await e.homedir(),".config"];return e.path.join(...n,...pY)}async function Pce(e,t){await t.exec(`# Cleaning up git config
for key in core.editor core.sshCommand gpg.program
do
	value="$(git config --global --get $key)"
	executable="\${value%% *}"
	([ -z "$executable" ] || [ "$executable" = "${e.product.applicationName}" ]) && continue
	command -v "$executable" >/dev/null 2>&1 || (echo "Removing Git config key: $key = $value" && git config --global --unset $key)
done
git config --global --unset http.sslBackend || true`)}var xl=require("stream");async function mY(e,t){let{stdout:n}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let o=r.indexOf("=");return o!==-1?[r.slice(0,o),r.slice(o+1)]:[]}).reduce((r,[o,i])=>(o&&(r[o]=i),r),{})}async function fR(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await e.exec(t,{logOutput:!1}),r=6,o=n.split(`
---
`),i=o.pop().trim();return{processes:o.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,c,l,u,d,p])=>{let f=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:f[1],pgrp:f[2],cwd:c,mntNS:l,cmd:p.replace(/\0/g," "),env:d.split("\0").reduce((m,h)=>{let v=h.indexOf("=");return v!==-1&&(m[h.substr(0,v)]=h.substr(v+1)),m},{})}}),mntNS:i}}function hY(e){let t={};return e.forEach(n=>t[n.pid]={process:n,childProcesses:[]}),e.filter(n=>n.ppid).forEach(n=>{var r;return(r=t[n.ppid])==null?void 0:r.childProcesses.push(t[n.pid])}),t}function pR(e,t="  ",n="  "){return`${n}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(r=>pR(r,t,n+t))}`}var Ti=G(require("path")),wY=G(require("fs"));async function So(e,t=process.cwd(),n=process.env){if(process.platform!=="win32")return e;if(Ti.isAbsolute(e))return await mR(e)||e;if(/[/\\]/.test(e)){let s=Ti.join(t,e);return await mR(s)||s}let r,o;if(n){for(let s of Object.keys(n))if(s.toLowerCase()==="path"){let a=n[s];typeof a=="string"&&(r=a,o=a.split(Ti.delimiter).filter(Boolean),o.push(Ti.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){let s=new Error(`No PATH to look up executable '${e}'.`);throw s.code="ENOENT",s}for(let s of o){let a;Ti.isAbsolute(s)?a=Ti.join(s,e):a=Ti.join(t,s,e);let c=await mR(a);if(c)return c}let i=new Error(`Exectuable '${e}' not found on PATH '${r}'.`);throw i.code="ENOENT",i}var gY=process.env.PATHEXT,vY=gY?gY.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function mR(e){if(vY.indexOf(Ti.extname(e))!==-1)return await xY(e)?e:void 0;for(let t of vY){let n=e+t;if(await xY(n))return n}}function xY(e){return new Promise(t=>wY.stat(e,(n,r)=>t(!n&&r.isFile())))}var hR="dev-containers-",yY="credentials not found in native keychain";async function bY(e,t,n,r,o,i){let s=await EY(n?e:t,r,o,i).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await EY(e,r,o,i),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function EY(e,t,n,r){let o,i=t[1];try{let s=i==="store"?JSON.parse(n).ServerURL:n.trim(),a=await Tce(e,s,r);if(!a)return{stdout:i==="get"?yY:"Docker credential helper not found.",stderr:"",code:1};if("identitytoken"in a)return i!=="get"?{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1}:{stdout:JSON.stringify({ServerURL:s,Username:"<token>",Secret:a.identitytoken}),stderr:"",code:0};if("auth"in a){if(i!=="get")return{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1};let[u,d]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:u,Secret:d}),stderr:"",code:0}}o=`docker-credential-${a.helper}`;let{stdout:c,stderr:l}=await se({exec:e.exec,cmd:o,args:t.slice(1),stdin:Buffer.from(n),output:je});return{stdout:c.toString(),stderr:l.toString(),code:0}}catch(s){if(o&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:i==="get"?yY:`Docker credential helper '${o}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:c,code:l}=s;return{stdout:a.toString(),stderr:c.toString(),code:l||0}}}async function Tce(e,t,n){var o,i,s,a,c;n.write(`Looking up Docker credential helper for '${t}'.`);try{let l=We((await e.readFile(e.path.join(await e.homedir(),".docker","config.json"))).toString()),u=be.parse(t).authority||t,d=(o=l==null?void 0:l.credHelpers)==null?void 0:o[u];if(d)return{helper:d};let p=(s=(i=l==null?void 0:l.auths)==null?void 0:i[t])==null?void 0:s.identitytoken;if(p)return{identitytoken:p};let f=(c=(a=l==null?void 0:l.auths)==null?void 0:a[t])==null?void 0:c.auth;if(f)return{auth:f};if(l!=null&&l.credsStore)return{helper:l.credsStore}}catch(l){(l==null?void 0:l.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(l==null?void 0:l.message)||String(l)}.`)}let r=await _Y(e);return r?{helper:r}:void 0}async function gR(e,t){let n=e.path.join(await e.homedir(),".docker","config.json");try{let r=await e.readFile(n),o=We(r.toString());return!!(o!=null&&o.credsStore)||Object.keys((o==null?void 0:o.credHelpers)||{}).some(i=>{var s;return(s=o==null?void 0:o.credHelpers)==null?void 0:s[i]})||Object.keys((o==null?void 0:o.auths)||{}).some(i=>{var s,a;return(a=(s=o==null?void 0:o.auths)==null?void 0:s[i])==null?void 0:a.auth})||CY(e)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(t.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):CY(e)}}async function CY(e){let t=await _Y(e);return!!t&&await kce(e,`docker-credential-${t}`)}async function _Y(e){if(e.platform==="darwin")return"osxkeychain";if(e.platform==="win32")return"wincred";if(e.platform==="linux")try{return await se({exec:e.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:je}),"pass"}catch{return"secretservice"}}async function kce(e,t){try{return e.platform==="win32"?!!await So(t,e.cwd,e.env):(await se({exec:e.exec,cmd:"/bin/sh",args:["-c",`command -v '${t}' >/dev/null 2>&1`],output:je}),!0)}catch{return!1}}function vl(e){return`remote.containers.${e}`}function rs(e){return`dev.containers.${e}`}var xR=G(require("path"));var Rce=G(require("http")),Nce=G(require("https"));function vR(e,t={}){return new Promise((n,r)=>{let o=e.startsWith("https:")?Nce:Rce,i;if(Object.keys(t).length>0){let a=new URL(e);i={headers:t,host:a.host,path:a.pathname}}o.get(i??e,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&n(vR(l,t))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>n(Buffer.concat(l)))}}).on("error",r)})}async function $r(e){let t=await ct(xR.join(e,"package.json"),"utf8");return JSON.parse(t)}async function Qv(e){let t=await ct(xR.join(e,"product.json"),"utf8"),n=JSON.parse(t);return n.commit||(n.commit=await ex(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function ex(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,n=await vR(t);return JSON.parse(n.toString()).version}function VC(e){return["bin",e.serverApplicationName]}var wle=EV(),TV=tb(),RR=DV(),yle=PV();async function ab(e,t,n){var A,L,T,$,H,Y;let{cliHost:r,wslCLIHost:o,output:i}=e,{shellServer:s,launchRootShellServer:a}=t,c="Launching Dev Containers helper.",l=i.start(c);if(wl)return i.stop(c,l),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let u=[r];r.type!=="local"&&u.push(await io(process.cwd(),e.loadNativeModule,i)),r.type!=="wsl"&&o&&u.push(o);let d=NR.randomUUID(),p={},f=await kV(u,J=>Tle(J,i)),m=f?ir.posix.join(((A=t.env)==null?void 0:A.TMPDIR)||"/tmp",`vscode-ssh-auth-${d}.sock`):void 0;f&&(p[m]=f,i.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${f.cliHost.type} host (${f.unparsed}).`));let h=(L=t.env)!=null&&L.DISPLAY?void 0:Ele(u,J=>kle(J,i)),v=-1,g;if(h)do g=ir.posix.join(((T=t.env)==null?void 0:T.TMPDIR)||"/tmp",".X11-unix",`X${++v}`);while(await ble(s,g));let y=h?`:${v}`:void 0;h&&(await s.exec(`mkdir -p '${ir.posix.dirname(g)}'`),p[g]=h,i.write(`X11 forwarding: DISPLAY in container (${y}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`));let x=await rY(t.shellServer,i),w=x?await kV(u,J=>oY(J,t.shellServer,x,i)):void 0;w&&(p[w.remoteGpgSocket]={name:"gpg-agent",unparsed:w.localGpgSocket,cliHost:w.cliHost,connectTo:{socketPath:w.localGpgSocket}},i.write(`gpg-agent: Socket in container (${w.remoteGpgSocket}) forwarded to ${w.cliHost.type} host (${w.localGpgSocket}).`),w.localKeyboxdSocket&&w.remoteKeyboxdSocket&&(p[w.remoteKeyboxdSocket]={name:"keyboxd",unparsed:w.localKeyboxdSocket,cliHost:w.cliHost,connectTo:{socketPath:w.localKeyboxdSocket}},i.write(`GPG keyboxd: Socket in container (${w.remoteKeyboxdSocket}) forwarded to ${w.cliHost.type} host (${w.localKeyboxdSocket}).`)));let E=ir.posix.join((($=t.env)==null?void 0:$.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${d}.sock`),I=ir.posix.join(((H=t.env)==null?void 0:H.TMPDIR)||"/tmp",`vscode-remote-containers-server-${d}.js`),D=ir.posix.join(((Y=t.env)==null?void 0:Y.TMPDIR)||"/tmp",`vscode-remote-containers-${d}.js`),N=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??e.isDockerCredentialHelperEnabled)&&a&&await Cle(s,"docker")?ir.posix.join("/usr/local/bin",`docker-credential-${hR}${d}`):void 0,R=u.find(J=>J.type==="local"),C=NV(e,t,"Container",void 0,!1,!1,I,D,N,p,E,R),_=C.then(async J=>{await J.ready,await(w==null?void 0:w.importTasks())}),b=C.then(J=>J.mrpcExec),S=C.then(J=>J.mrpcPtyExec);return _.catch(console.error),e.onAdoptProcess(J=>Rle(t.shellServer,E,m,g,J).catch(console.error)),i.stop(c,l),{remoteContainersCLI:D,remoteEnv:{REMOTE_CONTAINERS_IPC:E,...m?{SSH_AUTH_SOCK:m}:void 0,...y?{DISPLAY:y}:void 0,...g?{REMOTE_CONTAINERS_DISPLAY_SOCK:g}:void 0},mrpcExec:b,mrpcPtyExec:S,ready:_,reconnect:()=>C.then(J=>J.reconnect())}}function Ele(e,t){for(let n of e){let r=t(n);if(r)return r}}async function kV(e,t){for(let n of e){let r=await t(n);if(r)return r}}async function Cle(e,t){try{return await e.exec(`command -v ${t} >/dev/null 2>&1`),!0}catch{return!1}}async function ble(e,t){try{return await e.exec(`test -e ${t}`),!0}catch{return!1}}async function ix(e,t,n,r,o){let{passwdUser:i,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:d,reconnect:p,terminate:f}=await NV(e,{remoteExec:t,platform:o},"Host",n,!0,r,void 0);return{passwdUser:i,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:d,reconnect:p,terminate:f}}async function NV(e,t,n,r,o,i,s,a,c,l,u,d){let{cliHost:p,product:f,output:m}=e,{remoteExec:h,platform:v,nodeExecutable:g,launchRootShellServer:y}=t,x=a&&ct(ir.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),w=ct(ir.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),E=await Vt(h,m,void 0,v,n),I=o?await Wd(E,await yl(E)):void 0,D=(await E.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],k=!0;if(!g||!s){let _=E.path.join(D,".vscode-remote-containers");g||(g=await Nle(e,E,_,D,f,i)),s||(s=E.path.join(_,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await Ja(E,s)?k=!1:await E.exec(`mkdir -p '${E.path.dirname(s)}'`))}if(a){let _=`EOF-${a}`;await E.exec(`cat <<'${_}' >${a}
${await x}
${_}
`)}if(c&&y&&((p==null?void 0:p.type)!=="local"&&d&&await gR(d,m)||p&&await gR(p,m))){let _=(await E.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,b=We(_);if(!(b!=null&&b.credsStore)||b.credsStore.startsWith(hR)){let S=await y(),A=`EOF-${c}`;await S.exec(`mkdir -p ${ir.posix.dirname(c)} && cat <<'${A}' >${c}
#!/bin/sh
${g} ${a} docker-credential-helper $@
${A}
`),await S.exec(`chmod +x ${c}`);let L=_n(_,["credsStore"],ir.posix.basename(c).substring(18),{formattingOptions:{}}),T=wo(_,L);await E.exec(`mkdir -p ~/.docker && cat <<'${A}' >~/.docker/config.json
${T}
${A}
`)}}if(k){let _=`EOF-${s}`,b=`${s}_${Date.now()}`;await E.exec(`cat <<'${_}' >${b}
${await w}
${_}
mv ${b} ${s}`)}let N=()=>_le(e,n,E,g,s,l,u,d),R=await N(),C;return{ready:R.ready,passwdUser:I,nodeExecutable:g,homeFolder:D,mrpcExec:Dle(()=>R.mrpc,n,r||D),mrpcPtyExec:Ile(()=>R.mrpc,n,r||D),mrpcExecToEnd:Ple(()=>R.mrpc,n,r||D),setBaseEnv:_=>new Promise((b,S)=>{C=_,R.mrpc.setBaseEnv(_,A=>A?S(A):b())}),connect:R.mrpc.connect,reconnect:async()=>{let _=`${n}: Reconnecting exec server`,b=m.start(_);await R.process.terminate().catch(()=>{}),E=await Vt(h,m,void 0,void 0,n),R=await N(),C&&await new Promise((S,A)=>{R.mrpc.setBaseEnv(C,L=>L?A(L):S())}),m.stop(_,b)},terminate:()=>R.process.terminate()}}async function _le(e,t,n,r,o,i,s,a){let{cliHost:c,output:l}=e,u=Object.keys(i||{}),d={...u.reduce((D,k)=>(D[k]="duplex",D),{}),rpc:"async",connected:"async",ready:"async"},p={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},f=n.process,m=`set -e ; echo -n ${ti} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${o}'
`;f.stdin.write(m);let h,v=new Promise(D=>h=D),g=new RV.StringDecoder;f.stderr.on("data",D=>{let k=g.write(D).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let N=k.indexOf(ti);N!==-1&&(h(),h=void 0,k=k.substr(0,N)+k.substr(N+1))}k&&l.write(ft(`${t} server: ${k}`))}),f.exit.then(({code:D,signal:k})=>{l.write(`${t} server terminated (code: ${D}, signal: ${k}).`)},D=>{l.write(`${t} server did not launch or terminated: ${(D==null?void 0:D.stack)||(D==null?void 0:D.message)||String(D)}`)});let y=(c==null?void 0:c.type)==="local",x={git:y,docker:y},w,E=new Promise(D=>w=D),I=wle(p,d)({...u.reduce((D,k)=>{let N=i[k];return D[k]=Sle(e,N),D},{}),rpc:async(D,k)=>{try{let{args:N,stdin:R}=JSON.parse(D);if(N[0]==="git-credential-helper"){let C=await cY(a,c,x.git,N,R);x.git=C.preferLocalCLIHost,k(void 0,JSON.stringify(C.result))}else if(N[0]==="docker-credential-helper"){let C=await bY(a,c,x.docker,N,R,l);x.docker=C.preferLocalCLIHost,k(void 0,JSON.stringify(C.result))}}catch(N){console.error(N),k(N)}},connected:D=>{D()},ready:D=>{w(),D()}});return(0,ob.default)(TV.source(f.stdout),I.createStream(),TV.sink(f.stdin)),await Promise.race([v,f.exit.then(({code:D,signal:k})=>{throw new Error(`${t} server terminated (code: ${D}, signal: ${k}).`)})]),{ready:E,mrpc:I,process:f}}function Sle(e,t){let{sendTelemetryEvent:n,output:r}=e,o=!1;function i(s){if(!o&&s instanceof Error&&s.code==="ENOENT"&&(o=!0,r.event({type:"notification",message:LR.t("Could not connect to {0} on {1} host ({2}). Make sure the service is running.",t.name,t.cliHost.type,t.unparsed)}),n)){let a={serviceName:t.name,hostType:t.cliHost.type,hostPlatform:t.cliHost.platform},c=t.cliHost.authority;if(c){let l=c.indexOf("+");l!==-1&&(a.hostAuthority=c.substring(0,l))}n("serviceConnectionFailure",a)}}return()=>{let s=t.cliHost.connect(t.connectTo);return{sink:a=>{s.sink((c,l)=>{i(c),a(c,l)})},source:(a,c)=>{s.source(a,(l,u)=>{i(l),c(l,u)})}}}}function Dle(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),p=await new Promise((f,m)=>{d.exec({cmd:o,args:i,cwd:s||n,env:a},(h,v)=>{h?m(h):f(v)})});return{stdin:RR.sink(d.stdin(p,f=>{f&&f.message!=="unexpected end of parent stream"&&console.error(f)})),stdout:RR.source(d.stdout(p)),stderr:RR.source(d.stderr(p)),exit:new Promise((f,m)=>{d.exit(p,(h,v)=>{var g;c.stop(l,u),h?((g=h.message)!=null&&g.endsWith("ENOENT")&&!h.code&&(h.code="ENOENT"),m(h)):f(v)})}),terminate:async()=>new Promise((f,m)=>{d.terminate(p,h=>{h?m(h):f()})})}}}function Ile(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),p=await new Promise((v,g)=>{var y,x;d.ptyExec({cmd:o,args:i,cwd:s||n,env:a,rows:(y=c.dimensions)==null?void 0:y.rows,cols:(x=c.dimensions)==null?void 0:x.columns},(w,E)=>{w?g(w):v(E)})}),f=[c.onDidChangeDimensions&&c.onDidChangeDimensions(v=>d.ptyResize(p,v.columns,v.rows))],m=yle();(0,ob.default)(m,d.ptyIn(p,v=>{v&&v.message!=="unexpected end of parent stream"&&console.error(v)}));let h=new Rs;return(0,ob.default)(d.ptyOut(p),v=>{v(null,function g(y,x){if(y!==!0){if(y)throw y;h.fire(x),v(null,g)}})}),{write:v=>m.push(v),onData:h.event,resize:(v,g)=>d.ptyResize(p,v,g),exit:new Promise((v,g)=>{d.ptyExit(p,(y,x)=>{f.forEach(w=>w==null?void 0:w.dispose()),c.stop(l,u),y?g(y):v(x)})}),terminate:async()=>new Promise((v,g)=>{d.ptyTerminate(p,y=>{y?g(y):v()})})}}}function Ple(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e();return new Promise((p,f)=>{d.execToEnd({cmd:o,args:i,cwd:s||n,env:a},(m,h)=>{if(c.stop(l,u),m||!h)f({stdin:new xl.Writable,stdout:xl.Readable.from([]),stderr:xl.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let v=xl.Readable.from([Buffer.from(h.stdout.data)]),g=new Promise(w=>v.on("end",w)),y=xl.Readable.from([Buffer.from(h.stderr.data)]),x=new Promise(w=>y.on("end",w));p({stdin:new xl.Writable,stdout:v,stderr:y,exit:Promise.all([g,x]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var rx="\\\\.\\pipe\\openssh-ssh-agent";async function AR(e){return e.platform==="win32"&&e.isFile(rx)}async function Tle(e,t){let n=e.env.SSH_AUTH_SOCK;if(n)return{name:"ssh-agent",unparsed:n,cliHost:e,connectTo:{socketPath:n}};if(t.write(`ssh-agent: SSH_AUTH_SOCK not set on ${e.type} host.`),await AR(e))return{name:"ssh-agent",unparsed:rx,cliHost:e,connectTo:{socketPath:rx}}}function kle(e,t){let n=e.env.DISPLAY,r=n==null?void 0:n.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(r!=null&&r.groups){let{hostOrPath:o,display:i}=r.groups,s=LR.t("X11 display");return!o||o==="localhost/unix"?{name:s,unparsed:n,cliHost:e,connectTo:{socketPath:`/tmp/.X11-unix/X${i}`}}:o.startsWith("/")?{name:s,unparsed:n,cliHost:e,connectTo:{socketPath:`${o}:${i}`}}:{name:s,unparsed:n,cliHost:e,connectTo:{host:o,port:6e3+parseInt(i,10)}}}n?t.write(`X11 forwarding: DISPLAY value on ${e.type} host not supported (${n}).`):t.write(`X11 forwarding: DISPLAY not set on ${e.type} host.`)}async function FR(e){let t=e.env.WAYLAND_DISPLAY,n=e.env.XDG_RUNTIME_DIR,r=t&&e.path.isAbsolute(t)?t:t&&n&&e.path.join(n,t),o=n&&e.path.join(n,"wayland-0"),i=r||o;if(i&&await e.isSocket(i))return i}async function LV(e){let t=NR.randomUUID();return ir.posix.join((e==null?void 0:e.TMPDIR)||"/tmp",`vscode-wayland-${t}.sock`)}async function AV(e,t){let{shellServer:n,remoteWaylandSocket:r}=e;if(!r||t.WAYLAND_DISPLAY)return{};let o=t.XDG_RUNTIME_DIR;o||(o=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let i=ir.posix.basename(r);return await n.exec(`test -e ${o}/${i} || ln -sf ${r} ${o}/${i}`),o===t.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:i}:{XDG_RUNTIME_DIR:o,WAYLAND_DISPLAY:i}}var hm=new Set;async function Rle(e,t,n,r,o){let i=await o.processId;if(i&&i>0){let s=await mY(e,i),a=s.REMOTE_CONTAINERS_IPC;a&&a!==t&&!hm.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(hm.add(a),await e.exec(`rm '${a}' && ln -s '${t}' '${a}'`));let c=s.SSH_AUTH_SOCK;c&&n&&c!==n&&!hm.has(c)&&c.indexOf("vscode-ssh-auth")!==-1&&(hm.add(c),await e.exec(`rm '${c}' && ln -s '${n}' '${c}'`));let l=s.REMOTE_CONTAINERS_DISPLAY_SOCK;l&&r&&l!==r&&!hm.has(l)&&(hm.add(l),await e.exec(`rm '${l}' && ln -s '${r}' '${l}'`))}}async function Nle(e,t,n,r,o,i){let s=o.commit||await ex(o.quality),a=o.commit?o.quality||"insider":"stable",c=ir.posix,l=`${a.substring(0,1).toUpperCase()}${a.substring(1)}${a==="insider"?"s":""}-${s}`,u=I=>Ja(t,I),d=c.join(vm(c,r,o),"cli","servers",l,"server");if(await rb(d,u))return gm(d);let p=c.join(OR(c,r,o),"cli","servers",l,"server");if(await rb(p,u))return gm(p);let f=c.join(vm(c,r,o),"bin",s);if(await rb(f,u))return gm(f);let m=c.join(n,"bin",s);if(await rb(m,u))return gm(m);let{localCacheFolder:h,output:v,alternateDownload:g}=e,y;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")y=(await t.exec("uname -m")).stdout.trim()==="arm64"?ib.arm64:ib.x64;else{let I=await UR(t);y=lb(I,!1)}let w={localCacheFolder:h,build:y,commit:s,quality:a,web:!1,output:v,alternateDownload:g,legacy:!1},E=wm(w);if(await gr(E)||await sx(w),y.id==="darwin")await ox({output:v},t,E,m,i);else{let I=[];await sb.t({file:E,filter:k=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(k),onentry:k=>{new sb.WriteEntry.Tar(k).on("data",R=>I.push(R))}});let D=Buffer.concat(I);await ox({output:v},t,D,m,i,!1)}return gm(m)}async function rb(e,t){let n=gm(e),r=ir.posix.join(e,"node_modules","node-pty","package.json");return await t(n)&&await t(r)}function gm(e){return ir.posix.join(e,"node")}var ax=G(require("net"));var cx=tb(),MR=e=>{if("port"in e)return cx.duplex(ax.connect(e.port,e.host));let t=e.socketPath;if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return cx.duplex(ax.connect(t));let n=new ax.Socket;return Fle(n,t)};function Lle(e){let t=[];return e.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(o=>{t.push(parseInt(o,16))})}),Buffer.from(t)}function Ale(e,t,n){return t||n===void 0?{headerSize:e,err:t}:e===0?{headerSize:e,data:n}:n.length>e?(n=n.slice(e,n.length),e=0,{headerSize:e,data:n}):(e=e-n.length,{headerSize:e})}function Fle(e,t){let n=0,r=[],o=[],i,s=u=>{u instanceof Error&&console.error(u),e.destroy();for(let d of r)d.cb(u,void 0);r=[];for(let d of o)d(u,(p,f)=>{});o=[]};function a(u,d){i.source(u,function(p,f){let m=Ale(n,p,f);n=m.headerSize,m.err||m.data?d(m.err||null,m.data):a(u,d)})}return(async()=>{let u=await ct(t),p=u.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),f,m;if(p!==null){let h=p[1],v=p[3];f=parseInt(h,10);let g=Lle(v),y=Buffer.alloc(12);y.writeUInt32LE(process.pid,0),m=Buffer.concat([g,y]),n=16+3*4}else{let h=u.indexOf(10);f=parseInt(u.slice(0,h).toString(),10),m=u.slice(h+1),n=0}e.on("error",h=>{s(h)}),e.connect(f,"127.0.0.1",()=>{e.write(m,h=>{if(!h){i=cx.duplex(e);for(let v of r)a(v.abort,v.cb);r=[];for(let v of o)i.sink(v);o=[]}})})})().catch(u=>{s(u)}),{source:function(u,d){i!==void 0?a(u,d):r.push({abort:u,cb:d})},sink:function(u){i!==void 0?i.sink(u):o.push(u)}}}function FV(e,t,n){return r=>{let o=(async()=>{let i="port"in r?`{ host: '${r.host}', port: ${r.port} }`:`{ path: '${r.socketPath}' }`,s=await t({cmd:e,args:["-e",`// Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host.
const net = require('net');
const fs = require('fs');
process.stdin.pause();
const client = net.createConnection(${i}, () => {
	console.error('Connection established');
	client.pipe(process.stdout);
	process.stdin.pipe(client);
});
client.on('close', function (hadError) {
	console.error(hadError ? 'Remote close with error' : 'Remote close');
	process.exit(hadError ? 1 : 0);
});
client.on('error', function (err) {
	process.stderr.write(err && (err.stack || err.message) || String(err));
});
process.stdin.on('close', function (hadError) {
	console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
	process.exit(hadError ? 1 : 0);
});
process.on('uncaughtException', function (err) {
	fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
});
`],output:Yn(n,1)});return s.exit.then(({code:a,signal:c})=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with code ${a} and signal ${c}.`,1)},a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with error: ${a&&a.message||String(a)}`)}),s.stderr.on("data",a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host stderr: ${a.toString("utf8")}`,1)}),{sink:cx.sink(s.stdin),source:cx.source(s.stdout)}})();return{sink:i=>{o.then(s=>s.sink(i),s=>i(s,()=>{})).catch(s=>n.write(`Connection forwarding to sink error: ${(s==null?void 0:s.stack)||(s==null?void 0:s.message)||String(s)}`))},source:(i,s)=>{o.then(a=>a.source(i,s),a=>s(a)).catch(a=>n.write(`Connection forwarding to source error: ${(a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a)}`))}}}}var ub=!1;function ym(e,t,n){return ub?function(o){return Ole(e(o),`${t} ${JSON.stringify(o)}`,n)}:e}function Ole(e,t,n){return ub?{source:OV(e.source,`${t} Source`,n),sink:Ule(e.sink,`${t} Sink`,n)}:e}function OV(e,t,n){return ub?function(o,i){n.write(`${t} end in (${typeof o}${o&&typeof o=="object"?`: ${Object.keys(o)}`:""}): ${o&&typeof o=="object"&&o.stack||o}`),e(o,function(a,c){n.write(`${t} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${t} data: ${c==null?void 0:c.toString("hex")}`),i(a,c)})}:e}function Ule(e,t,n){return ub?function(o){e(OV(o,t,n))}:e}var $R=G(Nr()),$V=/^\\\\wsl(\.localhost|\$)?\\/;function Er(e){return $V.test(e.toLowerCase())}function Yd(e){let t=e.toLowerCase(),n=$V.exec(t);if(!n)return"";let r=t.indexOf("\\",n[0].length);return e.substring(n[0].length,r)}async function lx(e){let{stdout:t}=await se({exec:Za(void 0),cmd:"wsl",args:["-l","-v"],output:e}),n=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function El(e,t,n){let{stdout:r}=await se({exec:Za(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:n});return r.toString().trim()}async function Mle(e,t){let{stdout:n}=await se({exec:Za(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return n.toString().trim()}async function jV(e,t,n){let{stdout:r}=await se({exec:e.exec,cmd:"wslpath",args:["-w",t],output:n});return r.toString().trim()}async function Em(e,t){let n=Yd(e),r=await El(n,e,t);return be.parse(`vscode-remote://wsl+${n}${r}`)}function Cm(e){if(e.scheme==="vscode-remote"){let t=db(e.authority);if(t){let n=e.path;return Kv(n)&&(n=UV.posix.dirname(n)),{wslDistro:t,wslPath:n}}}}function db(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function fb(e,t,n,r,o,i,s,a){var m;let{distro:c,cwd:l}=await jR(e,t,s);MV.ok(!c.startsWith("-"),$R.t("Distro must not start with a dash: {0}",c));let u=Qa("wsl",["-d",c,"-e"],l),d=await ix({extensionPath:n,localCacheFolder:r,package:await $r(n),product:o,loadNativeModule:i,output:s,alternateDownload:a},u,l,!1),p=await Vd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=d.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:d.exec});delete p.WSL_INTEROP,await d.setBaseEnv(p);let f=ni("wsl",l,p,d.exec,d.ptyExec,ym(d.connect,"WSL",s),d.nodeExecutable,s);return f.toCommonURI=async h=>{try{return be.file((await se({exec:d.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},f.reconnect=()=>d.reconnect(),f.terminate=()=>d.terminate(),f}async function jR(e,{defaultDistro:t},n){let r,o;return typeof e=="object"?(r=e.wslDistro,o=e.wslPath):e&&Er(e)?(r=Yd(e),o=await El(r,e,n)):(r=t||await lx(n)||(()=>{throw new De({description:$R.t("No default WSL distro found.")})})(),o=e?await El(r,e,n):await Mle(r,n)),{distro:r,cwd:o}}function bm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function HV(e,t,n,r,o){try{return(await zn(t,{posix:se({exec:e,cmd:"cat",args:[r],output:o}),win32:se({exec:e,cmd:n,args:["-e",`require('fs').createReadStream('${r.replace(/\\/g,"\\\\")}').pipe(process.stdout)`],output:o})})).stdout}catch(i){let s=new Error(`Could not read file: ${r}`);throw s.originalError=i,s.code="ENOENT",s}}async function BV(e,t,n,r,o,i){await zn(t,{posix:se({exec:e,cmd:"dd",args:[`of=${r}`],stdin:o,output:i}),win32:se({exec:e,cmd:n,args:["-e",`process.stdin.pipe(require('fs').createWriteStream('${r.replace(/\\/g,"\\\\")}'))`],stdin:o,output:i})})}async function pb(e,t,n,r,o){await zn(t,{posix:()=>se({exec:e,cmd:"mv",args:["-n",n,r],output:o}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`Move-Item -Path '${n}' -Destination '${r}'`],output:o})})()}async function mb(e,t,n,r,o){let{recursive:i,force:s}=r;await zn(t,{posix:()=>se({exec:e,cmd:"rm",args:[i&&"-r",s&&"-f",n].filter(Boolean),output:o}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`Remove-Item${i?" -Recurse":""}${s?" -Force":""} '${n}'`],output:o})})()}async function hb(e,t,n,r){await zn(t,{posix:()=>se({exec:e,cmd:"mkdir",args:["-p",n],output:r}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`New-Item -ItemType Directory '${n}'`],output:r})})()}async function qV(e,t,n,r){return(await zn(t,{posix:()=>se({exec:e,cmd:"ls",args:["-a",n],output:r}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`(Get-ChildItem '${n}').Name`],output:r})})()).stdout.toString().trim().split(/\r?\n/).filter(i=>i!=="."&&i!=="..")}var BR=G(require("path")),xb=G(require("os")),wb=G(require("crypto"));var WV=G(require("os")),gb=G(require("assert")),vb=G(Nr());async function YV(e,t,n,r,o,i,s,a,c,l){var g;let u=e.substr(6),d=u.indexOf(":"),p=[(l==null?void 0:l.settings.executablePath)||"ssh"];if(l!=null&&l.settings.executableArgs&&p.push(...l.settings.executableArgs),l!=null&&l.settings.configFilePath&&p.push("-F",$le(l==null?void 0:l.settings.configFilePath)),d!==-1){let y=u.substr(d+1);gb.ok(!y.startsWith("-"),vb.t("Port number must not start with a dash: {0}",y));let x=u.substr(0,d);gb.ok(!x.startsWith("-"),vb.t("Hostname must not start with a dash: {0}",x)),p.push("-p",y,x)}else gb.ok(!u.startsWith("-"),vb.t("Hostname must not start with a dash: {0}",u)),p.push(u);let f=Qa(p[0],p.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),m=await ix({extensionPath:r,localCacheFolder:o,package:await $r(r),product:i,loadNativeModule:s,output:a,alternateDownload:c},f,t,!1),h=await Vd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((g=m.passwdUser)==null?void 0:g.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let v=ni("remote",t||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return v.toCommonURI=()=>Promise.resolve(void 0),v.reconnect=()=>m.reconnect(),v.terminate=()=>m.terminate(),v}function $le(e){return e.replace(/^~($|\/|\\)/,`${WV.homedir()}$1`)}function ux(e,t){let n=jle(e);if(n)return be.parse(`vscode-remote://${HR(n)}${t}`)}function HR(e){let t=e.hostName;if(e.user||e.hostName.toLowerCase()!==e.hostName||e.port||e.hostName.match(/[\/\\\+]/)){let n=JSON.stringify(e);t=Buffer.from(n,"utf8").toString("hex")}return`ssh-remote+${t}`}function jle(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6);return VV(t)}function VV(e){let t=e.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(t){let[,n,r,o]=t;return{hostName:r,user:n,port:o?parseInt(o,10):void 0}}return{hostName:e}}function Cl(e){var t;return!!(e&&"host"in e&&((t=e.host)!=null&&t.startsWith("ssh://")))}function bl(e){return!!(e!=null&&e.startsWith("ssh-remote+"))}function dx(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let n=t[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return VV(n)}async function zV(e,t,n,r,o,i,s,a,c,l){return e!=null&&e.startsWith("ssh://")&&!(l!=null&&l.localDocker)?YV(e,t,r,o,i,s,n,a,c,l):typeof t=="object"||r.executeInWSL==="forWSLPath"&&t&&Er(t)||r.executeInWSL==="always"?fb(t,r,o,i,s,n,a,c):io(t||process.cwd(),n,a)}async function io(e,t,n=je){let r=Za(e),o=await GV(e,t);return Hle(e,r,o,n?ym(MR,"Local",n):MR,t,n)}function ni(e,t,n,r,o,i,s,a){let c,l,u;return{type:e,platform:"linux",exec:r,ptyExec:o,cwd:t,env:n,path:BR.posix,async homedir(){if(typeof l>"u"){let p=(await se({exec:r,cmd:"id",args:["-u"],output:je})).stdout.toString().trim(),f=await Vt(r,je,void 0,"linux","Host"),m=await Wd(f,p);l=this.env.HOME||(m==null?void 0:m.home)||"/"}return l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async d=>{try{return await se({exec:r,cmd:"test",args:["-f",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},isFolder:async d=>{try{return await se({exec:r,cmd:"test",args:["-d",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},isSocket:async d=>{try{return await se({exec:r,cmd:"test",args:["-S",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},readFile:async d=>{try{return(await se({exec:r,cmd:"cat",args:[d],output:je})).stdout}catch(p){let f=new Error(`Could not read file: ${d}`);throw f.originalError=p,f.code="ENOENT",f}},writeFile:async(d,p)=>{await se({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${d}'`],stdin:p,output:je})},rename:async(d,p)=>{await se({exec:r,cmd:"mv",args:[d,p],output:je})},rm:async(d,{recursive:p,force:f}={})=>{await se({exec:r,cmd:"rm",args:[...p?["-r"]:[],...f?["-f"]:[],d],output:je})},mkdirp:async d=>{await se({exec:r,cmd:"mkdir",args:["-p",d],output:je})},readDir:async d=>(await se({exec:r,cmd:"ls",args:["-a",d],output:je})).stdout.toString().trim().split(`
`).filter(p=>p!=="."&&p!==".."),readDirWithTypes:async d=>{let p={f:1,"*":1,"/":2,"@":64};return(await se({exec:r,cmd:"ls",args:["-aF",d],output:je})).stdout.toString().trim().split(`
`).map(f=>"/*@=%|>".indexOf(f[f.length-1])!==-1?[f.substr(0,f.length-1),f[f.length-1]]:[f,"f"]).filter(([f])=>f!=="."&&f!=="..").map(([f,m])=>[f,p[m]||0])},getUsername:async()=>(c===void 0&&(c=(await se({exec:r,cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim()),c),toCommonURI:()=>Promise.resolve(void 0),connect:i,locateCertificatesFile:function(){return u||(u=yb(this,void 0,a))},nodeExecutable:s}}function Hle(e,t,n,r,o,i){let s;return{type:"local",platform:process.platform,exec:t,ptyExec:n,cwd:e,env:process.env,path:BR,homedir:async()=>xb.homedir(),tmpdir:async()=>xb.tmpdir(),isFile:gr,isFolder:lM,isSocket:uM,readFile:ct,writeFile:eE,rename:Kc,rm:Xc,mkdirp:async a=>{await Xi(a)},readDir:Jc,getUsername:Eb,toCommonURI:async a=>be.file(a),connect:r,locateCertificatesFile:function(){return s||(s=yb(this,o,i))}}}var Ble=["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt","/etc/ssl/ca-bundle.pem"];async function yb(e,t,n){if(e.env.NODE_EXTRA_CA_CERTS&&await e.isFile(e.env.NODE_EXTRA_CA_CERTS))return e.env.NODE_EXTRA_CA_CERTS;if(e.platform==="linux"){for(let c of Ble)if(await e.isFile(c))return c;return}if(e.type!=="local")return;let r=await(t==null?void 0:t("@vscode/proxy-agent"));if(!(r!=null&&r.loadSystemCertificates))return;let o=await r.loadSystemCertificates({log:{trace(c,...l){n.write(c,1)},debug(c,...l){n.write(c,2)},info(c,...l){n.write(c,3)},warn(c,...l){n.write(c,4)},error(c,...l){n.write(typeof c=="string"?c:String(c),5)}}});if(!o.length)return;let i=Buffer.from(o.join(e.platform==="win32"?`\r
`:`
`)),s=wb.createHash("sha256").update(i).digest("hex"),a=e.path.join(await fx(e),`certificates-${s}.pem`);if(!await e.isFile(a)){await e.mkdirp(e.path.dirname(a));let c=`${a}-${wb.randomUUID()}`;await e.writeFile(c,i),await e.rename(c,a)}return a}var qle=Cb.join(__dirname,"..","..","node_modules",".bin","ts-node"),wl=Cb.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function se(e){let{exec:t,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,print:c}=e,l=await t({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((u,d)=>{let p=[],f=[],m=c==="continuous"?new px.StringDecoder:void 0;l.stdout.on("data",g=>{p.push(g),c==="continuous"&&a.write(m.write(g))}),l.stdout.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let h=c==="continuous"?new px.StringDecoder:void 0;l.stderr.on("data",g=>{f.push(g),c==="continuous"&&a.write(ft(h.write(g)))}),l.stderr.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let v=[];l.exit.then(({code:g})=>{try{v.forEach(w=>w.dispose());let y=Buffer.concat(p),x=Buffer.concat(f);(c===!0||g&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(ft(x.toString()))),c&&g&&a.write(`Exit code ${g}`),g?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:y,stderr:x,code:g}):u({stdout:y,stderr:x})}catch(y){d(y)}},g=>{c&&(g!=null&&g.message)&&a.write(ft(g==null?void 0:g.message)),d(g)}),s instanceof Buffer?(l.stdin.write(s,g=>{g&&d(g)}),l.stdin.end()):s instanceof KV.Readable?s.pipe(l.stdin):typeof s=="function"&&v.push(s(g=>l.stdin.write(g)))})}async function Hs(e){let{ptyExec:t,cmd:n,args:r,cwd:o,env:i,output:s,resolveOn:a,onDidInput:c}=e,l=await t({cmd:n,args:r,cwd:o,env:i,output:s});return new Promise((u,d)=>{let p="",f=[c&&c(m=>l.write(m))];l.onData(m=>{p+=m,s.raw(m),a&&a.exec(p)&&u({cmdOutput:p})}),l.exit.then(({code:m,signal:h})=>{try{f.forEach(v=>v==null?void 0:v.dispose()),m||h?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:p,code:m,signal:h}):u({cmdOutput:p})}catch(v){d(v)}},m=>{m!=null&&m.message&&s.write(ft(m==null?void 0:m.message)),f.forEach(h=>h==null?void 0:h.dispose()),d(m)})})}var Wle={SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:7,SIGEMT:void 0,SIGFPE:8,SIGKILL:9,SIGUSR1:10,SIGSEGV:11,SIGUSR2:12,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGSTKFLT:16,SIGCHLD:17,SIGCLD:void 0,SIGCONT:18,SIGSTOP:19,SIGTSTP:20,SIGTTIN:21,SIGTTOU:22,SIGURG:23,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:29,SIGPOLL:29,SIGPWR:30,SIGINFO:void 0,SIGLOST:void 0,SIGSYS:31,SIGUNUSED:31};function Za(e){return async function(t){let{cmd:n,args:r,output:o}=t,i=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=o.start(i),a=t.cwd||e,c=t.env?{...process.env,...t.env}:process.env,l=await So(n,a,c),u=_m.spawn(l,r,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,p)=>{u.once("error",f=>{o.stop(i,s),p(f)}),u.once("close",(f,m)=>{o.stop(i,s),d({code:f,signal:m})})}),async terminate(){u.kill("SIGKILL")}}}}async function GV(e,t){let n=await t("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,v;let{cmd:o,args:i,output:s}=r,a=`Run: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=r.cwd||e,d=r.env?{...process.env,...r.env}:process.env,p=await So(o,u,d),f=n.spawn(p,i||[],{cwd:u,env:d,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(v=s.dimensions)==null?void 0:v.rows,useConpty:l}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(g=>f.resize(g.columns,g.rows))];return{onData:f.onData.bind(f),write:f.write.bind(f),resize:f.resize.bind(f),exit:new Promise(g=>{f.onExit(({exitCode:y,signal:x})=>{if(m.forEach(w=>w==null?void 0:w.dispose()),s.stop(a,c),g({code:y,signal:x}),process.platform==="win32")try{f.kill()}catch{}})}),async terminate(){f.kill("SIGKILL")}}}}function XV(e){let t=async function(n){let r=await e(n),o=new Rs;if(r.stdout){let i=new px.StringDecoder;r.stdout.on("data",s=>o.fire(i.write(s))),r.stdout.on("close",()=>{let s=i.end();s&&o.fire(s)})}if(r.stderr){let i=new px.StringDecoder;r.stderr.on("data",s=>o.fire(i.write(s))),r.stderr.on("close",()=>{let s=i.end();s&&o.fire(s)})}return{onData:o.event,write:r.stdin.write.bind(r.stdin),resize:()=>{},exit:r.exit.then(({code:i,signal:s})=>({code:typeof i=="number"?i:void 0,signal:typeof s=="string"?Wle[s]:void 0})),terminate:r.terminate.bind(r)}};return t.isTTY=!1,t}function Qa(e,t,n,r){return async function(o){let{env:i,cmd:s,args:a,output:c}=o,l=o.cwd||n,u=l?`cd '${l}' && `:"",d=Object.keys(i||{}).map(w=>i[w]===void 0?"":`${w}='${i[w]}' `).join(""),p=(a||[]).map(w=>` '${w.replace(/'/g,`'"'"'`)}'`).join(""),f=`${u}${d}${s}${p}`,m=f!==s?["/bin/sh","-c",f]:[f],h=[...t,...m],v=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,g=c.start(v),y=await So(e,process.cwd(),process.env),x=_m.spawn(y,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:x.stdin,stdout:x.stdout,stderr:x.stderr,exit:new Promise((w,E)=>{x.once("error",I=>{c.stop(v,g),E(I)}),x.once("close",(I,D)=>{c.stop(v,g),w({code:I,signal:D})})}),async terminate(){x.kill("SIGKILL")}}}}async function ZV(e,t,n,r){let o=await r("node-pty");if(!o)throw new Error("Missing node-pty");return async function(i){var I,D;let{env:s,cmd:a,args:c,output:l}=i,u=i.cwd||n,d=u?`cd '${u}' && `:"",p=Object.keys(s||{}).map(k=>`${k}='${s[k]}' `).join(""),f=(c||[]).map(k=>` '${k.replace(/'/g,`'"'"'`)}'`).join(""),m=`${d}${p}${a}${f}`,h=[...t,"/bin/sh","-c",m],v=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,g=l.start(v),y=!1,x=await So(e,process.cwd(),process.env),w=o.spawn(x,h,{cols:(I=l.dimensions)==null?void 0:I.columns,rows:(D=l.dimensions)==null?void 0:D.rows,useConpty:y}),E=[l.onDidChangeDimensions&&l.onDidChangeDimensions(k=>w.resize(k.columns,k.rows))];return{onData:w.onData.bind(w),write:w.write.bind(w),resize:w.resize.bind(w),exit:new Promise(k=>{w.onExit(({exitCode:N,signal:R})=>{if(E.forEach(C=>C==null?void 0:C.dispose()),l.stop(v,g),k({code:N,signal:R}),process.platform==="win32")try{w.kill()}catch{}})}),async terminate(){w.kill("SIGKILL")}}}}function bb(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(t)return t[1].split(".").map(n=>parseInt(n,10))}function _b(e,t){for(let n=0,r=Math.max(e.length,t.length);n<r;n++){let o=e[n]||0,i=t[n]||0;if(o!==i)return o<i}return!1}var QV=wl?(e,t,n)=>_m.spawn(qle,[e,...t||[]],{...n,windowsHide:!0}):_m.fork;async function Sm(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules.asar/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules/${e}`)}catch{}}function ez(e){let{output:t}=e,n=[];return{output:Yn({...t,get dimensions(){return t.dimensions},event:o=>n?n.push(o):t.event(o)}),flush:()=>{n&&(n.forEach(o=>t.event(o)),n=void 0)}}}function tz(e,t,n){return Yn({...e,get dimensions(){return e.dimensions},event:o=>{o.channel===t&&e.event(o),n.event(o)}})}function zn(e,t){return t&&typeof t=="object"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function Ja(e,t){return zn(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var qR;async function Eb(){return qR===void 0&&(qR=(async()=>{try{return JV.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await se({exec:Za(void 0),cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim()}})()),qR}function nz(e){let t=e.replace(/['\\]/g,"\\$&"),n=bm(e).replaceAll("'","\\'");return` (command -v getent >/dev/null 2>&1 && getent passwd '${t}' || grep -E '^${n}|^[^:]*:[^:]*:${n}:' /etc/passwd || true)`}async function rz(e,t,n,r,o,i){let s="Extracting tarball",a=i.start(s),c=`${r}_${Date.now()}`;try{await hb(e,t,c,i);let l=n instanceof Buffer?n:await(async()=>{let u=[];for await(let d of n)u.push(d);return Buffer.concat(u)})();await se({exec:e,cmd:"tar",args:["--no-same-owner",`-x${o?"z":""}`,"--strip-components","1","-C",c],stdin:l,output:i,print:"continuous"}),await pb(e,t,c,r,i)}catch(l){try{await mb(e,t,c,{recursive:!0,force:!0},i)}catch{}throw l}finally{i.stop(s,a)}}async function fx(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function Sb(e,t){let{output:n}=e,r=await Vt(t.remoteExec,n);try{for(let i=0;i<3;i++){let s=Date.now();await r.exec("echo ping!"),n.write(`Roundtrip ${i+1} to container took ${Date.now()-s} ms`)}}finally{r.process.terminate()}let o=await Vt(e.cliHost.exec,n);try{for(let i=0;i<3;i++){let s=Date.now();await o.exec("echo ping!"),n.write(`Roundtrip ${i+1} to host took ${Date.now()-s} ms`)}}finally{o.process.terminate()}}var ti="\u2404";async function Vt(e,t,n,r="linux",o="Container"){let i=typeof e=="function",s=r==="win32",a=i?await e({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!i){let p=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${ti}; /bin/sh'
`;a.stdin.write(p),await new Promise(m=>{let h="",v=new WR.StringDecoder;a.stdout.on("data",function g(y){h+=v.write(y),h.includes(p)&&(a.stdout.off("data",g),m())})})}let c=Vle(a),l;async function u(p,f){let m=l=(async()=>{try{await l}catch{}return d(zn(r,p),f)})();try{return await Promise.race([m,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===m&&(l=void 0)}}async function d(p,f){let m=`Run in ${o.toLowerCase()}: ${p.replace(/\n.*/g,"")}`,h;if((f==null?void 0:f.logOutput)!=="silent"&&(h=t.start(m,f==null?void 0:f.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:D,signal:k}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${D}, signal: ${k})`,code:D,signal:k})}r==="win32"?a.stdin.write(`[Console]::Write('${ti}'); ( ${p} ); [Console]::Write("${ti}$LastExitCode ${ti}"); [Console]::Error.Write('${ti}')
`):a.stdin.write(`echo -n ${ti}; ( ${p} ); echo -n ${ti}$?${ti}; echo -n ${ti} >&2
`);let[v,g]=oz(a.stdout,[1,2],(f==null?void 0:f.logOutput)==="continuous"?(D,k,N)=>{k===1&&N===0&&t.write(D,f==null?void 0:f.logLevel)}:()=>{}),y=oz(a.stderr,[1],(f==null?void 0:f.logOutput)==="continuous"?(D,k,N)=>{k===0&&N===0&&t.write(D,f==null?void 0:f.logLevel)}:()=>{})[0];f!=null&&f.stdin&&(await v,a.stdin.write(f==null?void 0:f.stdin));let[x,w]=await g,[E]=await y,I=parseInt(w,10)||0;return((f==null?void 0:f.logOutput)===void 0||(f==null?void 0:f.logOutput)===!0)&&(t.write(x,f==null?void 0:f.logLevel),t.write(E,f==null?void 0:f.logLevel),I&&t.write(`Exit code ${I}`,f==null?void 0:f.logLevel)),(f==null?void 0:f.logOutput)==="continuous"&&I&&t.write(`Exit code ${I}`,f==null?void 0:f.logLevel),(f==null?void 0:f.logOutput)!=="silent"&&t.stop(m,h,f==null?void 0:f.logLevel),I?Promise.reject({message:`Command in ${o.toLowerCase()} failed: ${p}`,code:I,stdout:x,stderr:E}):{stdout:x,stderr:E}}return{exec:u,process:a,platform:r,path:zn(r,Yle)}}function oz(e,t,n){let r=t.map(()=>{let u;return{promise:new Promise((p,f)=>u={resolve:p,reject:f}),...u}}),o=new WR.StringDecoder("utf8"),i=[],s=0,a=[];function c(u){let d=o.write(u);l(d)}function l(u){let d=u.indexOf(ti);if(d!==-1){let p=u.substr(0,d);i.push(p),n(p,s,a.length),a.push(i.join("")),i.length=0,a.length===t[s]&&(r[s].resolve(a),s++,a=[],s===t.length&&e.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else i.push(u),n(u,s,a.length)}return e.on("data",c),r.map(u=>u.promise)}function Vle(e){let t,n=new Promise((c,l)=>t=l),r=[],o=[],i=c=>r.push(c),s=c=>o.push(c);return e.stdout.on("data",i),e.stderr.on("data",s),e.exit.then(({code:c,signal:l})=>{t(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(r).toString()}
${Buffer.concat(o).toString()}`)},c=>{t(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{e.stdout.off("data",i),e.stderr.off("data",s),r.length=0,o.length=0}}}var wz=G(require("net")),yz=G(xz());async function Ez({forwardedPorts:e,output:t,getLogLevel:n},r,o,i){t.write(`Port forwarding for container port ${o} starts listening on local port.`,2);let s=i?{VSCODE_REMOTE_CONTAINERS_SESSION:i}:void 0;return new Promise((a,c)=>{let l=new Set,u=wz.createServer({pauseOnConnect:!0},d=>{let p=d.remotePort,f=u.address().port;t.write(`Port forwarding connection from ${p} > ${f} > ${o} in the container.`),n()===1&&(async()=>{let m=await(0,yz.default)("port",p);t.write(`Port forwarding process for ${p} > ${f} > ${o} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),eue(t,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${o} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:v,signal:g})=>{h||(l.delete(d),d.end()),t.write(`Port forwarding ${p} > ${f} > ${o} terminated${h?` by extension (${h})`:""} with code ${v} and signal ${g}.`)},v=>{l.delete(d),d.end(),t.write(`Port forwarding ${p} > ${f} > ${o} terminated with error: ${v&&v.message||String(v)}`)}),m.stderr.on("data",v=>{t.write(`Port forwarding ${p} > ${f} > ${o} stderr: ${v.toString("utf8")}`,2)}),d.on("close",v=>{t.write(`Port forwarding ${p} > ${f} > ${o}: Local close${v?" with error":""}`,2),l.delete(d),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(d),d.pipe(m.stdin),l.add(d)}).catch(console.error)});u.on("listening",()=>{let d={targetPort:o,server:u,connections:l};u.on("close",()=>{e.delete(d)}),e.add(d),t.write(`Port forwarding local port ${u.address().port} to container port ${o}`),a(u)}),u.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(d)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(o,"127.0.0.1")})}async function eue(e,t,n,r){return t.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:e})}function Cz(e,t){return[...e].find(n=>n.server.address().port===t)}var Dm=G(require("path"));var JR=G(Nr());function Tb(e,t){let n,r=e.platform==="win32",o={...e,get env(){return n||(n=_z(r,e.env))}},i=rue.bind(void 0,r,o);return e.containerWorkspaceFolder&&(o.containerWorkspaceFolder=Sz(i,e.containerWorkspaceFolder)),Pb(i,t)}function bz(e,t,n,r){let o=e==="win32";return Pb(oue.bind(void 0,o,t,_z(o,n)),r)}function Pb(e,t){if(typeof t=="string")return Sz(e,t);if(Array.isArray(t))return t.map(n=>Pb(e,n));if(t&&typeof t=="object"){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r]=Pb(e,t[r])}),n}return t}var tue=/\$\{(.*?)\}/g;function _z(e,t){if(e){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r.toLowerCase()]=t[r]}),n}return t}function Sz(e,t){return t.replace(tue,nue.bind(void 0,e))}function nue(e,t,n){let r,o=n.split(":");return o.length>1&&(n=o[0],r=o[1]),e(t,n,r)}function rue(e,t,n,r,o){switch(r){case"env":case"localEnv":return Dz(e,t.env,o,n,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?Dm.win32:Dm.posix).basename(t.localWorkspaceFolder):n;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?Dm.posix.basename(t.containerWorkspaceFolder):n;default:return n}}function oue(e,t,n,r,o,i){switch(o){case"containerEnv":return Dz(e,n,i,r,t);default:return r}}function Dz(e,t,n,r,o){if(n){e&&(n=n.toLowerCase());let i=t[n];return typeof i=="string"?i:""}throw new De({description:o?JR.t("'{0}' in {1} can not be resolved because no environment variable name is given.",r,Dm.posix.basename(o.path)):JR.t("'{0}' can not be resolved because no environment variable name is given.",r)})}async function Tn(e){return new Promise(t=>setTimeout(t,e))}var kb=G(require("path"));var iue=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function Iz(e,t,n,r,o){let{repository:i,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(i=o.getDotfileConfiguration("dotfiles.repository")||i,s=o.getDotfileConfiguration("dotfiles.installCommand")||s,a=o.getDotfileConfiguration("dotfiles.targetPath")||a,!i)return;await r;let c=await n;i.indexOf(":")===-1&&!/^\.{0,2}\//.test(i)&&(i=`https://github.com/${i}.git`);let l=t.shellServer,u=Pz(t),d=Object.keys(c).filter(p=>!(p.startsWith("BASH_FUNC_")&&p.endsWith("%%"))).reduce((p,f)=>`${p}${f}=${sue(c[f])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Rb(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await l.exec(`# Clone & install dotfiles
${Rb(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
cd ${a}
for f in ${iue.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function sue(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function Pz(e){return kb.posix.join(Bs(e),".dotfilesMarker")}async function Tz(e){let t=Pz(e),n=kb.posix.resolve(e.homeFolder,".devcontainer",".dotfilesMarker");try{await e.shellServer.exec(`test -f '${t}' && test ! -e '${n}' && mkdir -p '${kb.posix.dirname(n)}' && cp '${t}' '${n}'`)}catch{}}var zd=0,kz=/Extension host agent listening on (\d+)/;var aue="updateContentCommand";async function Ob(e){let{params:t,createdAt:n,startedAt:r,sharedDataFolder:o,sharedDataFolderIsLocalCacheFolder:i,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:p,rootShellServer:f,remoteWaylandSocket:m}=e,h;if(f&&a==="root"?h=f:h=await Vt(u,t.output,t.sessionId),!l){let S=(await h.exec("echo $PATH")).stdout.trim();l=S?{PATH:S}:{}}a||(a=await yl(h)),!p&&a==="root"&&(p=u);let v=await UR(h),g=await Wd(h,a);g||t.output.write(XI(`User ${a} not found with 'getent passwd'.`));let y=await lue(l,g),x=await cue(l,g),w=vm(Se.posix,x,t.product),{commit:E,quality:I}=t.product,D=!1,k=E&&await due(w,E,I||"insider",t.web,D),N=lb(v,I==="stable"),R=E&&o&&await Mz(Se.posix,o,N,E,I||"insider",t.web,D),C=k&&Sl("linux",k),_;f?_=Promise.resolve(f):a==="root"&&(_=Promise.resolve(h));let b={createdAt:n,startedAt:r,osRelease:v,build:N,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:y,homeFolder:x,userDataFolder:w,sharedDataFolderIsLocalCacheFolder:i,sharedDataFolder:o,legacy:D,installFolder:k,sharedInstallFolder:R,remoteWorkspaceFolder:s,nodeExecutable:C,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:p,shellServer:h,remoteWaylandSocket:m};return(_||p)&&(b.launchRootShellServer=()=>_||(_=Vt(p,t.output))),b}async function yl(e){return(await e.exec("id -un")).stdout.trim()}async function cue(e,t){return e.HOME||t&&t.home||"/root"}async function lue(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function Wd(e,t){let{stdout:n}=await e.exec(nz(t),{logOutput:!1});if(n.trim())return uue(n)}function uue(e){let t=e.replace(/\n$/,"").split(":");return{name:t[0],uid:t[2],gid:t[3],home:t[5],shell:t[6]}}async function due(e,t,n,r,o){return Se.posix.join(e,"bin",`${t}${n==="stable"?"":`-${n}`}${r?"-web":""}${o?"-legacy":""}`)}async function Mz(e,t,n,r,o,i,s){return e.join(t,"bin",n.id,`${r}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}`)}function $z(e){return Se.posix.join(e.userDataFolder,"extensions")}function Bs(e){return Se.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function Ub(e){return Se.posix.join(e.userDataFolder,"data/Machine/settings.json")}function fue(e){return Se.posix.join(e,".vscode-remote")}function vm(e,t,n){return e.join(t,n.serverDataFolderName)}function OR(e,t,n){return e.join(t,n.dataFolderName)}function Mb(e){return Se.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}function Sl(e,t){return zn(e,{posix:()=>Se.posix.join(t,"node"),win32:()=>Se.win32.join(t,"node.exe")})()}var mx=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[rs(t)]||this.settings[vl(t)]}getNewConfiguration(t){return this.settings[rs(t)]}getDotfileConfiguration(t){return this.settings[vl(t)]||this.settings[t]}};async function Pl(e,t,n,r,o=zd,i,s){await pue(e,t);let a=await mue(e,t,r),{serverDownloaded:c,didCheckRequirements:l}=await xue(e,t),u,d,p=Promise.resolve(),f;if(t.nodeExecutable){let w=await ab(e,t,a);u=w.remoteContainersCLI,d=w.remoteEnv,p=w.ready;let E=i;i=E&&(async(...D)=>(await w.ready,E(...D))),f=w.mrpcExec;let I=e.cliHost.reconnect;I&&(e.cliHost.reconnect=async D=>{await I(D),w.reconnect().catch(k=>e.output.write(ft(k&&(k.stack||k.message)||String(k))))})}let h=e.computeExtensionHostEnv||e.postCreate.enabled?Vd(e,t,r,f).then(async w=>({...w,...d,...await AV(t,w),REMOTE_CONTAINERS:"true",...bz(e.cliHost.platform,n.configFilePath,t.env,r.remoteEnv||{})})):Promise.resolve({}),v=a.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;t.nodeExecutable&&(await Zv(e,t,[".ssh","known_hosts"],"ssh"),v!=="none"&&await Lb(t,u,e.output,"system"));let g,y,x;if(t.installFolder){let E=await Aue(e,t,o,f,async()=>Eue(e,t,r,!1),void 0,!0,!1,l),I=E.serverPort;x=E.connectionToken,g=I,e.forwardServerPort&&t.nodeExecutable&&(y=await Ez(e,t,I,e.sessionId),g=y.address().port,e.backgroundTasks.push(async()=>Mue(e,t,r)))}if(e.postCreate.enabled){let w,E=new Promise(D=>w=()=>{D()}),I=(async()=>{let D={...d,REMOTE_CONTAINERS:"true"},k=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],N=k.reduce((R,C)=>(R[C]=(r[`${C}s`]||[]).length>0,R),{});if(e.prebuild){let R=k.indexOf("updateContentCommand");if((!k.slice(0,R+1).some(b=>N[b])||!i?"prebuild":await i(!1,!1,!0,a,D))!=="prebuild")throw new Error('"prebuild" expected')}else{let R=!0,C=!0,_=r.waitFor||aue,b=k.indexOf(_),S=k.indexOf("postCreateCommand"),A=b<=S&&!k.slice(0,b+1).some(H=>N[H]),L=a.getDotfileConfiguration("dotfiles.repository")||e.dotfilesConfiguration.repository,T=!k.slice(0,S+1).some(H=>N[H])&&!L,$=A?"skipNonBlocking":T||!i?"stopForPersonalization":await i(R,C,!1,a,D);if($==="skipNonBlocking"){if(w(),e.postCreate.skipNonBlocking)return;R=!1,$=!k.slice(b+1,S+1).some(Y=>N[Y])&&!L||!i?"stopForPersonalization":await i(R,C,!1,a,D)}if($==="stopForPersonalization"){i||await Iz(e,t,h,p,a),t.nodeExecutable&&((a.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&await YC(e,t,h.then(J=>({...t.env,...J}))),await Lb(t,u,e.output,v)),await(s==null?void 0:s()),C=!1;let H=b>S&&!k.slice(S+1,b+1).some(J=>N[J]),Y=!k.slice(S+1).some(J=>N[J]);$=H?"skipNonBlocking":Y||!i?"done":await i(R,C,!1,a,D)}if($==="skipNonBlocking"){if(w(),e.postCreate.skipNonBlocking)return;R=!1,$=!k.slice(b+1).some(Y=>N[Y])||!i?"done":await i(R,C,!1,a,D)}if($!=="done")throw new Error('"done" expected')}})();I.then(()=>{e.postCreate.done()},D=>{e.postCreate.done(D)}),e.backgroundTasks.push(I),await Promise.race([E,I])}return{hostOrContainerPort:g,hostPortServer:y,connectionToken:x,remoteEnv:e.computeExtensionHostEnv?await h:{},serverDownloaded:c}}async function pue(e,t){let n=fue(t.homeFolder);!await Ab(t.shellServer,t.userDataFolder)&&await Ab(t.shellServer,n)&&await ec(e,t,["/bin/sh","-c",`cp -r '${n}' '${t.userDataFolder}'`])}async function mue(e,t,n){var s;let r=Bs(t),o=Se.posix.join(r,".writeMachineSettingsMarker"),i=Ub(t);if(await Wz(t.shellServer,o)){let a=(s=n.customizations)==null?void 0:s.vscode,c=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(l=>l.settings));if(hue(c,n.portsAttributes),gue(c,n.otherPortsAttributes),Object.keys(c).length)return await t.shellServer.exec(`mkdir -p '${Se.posix.dirname(i)}' && cat >'${i}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),new mx(c)}try{let{stdout:a}=await t.shellServer.exec(`cat ${i}`);return new mx(We(a)||{})}catch{return new mx({})}}function hue(e,t){if(!e||!t||!Object.keys(t).length)return;let n="remote.portsAttributes";if(!e[n]){e[n]=t;return}for(let r in t)e[n][r]||(e[n][r]=t[r])}function gue(e,t){if(!e||!t)return;let n="remote.otherPortsAttributes";e[n]||(e[n]=t)}async function $b(e,t,n,r){let o=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,i=await t();if((await i.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let c=Se.posix.dirname(n);c!=="/"&&await i.exec(`chown ${o} ${c}`),n!=="/"&&await i.exec(`chown -R ${o} ${n}`)}else if(r&&(await i.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let u=Se.posix.dirname(r);u!=="/"&&await i.exec(`chown -R ${o} ${u}`)}}async function Lb(e,t,n,r){if(t||wl)if(r==="none")n.write("Git credential helper not enabled.");else{let o=r==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;o?await o.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function Zv(e,t,n,r,o){let{cliHost:i}=e,s=i.path.join(await i.homedir(),...n);if(!await i.isFile(s)&&(i.type==="local"||(i=await io(process.cwd(),e.loadNativeModule,e.output),s=i.path.join(await i.homedir(),...n),!await i.isFile(s))))return;let a=Se.posix.join(t.homeFolder,...n);await Hd(i,t.shellServer,s,a,r,o)}async function Hd(e,t,n,r,o,i=""){let s=await vue(e,n);if(s)try{let a=await r,c=Se.posix.dirname(a);await t.exec(`# Test for ${a} and ${o}
[ -e '${a}' ] ${i}&& echo '${a}' exists && exit 1
command -v ${o} >/dev/null 2>&1 || (echo ${o} not found && exit 1) || exit 1
mkdir -p '${c}'
[ -w '${c}' ] || (echo '${c}' not writable && exit 1) || exit 1`),await t.exec(`# Copy ${n} to ${a}
${Bd(s.byteLength)} >>'${a}'`,{stdin:s})}catch(a){if(a&&a.code!==1)throw a}}async function vue(e,t){try{return await e.readFile(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function xue(e,t){let n=await Rz(e,t,t.legacy);if(n!=="retryWithLegacyServer")return n;let r=await Rz(e,t,!0);return t.legacy=!0,t.installFolder=r.installFolder,t.sharedInstallFolder=r.sharedInstallFolder,t.nodeExecutable=r.installFolder&&Sl("linux",r.installFolder),r}async function Rz(e,t,n){let r=await wue(e,t,n),o=!1;if(r.installFolder){let i=Se.posix.join(r.installFolder,"bin","helpers","check-requirements.sh");if(o=await Lue(t.shellServer,i),o)try{await t.shellServer.exec(`'${i}'`)}catch(s){if((s==null?void 0:s.code)===100){if(!n)return"retryWithLegacyServer"}else throw(s==null?void 0:s.code)===99?new De({description:Dl.t("The container does not meet all the requirements of the VS Code Server."),detail:s==null?void 0:s.stdout.toString().trim(),step:"checkRequirements",data:{reload:!1,learnMoreUrl:"https://aka.ms/vscode-remote/faq/old-linux"},originalError:s}):s}}return{...r,didCheckRequirements:o}}async function wue(e,t,n){let{commit:r}=e.product,{shellServer:o,launchRootShellServer:i,build:s}=t;if(!(r&&t.installFolder))return{serverDownloaded:void 0,installFolder:void 0,sharedInstallFolder:void 0};let a=n?`${t.installFolder}-legacy`:t.installFolder,c=n&&t.sharedInstallFolder?`${t.sharedInstallFolder}-legacy`:t.sharedInstallFolder;yue(t.osRelease,s),s.preview&&e.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let l=await Ab(o,a),u;if(l||s===qz[s.arch]&&(i?u=(await i()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=o.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`)),c&&await Ab(o,c))return l||await o.exec(`mkdir -p '${Se.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),i&&(async()=>{await(await i()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};if(l)return{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};e.progress(4),e.output.write(`Installing VS Code Server for commit ${r}\r
`);let d=!!(c&&i),p=d?c:a,f=d?await i():o,m={localCacheFolder:e.localCacheFolder,build:s,commit:r,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload,legacy:n},h=wm(m),v=await gr(h);v||await sx(m);try{if(t.sharedDataFolderIsLocalCacheFolder)await Nz(m);else{let g=ox(e,f,h,p);e.cliHost.type!=="local"&&await Promise.race([g,Tn(2e4).then(()=>!0)])&&Sb(e,t).catch(y=>e.output.write(`Error testing connection: ${(y==null?void 0:y.stack)||(y==null?void 0:y.message)||y}`)),await g}}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await sx(m),t.sharedDataFolderIsLocalCacheFolder?await Nz(m):await ox(e,f,h,p);else throw g}return d&&(await o.exec(`mkdir -p '${Se.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),(async()=>{await f.exec(`touch '${c}' && cd '${Se.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!v,installFolder:a,sharedInstallFolder:c}}function yue(e,t){let n=e.version;if(t.minVersion&&n){let r=bb(n.trim());if(r&&_b(r,t.minVersion)){let o=Dl.t("{0} {1} or later required.",t.label,t.minVersion.join("."));throw new De({description:o,data:{reload:!1}})}}}async function sx(e){let{build:t,commit:n,quality:r,web:o,legacy:i,output:s}=e,a="Downloading VS Code Server",c=s.start(a);s.write(`${n} ${t.id} ${r}${o?" web":""}${i?" legacy":""}`);let l=wm(e);await Xi(Se.dirname(l));let u=`https://update.code.visualstudio.com/commit:${n}/server-${i?t.id.replace("linux-","linux-legacy-"):t.id}${o?"-web":""}/${r}`,d,p;try{p=`${l}_${Date.now()}`,await new Promise((f,m)=>{let h=Fb.createWriteStream(p);s.write("Starting download.",1),Az.https.get(u,{trackRedirects:!0},g=>{var w;if(g.statusCode<200||g.statusCode>299){s.write(`Download failed: ${g.statusCode} ${g.statusMessage}.`,1),m(new De({description:Dl.t("Downloading the VS Code Server failed. Please try again later."),originalError:`Failed to download VS Code Server (${u}): HTTP ${g.statusCode} - ${g.statusMessage}`}));return}let x=(w=[...g.redirects,g].find(E=>E.headers["x-sha256"]))==null?void 0:w.headers["x-sha256"];d=Array.isArray(x)?x[0]:x,s.write("Downloading data.",1),g.on("error",m),g.pipe(h),g.on("end",f)}).on("error",m)})}catch(f){if(s.write("Downloading failed.",1),s.write((f==null?void 0:f.stack)||(f==null?void 0:f.message)||String(f),1),e.alternateDownload)s.write(f&&(f.originalError||f.message)),s.write("Retrying to download VS Code Server."),p=`${l}_${Date.now()}`,await e.alternateDownload(u,p);else throw f||new De({description:Dl.t("Downloading the VS Code Server failed. Please try again later.")})}finally{s.stop(a,c)}if(d){let f=Im.createHash("sha256"),m=await ct(p);f.update(m);let h=f.digest("hex");if(h!==d)throw s.write(`Failed to download VS Code Server (${u}): SHA mismatch, actual ${h} != expected ${d}`),new De({description:Dl.t("Downloading the VS Code Server failed. Please try again later.")})}await Kc(p,l)}async function ox(e,t,n,r,o,i=!0){let s="Installing VS Code Server",a=e.output.start(s),c=`${r}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${c}`),o)typeof n=="string"&&n.endsWith(".zip")?await t.exec(`unzip ${n} -d ${c}`):await t.exec(`cat ${n} | tar --no-same-owner -x${i?"z":""} -C ${c}`);else{let l=typeof n=="string"?await ct(n):n;await t.exec(`${Bd(l.byteLength,!0)} | tar --no-same-owner -x${i?"z":""} -C ${c}`,{stdin:l,logOutput:"continuous"})}await t.exec(`mv -n ${Se.posix.join(c,"*",".")} ${r} && rmdir ${c}`)}catch(l){try{await t.exec(`rm -rf ${c}`)}catch{}throw l}finally{e.output.stop(s,a)}}async function Nz(e){let{localCacheFolder:t,build:n,commit:r,quality:o,web:i,legacy:s,output:a}=e,c="Unpacking VS Code Server",l=a.start(c);a.write(`${r} ${n.id} ${o} ${i?"web":""} ${s?"legacy":""}`);let u=await Mz(Se,t,n,r,o,i,s),d=`${u}_${Date.now()}`;try{await Xi(d);let p=wm(e);await(await Za(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",p,"--strip-components","1","-C",d],cwd:process.cwd(),output:a})).exit,await Xc(u,{recursive:!0,force:!0}),await Kc(d,u)}catch(p){try{await Xc(d,{recursive:!0,force:!0})}catch{}throw p}finally{a.stop(c,l)}}function wm(e){let{localCacheFolder:t,build:n,commit:r,quality:o,web:i,legacy:s}=e,a=Se.join(t,"serverCache",r),c=`vscode-server-${n.id}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}${n.archiveExt||".tar.gz"}`;return Se.join(a,c)}async function jz(e,t){let n=await Yz(t),r={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:o}=await ec(e,t,[Se.posix.join(t.installFolder,...VC(n)),...Vz(t.userDataFolder),...zz(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return o.toString().split(`
`).filter(i=>!!i)}async function Eue(e,t,n,r){let o="Preparing Extensions",i=e.output.start(o),{sharedDataFolder:s}=t,a=s?Pue(s):void 0,c=Hz(t),l=Bs(t),u=Se.posix.join(l,".installExtensionsMarker"),d=!await Wz(t.shellServer,u),p=bue(e,d,n);if(t.sharedDataFolderIsLocalCacheFolder)t.launchRootShellServer&&await(await t.launchRootShellServer()).exec(`mkdir -p '${a}' && chown -R ${t.user} ${a}`),await t.shellServer.exec(`mkdir -p '${a}' && ln -s -T '${a}' '${c}' || true`);else{let m=Iue(e.localCacheFolder),h=await _ue(e,t,m,a,c,[...p.builtinExtensions,...p.extensions]);Sue(e,t,m,a,c,h).catch(console.error)}p.extensions=p.extensions.filter(m=>!p.builtinExtensions.includes(m)),e.product.version&&Fz.lte("1.77.0",e.product.version.split("-")[0])&&(e.output.write(`Optimizing extensions for quality: ${e.product.quality}`),p.builtinExtensions=await Cue(e,t,c,p.builtinExtensions));let f=[].concat(...p.builtinExtensions.map(m=>["--install-builtin-extension",m]),...p.extensions.map(m=>["--install-extension",m]));return r&&f.length&&f.push("--do-not-sync"),e.output.stop(o,i),{...p,args:f}}async function Cue(e,t,n,r){if(r.length===0)return r;let{shellServer:o}=t,i=(await o.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(a=>!!a&&a.endsWith("vsix"));e.output.write(`Available vsix: ${i.join(", ")||"None"}`);let s=r.map(a=>{let c=i.find(l=>l.startsWith(a.toLocaleLowerCase()));return c?`${n}/${c}`:a});return e.output.write(`Optimized extensions to install: ${s.join(", ")||"None"}`),s}function bue(e,t,n){var a,c;let r=t?[]:e.installBuiltinExtensions||[],o=e.getAdditionalExtensionsToInstall(t),i=[...t?[]:(((a=n.customizations)==null?void 0:a.vscode)||[]).map(l=>l.extensions||[]),o],s=[];for(let l of i.flat()){let u=(c=/^(?<removal>-)?(?<idAndVersion>(?<id>[^@ ]*)[^ ]*)$/.exec(l))==null?void 0:c.groups;if(u){let d=s.findIndex(p=>p.id===u.id);d!==-1&&s.splice(d,1),u.removal||s.push(u)}}return{builtinExtensions:r,extensions:s.map(l=>l.idAndVersion)}}async function _ue(e,t,n,r,o,i){e.output.write(`Extensions cache, install extensions: ${i.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${o} && ls ${o} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(r){let c=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${o}' && ln -s '${r}'/* '${o}' || true`);let{launchRootShellServer:u}=t;u&&(async()=>{await(await u()).exec(`cd ${r} && touch ${l.map(p=>`'${p}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Xi(n);let c=await Jc(n),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=Se.basename(n),d=Il.c({cwd:Se.dirname(n)},l.map(m=>Se.join(u,m))),p=Se.posix.join(o,`tmp-${Date.now()}`),f=await new Promise(m=>{let h=[];d.on("data",v=>h.push(v)),d.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${p}
${Bd(f.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${p}
mv ${p}/* ${o} && rmdir ${p}`,{stdin:f})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function Sue(e,t,n,r,o,i){if(r&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await Tn(s);;)i=await Due(e,t,n,r,o,i),await Tn(a)}async function Due(e,t,n,r,o,{remoteExtensions:i,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=t,u=(await a.exec(`ls ${o} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(p=>!!p);if(!r){let p=i.filter(f=>u.indexOf(f)===-1);e.output.write(`Extensions cache, remote removals: ${p.join(", ")||"None"}`);for(let f of p)try{await dM(Se.join(n,f))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let d=u.filter(p=>i.indexOf(p)===-1&&s.indexOf(p)===-1);if(e.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${d.join(", ")||"None"}`,1),d.length)if(r){let p=await c();await p.exec(`mkdir -p '${r}' && cd '${o}' && cp ${d.map(f=>`'${f}'`).join(" ")} '${r}'`),await p.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let p=Se.posix.basename(o),f=await l({cmd:"tar",cwd:Se.posix.dirname(o),args:["c",...d.map(g=>Se.posix.join(p,g))],output:e.output}),m=Se.join(Se.dirname(n),`${Se.basename(n)}-${Date.now()}`);await Xi(m);let h=Il.x({cwd:m,strip:1}),v=new Promise((g,y)=>{h.on("error",y),h.on("finish",g)});f.stdout.pipe(h),await v;for(let g of await Jc(m))await Kc(Se.join(m,g),Se.join(n,g));await fM(m)}return{remoteExtensions:u,cachedExtensions:s}}var QR="extensionsCache";function Iue(e){return Se.join(e,QR)}function Pue(e){return Se.posix.join(e,QR)}function Hz(e){return Se.posix.join(e.userDataFolder,QR)}var Bz={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},qz={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},ib={x64:{label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Mac ARM",id:"darwin-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},Tue={x64:{label:"Windows",id:"win32-x64",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Windows ARM",id:"win32-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},kue={linux:Bz,alpine:qz,darwin:ib,win32:Tue},Rue={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function lb(e,t){var o;let n=Rue[e.hardware],r=n&&(((o=kue[e.id])==null?void 0:o[n])||Bz[n]);if(!r||t&&!r.stable)throw new De({description:e.id==="alpine"?Dl.t("Alpine Linux is not supported on the hardware architecture '{0}' of the container.",e.hardware):Dl.t("The hardware architecture '{0}' of the container is not supported.",e.hardware),data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function UR(e){let t="unknown",n="unknown",r="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:o}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(o.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(o.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(o){console.error(o)}return{hardware:t,id:n,version:r}}async function Nue(e,t,n,r){let o=await zn(n,{async win32(){var a;return{amd64:"x86_64",arm64:"arm64"}[((a=t.PROCESSOR_ARCHITECTURE)==null?void 0:a.toLowerCase())||""]||"unknown"},async posix(){return(await se({exec:e,cmd:"uname",args:["-m"],output:r})).stdout.toString().trim()}})(),i=n,s="unknown";if(n==="linux")try{let a=(await se({exec:e,cmd:"/bin/sh",args:["(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null"],output:r})).stdout.toString();i=(a.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",s=(a.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(a){console.error(a)}return{hardware:o,id:i,version:s}}async function Wz(e,t){try{return await e.exec(Rb(t)),!0}catch{return!1}}function Rb(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${Se.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function Ab(e,t){try{return await e.exec(`test -d '${t}'`),!0}catch{return!1}}async function Lue(e,t){try{return await e.exec(`test -x '${t}'`),!0}catch{return!1}}async function Aue(e,t,n,r,o,i,s,a,c){let{userDataFolder:l,installFolder:u,sharedInstallFolder:d,shellServer:p}=t,{processes:f,mntNS:m}=await fR(p),h=await Yz(t),v=`(${Se.posix.join(...VC(h))})`.replace(".","\\."),g=new RegExp(`${Se.posix.join(Se.posix.dirname(u).replace(".","\\."),"[^/]*",v)}`),y=f.filter(J=>J.mntNS===m&&g.test(J.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(y,void 0,"  ")}`,1);let{current:x,others:w}=y.reduce((J,ue)=>(J[(ue.cwd===u||ue.cwd===d)&&g.test(ue.cmd)?"current":"others"].push(ue),J),{current:[],others:[]});if(s&&w.length){e.output.write(`Terminating old extension host agent.\r
`);try{await p.exec(`kill -9 ${w.map(J=>J.pgrp?`-${J.pgrp}`:J.pid).join(" ")}`)}catch{}}let{commit:E,quality:I}=e.product,D=Se.posix.join(Bs(t),`.connection-token-${E}${I==="stable"?"":`-${I}`}${e.web?"-web":""}${t.legacy?"-legacy":""}`),k=Se.posix.join(Bs(t),`.devport-${E}${I==="stable"?"":`-${I}`}${e.web?"-web":""}${t.legacy?"-legacy":""}`);if(x.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:J}=await p.exec(`cat '${k}' 2>/dev/null`),ue=J.toString().trim(),Ne=parseInt(ue,10),Pe=new RegExp(" '?--connection-token-file'? ").test(x[0].cmd)?(await p.exec(`cat '${D}'`)).stdout.toString().trim():void 0;return{serverPort:Ne,connectionToken:Pe}}catch(J){console.error(J),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await p.exec(`kill -9 ${x.map(ue=>ue.pgrp?`-${ue.pgrp}`:ue.pid).join(" ")}`)}catch{}}}let N="isLocalContainer"in e&&e.isLocalContainer,R=`${D}-${Im.randomUUID()}`,{stdout:C}=await p.exec(`cat '${D}' 2>/dev/null || (umask 377 && echo '${Im.randomUUID()}' >'${R}' && mv -n '${R}' '${D}' && rm -f '${R}' && cat '${D}')`),_=C.toString().trim();e.progress(5);let b="Starting VS Code Server",S=e.output.start(b),A=[Se.posix.join(u,...VC(h)),"--log",to(e.getLogLevel()),"--force-disable-user-env",...Vz(t.userDataFolder),...Fue(N),...zz(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),"--connection-token-file",D,"--extensions-download-dir",Hz(t),...(await o()).args,"--start-server",...N?["--disable-websocket-compression"]:[""],...a?["--enable-remote-auto-shutdown"]:[],...c?["--skip-requirements-check"]:[]],L={SHELL:t.shell,VSCODE_AGENT_FOLDER:l,...await i};delete L.NODE_OPTIONS;let $=(await ec(e,{remoteExec:t.remoteExec},A,u,{remoteEnv:L,resolveOn:kz,print:"continuous"})).cmdOutput;e.output.stop(b,S);let H=(kz.exec($)||[])[1];if(!H)throw new Error("Port not found");return await p.exec(`echo ${H} >'${k}'`),{serverPort:parseInt(H,10),connectionToken:_}}async function Yz({shellServer:e,installFolder:t}){return JSON.parse((await e.exec(`cat '${Se.posix.join(t,"product.json")}'`,{logOutput:!1})).stdout.toString().trim())}function Vz(e){return["--server-data-dir",e]}function Fue(e){return e?["--use-host-proxy"]:[]}function zz(e){return e?["--telemetry-level",e]:[]}var Oue=/^([a-z0-9\-]+):(\d{1,5})$/;function Uue(e){let t=e.match(Oue);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function Mue(e,t,n){let r=(n.forwardPorts||[]).map(i=>typeof i=="number"?`localhost:${i}`:i).map(Uue).filter(Boolean),o=await e.getTunnels();await Promise.all(r.filter(i=>!o.find(s=>s.remoteAddress.host===i.host&&s.remoteAddress.port===i.port)).map(async({host:i,port:s})=>e.openTunnel(t,s,i)))}async function ec(e,{remoteExec:t},n,r,o={}){let i=o.print||(o.silent?"off":"end"),s=await t({env:o.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:o.silent?je:e.output}),a=[],c=[],l=new ZR.StringDecoder,u=new ZR.StringDecoder,d="",p="",f,m,h=new Promise((w,E)=>{f=w,m=E});s.stdout.on("data",w=>{a.push(w);let E=l.write(w);i==="continuous"&&e.output.write(E.replace(/\r?\n/g,`\r
`)),d+=E,o.resolveOn&&o.resolveOn.exec(d)&&f()}),s.stderr.on("data",w=>{c.push(w);let E=u.write(w);i==="continuous"&&e.output.write(E.replace(/\r?\n/g,`\r
`)),p+=E}),o.stdin instanceof Buffer?(s.stdin.write(o.stdin,w=>{w&&m(w)}),s.stdin.end()):o.stdin instanceof Fb.ReadStream&&o.stdin.pipe(s.stdin),i!=="off"&&s.exit.catch(w=>{w!=null&&w.message&&e.output.write(ft(w==null?void 0:w.message))});let v=await Promise.race([s.exit,h]),g=Buffer.concat(a),y=Buffer.concat(c);i==="end"&&(e.output.write(d.replace(/\r?\n/g,`\r
`)),e.output.write(ft(p)));let x=`${d}
${p}`;return v&&(v.code||v.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:x,stdout:g,stderr:y,code:v.code,signal:v.signal}):{cmdOutput:x,stdout:g,stderr:y}}function Bd(e,t=!1){let r=e%8192;return`(dd iflag=fullblock bs=8192 count=${(e-r)/8192}${t?"":" 2>/dev/null"}; dd iflag=fullblock bs=${r} count=1${t?"":" 2>/dev/null"})`}async function Vd(e,t,n,r){let o=Hue(n,e);if(!o||o==="none")return{};let i=await $ue(o,e,t.shellServer);return i||(e.output.write("userEnvProbe: not found in cache"),i=await Lz(o,e,t,r,"cat /proc/self/environ","\0"),i||(e.output.write("userEnvProbe: falling back to printenv"),i=await Lz(o,e,t,r,"printenv",`
`)),i&&await jue(i,o,e,t.shellServer),i||{})}async function $ue(e,t,n){if(!n||!t.containerSessionDataFolder)return;let r=Gz(e,t.containerSessionDataFolder);try{if(await Ja(n,r)){let{stdout:o}=await n.exec(`cat '${r}'`);return JSON.parse(o)}}catch(o){t.output.write(`Failed to read/parse user env cache: ${o}`,5)}}async function jue(e,t,n,r){if(!r||!n.containerSessionDataFolder)return;let o=Gz(t,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${Se.posix.dirname(o)}' && cat > '${o}' << 'envJSON'
${JSON.stringify(e,null,"	")}
envJSON
`)}catch(i){n.output.write(`Failed to cache user env: ${i}`,5)}}function Gz(e,t){return Se.posix.join(t,`env-${e}.json`)}async function Lz(e,t,n,r,o,i){var s;if(e==="none")return{};try{let a=Im.randomUUID(),c=new RegExp(a+"([^]*)"+a),l=n.shell;t.output.write(`userEnvProbe shell: ${l}`);let u=Se.posix.basename(l),d=`echo -n ${a}; ${o}; echo -n ${a}`,p;/^pwsh(-preview)?$/.test(u)?p=e==="loginInteractiveShell"||e==="loginShell"?["-Login","-Command"]:["-Command"]:p=[e==="loginInteractiveShell"?"-lic":e==="loginShell"?"-lc":e==="interactiveShell"?"-ic":"-c"];let f=Yn(t.output,1),m=ec({output:f},{remoteExec:await r||n.remoteExec},[l,...p,d],n.installFolder);Promise.race([m,Tn(2e3)]).then(async D=>{if(!D){let k,N=n.shellServer||await Vt(n.remoteExec,t.output);try{({processes:k}=await fR(N))}finally{n.shellServer||await N.process.terminate()}let R=k.find(C=>C.cmd.startsWith(l)&&C.cmd.indexOf(a)!==-1);if(R){let _=hY(k)[R.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${pR(_)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(D=>t.output.write(ft(D&&(D.stack||D.message)||"Error reading process tree.")));let h=await Promise.race([m,Tn(1e4)]);if(!h)return t.output.write(ft("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let v=h.stdout.toString(),g=c.exec(v),y=g?g[1]:"";if(!y||y.trim()==="-n")return;let x=y.split(i).reduce((D,k)=>{let N=k.indexOf("=");return N!==-1&&(D[k.substring(0,N)]=k.substring(N+1)),D},{});t.output.write(`userEnvProbe parsed: ${JSON.stringify(x,void 0,"  ")}`,1),delete x.PWD;let w=x.PATH,E=(s=n.env)==null?void 0:s.PATH,I=!(t.allowSystemConfigChange&&n.launchRootShellServer)&&w&&E;if(I){let D=n.user;x.PATH=Bue(w,E,D==="root"||D==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof w=="string"?`'${w}'`:"None"}
Container: ${typeof E=="string"?`'${E}'`:"None"}${I?`
Merged:    ${typeof x.PATH=="string"?`'${x.PATH}'`:"None"}`:""}`),x}catch(a){return t.output.write(ft("Error reading shell environment.")),t.output.write(ft((a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a))),{}}}function Hue(e,t){let n=e==null?void 0:e.userEnvProbe;return t.output.write(`userEnvProbe: ${n||t.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=t.defaultUserEnvProbe),n}function Bue(e,t,n){let r=e.split(":"),o=0;for(let i of t.split(":")){let s=r.indexOf(i);s===-1?(n||!/\/sbin(\/|$)/.test(i))&&r.splice(o++,0,i):o=s+1}return r.join(":")}async function Kz(e){for(let t of e)await(typeof t=="function"?t():t)}async function Jz(e){let{localCacheFolder:t,output:n,alternateDownload:r,exec:o,env:i,isFile:s,userDataFolder:a,homeFolder:c,product:l,platform:u}=e,d=l.commit||await ex(l.quality),p=l.commit?l.quality||"insider":"stable",f=u==="win32"?Se.win32:Se.posix,m=`${p.substring(0,1).toUpperCase()}${p.substring(1)}${p==="insider"?"s":""}-${d}`,h=f.join(vm(f,c,l),"cli","servers",m,"server");if(await Nb(u,h,s))return Sl(u,h);let v=f.join(OR(f,c,l),"cli","servers",m,"server");if(await Nb(u,v,s))return Sl(u,v);let g=f.join(vm(f,c,l),"bin",d);if(await Nb(u,g,s))return Sl(u,g);let y=f.join(a,"bin",d);if(await Nb(u,y,s))return Sl(u,y);let x=await Nue(o,i,u,n),w=lb(x,!1),E={localCacheFolder:t,build:w,commit:d,quality:p,web:!1,output:n,alternateDownload:r,legacy:!1},I=wm(E);await gr(I)||await sx(E);let D=I.endsWith(".zip")?await Wue(I):await que(I);return await rz(o,u,D,y,!1,n),Sl(u,y)}async function Nb(e,t,n){let r=Sl(e,t),i=(e==="win32"?Se.win32:Se.posix).join(t,"node_modules","node-pty","package.json");return await n(r)&&await n(i)}async function que(e){let t=[];return await Il.t({file:e,filter:n=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(n),onentry:n=>{new Il.WriteEntry.Tar(n).on("data",o=>t.push(o))}}),Buffer.concat(t)}async function Wue(e){let n=new Oz.default(e).getEntries().filter(o=>/^[^/]*\/(LICENSE$|node(\.exe)?$|node_modules\/node-pty\/.*[^/]$)/.test(o.entryName)),r=Uz.pack();for(let o of n){let i=await new Promise((s,a)=>{o.getDataAsync((c,l)=>{l?a(l):s(c)})});r.entry({name:o.entryName,mode:o.attr>>>16&4095},i)}return r.finalize(),r}var YG=G(require("crypto")),Ix=G(require("path"));function fG(e){return typeof e>"u"||e===null}function Yue(e){return typeof e=="object"&&e!==null}function Vue(e){return Array.isArray(e)?e:fG(e)?[]:[e]}function zue(e,t){var n,r,o,i;if(t)for(i=Object.keys(t),n=0,r=i.length;n<r;n+=1)o=i[n],e[o]=t[o];return e}function Gue(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function Kue(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Jue=fG,Xue=Yue,Zue=Vue,Que=Gue,ede=Kue,tde=zue,Gn={isNothing:Jue,isObject:Xue,toArray:Zue,repeat:Que,isNegativeZero:ede,extend:tde};function pG(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function gx(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=pG(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}gx.prototype=Object.create(Error.prototype);gx.prototype.constructor=gx;gx.prototype.toString=function(t){return this.name+": "+pG(this,t)};var Do=gx;function eN(e,t,n,r,o){var i="",s="",a=Math.floor(o/2)-1;return r-t>a&&(i=" ... ",t=r-a+i.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:i+e.slice(t,n).replace(/\t/g,"\u2192")+s,pos:r-t+i.length}}function tN(e,t){return Gn.repeat(" ",t-e.length)+e}function nde(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],o=[],i,s=-1;i=n.exec(e.buffer);)o.push(i.index),r.push(i.index+i[0].length),e.position<=i.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,o.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=eN(e.buffer,r[s-c],o[s-c],e.position-(r[s]-r[s-c]),d),a=Gn.repeat(" ",t.indent)+tN((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=eN(e.buffer,r[s],o[s],e.position,d),a+=Gn.repeat(" ",t.indent)+tN((e.line+1).toString(),u)+" | "+l.str+`
`,a+=Gn.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=o.length);c++)l=eN(e.buffer,r[s+c],o[s+c],e.position-(r[s]-r[s+c]),d),a+=Gn.repeat(" ",t.indent)+tN((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var rde=nde,ode=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ide=["scalar","sequence","mapping"];function sde(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function ade(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(ode.indexOf(n)===-1)throw new Do('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=sde(t.styleAliases||null),ide.indexOf(this.kind)===-1)throw new Do('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var jr=ade;function Xz(e,t){var n=[];return e[t].forEach(function(r){var o=n.length;n.forEach(function(i,s){i.tag===r.tag&&i.kind===r.kind&&i.multi===r.multi&&(o=s)}),n[o]=r}),n}function cde(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function rN(e){return this.extend(e)}rN.prototype.extend=function(t){var n=[],r=[];if(t instanceof jr)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Do("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof jr))throw new Do("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Do("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Do("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof jr))throw new Do("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(rN.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(r),o.compiledImplicit=Xz(o,"implicit"),o.compiledExplicit=Xz(o,"explicit"),o.compiledTypeMap=cde(o.compiledImplicit,o.compiledExplicit),o};var lde=rN,ude=new jr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),dde=new jr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),fde=new jr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),pde=new lde({explicit:[ude,dde,fde]});function mde(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function hde(){return null}function gde(e){return e===null}var vde=new jr("tag:yaml.org,2002:null",{kind:"scalar",resolve:mde,construct:hde,predicate:gde,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function xde(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function wde(e){return e==="true"||e==="True"||e==="TRUE"}function yde(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ede=new jr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xde,construct:wde,predicate:yde,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Cde(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function bde(e){return 48<=e&&e<=55}function _de(e){return 48<=e&&e<=57}function Sde(e){if(e===null)return!1;var t=e.length,n=0,r=!1,o;if(!t)return!1;if(o=e[n],(o==="-"||o==="+")&&(o=e[++n]),o==="0"){if(n+1===t)return!0;if(o=e[++n],o==="b"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;r=!0}return r&&o!=="_"}if(o==="x"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(!Cde(e.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}if(o==="o"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(!bde(e.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}}if(o==="_")return!1;for(;n<t;n++)if(o=e[n],o!=="_"){if(!_de(e.charCodeAt(n)))return!1;r=!0}return!(!r||o==="_")}function Dde(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Ide(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gn.isNegativeZero(e)}var Pde=new jr("tag:yaml.org,2002:int",{kind:"scalar",resolve:Sde,construct:Dde,predicate:Ide,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Tde=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kde(e){return!(e===null||!Tde.test(e)||e[e.length-1]==="_")}function Rde(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var Nde=/^[-+]?[0-9]+e/;function Lde(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gn.isNegativeZero(e))return"-0.0";return n=e.toString(10),Nde.test(n)?n.replace("e",".e"):n}function Ade(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gn.isNegativeZero(e))}var Fde=new jr("tag:yaml.org,2002:float",{kind:"scalar",resolve:kde,construct:Rde,predicate:Ade,represent:Lde,defaultStyle:"lowercase"}),Ode=pde.extend({implicit:[vde,Ede,Pde,Fde]}),Ude=Ode,mG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),hG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Mde(e){return e===null?!1:mG.exec(e)!==null||hG.exec(e)!==null}function $de(e){var t,n,r,o,i,s,a,c=0,l=null,u,d,p;if(t=mG.exec(e),t===null&&(t=hG.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(i=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),p=new Date(Date.UTC(n,r,o,i,s,a,c)),l&&p.setTime(p.getTime()-l),p}function jde(e){return e.toISOString()}var Hde=new jr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Mde,construct:$de,instanceOf:Date,represent:jde});function Bde(e){return e==="<<"||e===null}var qde=new jr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Bde}),cN=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Wde(e){if(e===null)return!1;var t,n,r=0,o=e.length,i=cN;for(n=0;n<o;n++)if(t=i.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function Yde(e){var t,n,r=e.replace(/[\r\n=]/g,""),o=r.length,i=cN,s=0,a=[];for(t=0;t<o;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|i.indexOf(r.charAt(t));return n=o%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function Vde(e){var t="",n=0,r,o,i=e.length,s=cN;for(r=0;r<i;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return o=i%3,o===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):o===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):o===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function zde(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Gde=new jr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Wde,construct:Yde,predicate:zde,represent:Vde}),Kde=Object.prototype.hasOwnProperty,Jde=Object.prototype.toString;function Xde(e){if(e===null)return!0;var t=[],n,r,o,i,s,a=e;for(n=0,r=a.length;n<r;n+=1){if(o=a[n],s=!1,Jde.call(o)!=="[object Object]")return!1;for(i in o)if(Kde.call(o,i))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function Zde(e){return e!==null?e:[]}var Qde=new jr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Xde,construct:Zde}),efe=Object.prototype.toString;function tfe(e){if(e===null)return!0;var t,n,r,o,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],efe.call(r)!=="[object Object]"||(o=Object.keys(r),o.length!==1))return!1;i[t]=[o[0],r[o[0]]]}return!0}function nfe(e){if(e===null)return[];var t,n,r,o,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],o=Object.keys(r),i[t]=[o[0],r[o[0]]];return i}var rfe=new jr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tfe,construct:nfe}),ofe=Object.prototype.hasOwnProperty;function ife(e){if(e===null)return!0;var t,n=e;for(t in n)if(ofe.call(n,t)&&n[t]!==null)return!1;return!0}function sfe(e){return e!==null?e:{}}var afe=new jr("tag:yaml.org,2002:set",{kind:"mapping",resolve:ife,construct:sfe}),gG=Ude.extend({implicit:[Hde,qde],explicit:[Gde,Qde,rfe,afe]}),kl=Object.prototype.hasOwnProperty,jb=1,vG=2,xG=3,Hb=4,nN=1,cfe=2,Zz=3,lfe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ufe=/[\x85\u2028\u2029]/,dfe=/[,\[\]\{\}]/,wG=/^(?:!|!!|![a-z\-]+!)$/i,yG=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Qz(e){return Object.prototype.toString.call(e)}function qs(e){return e===10||e===13}function Kd(e){return e===9||e===32}function Io(e){return e===9||e===32||e===10||e===13}function Tm(e){return e===44||e===91||e===93||e===123||e===125}function ffe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function pfe(e){return e===120?2:e===117?4:e===85?8:0}function mfe(e){return 48<=e&&e<=57?e-48:-1}function eG(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function hfe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var EG=new Array(256),CG=new Array(256);for(Gd=0;Gd<256;Gd++)EG[Gd]=eG(Gd)?1:0,CG[Gd]=eG(Gd);var Gd;function gfe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||gG,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function bG(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=rde(n),new Do(t,n)}function Te(e,t){throw bG(e,t)}function Bb(e,t){e.onWarning&&e.onWarning.call(null,bG(e,t))}var tG={YAML:function(t,n,r){var o,i,s;t.version!==null&&Te(t,"duplication of %YAML directive"),r.length!==1&&Te(t,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),o===null&&Te(t,"ill-formed argument of the YAML directive"),i=parseInt(o[1],10),s=parseInt(o[2],10),i!==1&&Te(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Bb(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var o,i;r.length!==2&&Te(t,"TAG directive accepts exactly two arguments"),o=r[0],i=r[1],wG.test(o)||Te(t,"ill-formed tag handle (first argument) of the TAG directive"),kl.call(t.tagMap,o)&&Te(t,'there is a previously declared suffix for "'+o+'" tag handle'),yG.test(i)||Te(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Te(t,"tag prefix is malformed: "+i)}t.tagMap[o]=i}};function Tl(e,t,n,r){var o,i,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(o=0,i=a.length;o<i;o+=1)s=a.charCodeAt(o),s===9||32<=s&&s<=1114111||Te(e,"expected valid JSON character");else lfe.test(a)&&Te(e,"the stream contains non-printable characters");e.result+=a}}function nG(e,t,n,r){var o,i,s,a;for(Gn.isObject(n)||Te(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),s=0,a=o.length;s<a;s+=1)i=o[s],kl.call(t,i)||(t[i]=n[i],r[i]=!0)}function km(e,t,n,r,o,i,s,a,c){var l,u;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),l=0,u=o.length;l<u;l+=1)Array.isArray(o[l])&&Te(e,"nested arrays are not supported inside keys"),typeof o=="object"&&Qz(o[l])==="[object Object]"&&(o[l]="[object Object]");if(typeof o=="object"&&Qz(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)nG(e,t,i[l],n);else nG(e,t,i,n);else!e.json&&!kl.call(n,o)&&kl.call(t,o)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Te(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function lN(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Te(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function kn(e,t,n){for(var r=0,o=e.input.charCodeAt(e.position);o!==0;){for(;Kd(o);)o===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(qs(o))for(lN(e),o=e.input.charCodeAt(e.position),r++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Bb(e,"deficient indentation"),r}function Yb(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Io(n)))}function uN(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gn.repeat(`
`,t-1))}function vfe(e,t,n){var r,o,i,s,a,c,l,u,d=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),Io(f)||Tm(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(o=e.input.charCodeAt(e.position+1),Io(o)||n&&Tm(o)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,a=!1;f!==0;){if(f===58){if(o=e.input.charCodeAt(e.position+1),Io(o)||n&&Tm(o))break}else if(f===35){if(r=e.input.charCodeAt(e.position-1),Io(r))break}else{if(e.position===e.lineStart&&Yb(e)||n&&Tm(f))break;if(qs(f))if(c=e.line,l=e.lineStart,u=e.lineIndent,kn(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(Tl(e,i,s,!1),uN(e,e.line-c),i=s=e.position,a=!1),Kd(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return Tl(e,i,s,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function xfe(e,t){var n,r,o;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Tl(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,o=e.position;else return!0;else qs(n)?(Tl(e,r,o,!0),uN(e,kn(e,!1,t)),r=o=e.position):e.position===e.lineStart&&Yb(e)?Te(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);Te(e,"unexpected end of the stream within a single quoted scalar")}function wfe(e,t){var n,r,o,i,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Tl(e,n,e.position,!0),e.position++,!0;if(a===92){if(Tl(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),qs(a))kn(e,!1,t);else if(a<256&&EG[a])e.result+=CG[a],e.position++;else if((s=pfe(a))>0){for(o=s,i=0;o>0;o--)a=e.input.charCodeAt(++e.position),(s=ffe(a))>=0?i=(i<<4)+s:Te(e,"expected hexadecimal character");e.result+=hfe(i),e.position++}else Te(e,"unknown escape sequence");n=r=e.position}else qs(a)?(Tl(e,n,r,!0),uN(e,kn(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Yb(e)?Te(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Te(e,"unexpected end of the stream within a double quoted scalar")}function yfe(e,t){var n=!0,r,o,i,s=e.tag,a,c=e.anchor,l,u,d,p,f,m=Object.create(null),h,v,g,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,f=!1,a=[];else if(y===123)u=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(kn(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=s,e.anchor=c,e.kind=f?"mapping":"sequence",e.result=a,!0;n?y===44&&Te(e,"expected the node content, but found ','"):Te(e,"missed comma between flow collection entries"),v=h=g=null,d=p=!1,y===63&&(l=e.input.charCodeAt(e.position+1),Io(l)&&(d=p=!0,e.position++,kn(e,!0,t))),r=e.line,o=e.lineStart,i=e.position,Rm(e,t,jb,!1,!0),v=e.tag,h=e.result,kn(e,!0,t),y=e.input.charCodeAt(e.position),(p||e.line===r)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),kn(e,!0,t),Rm(e,t,jb,!1,!0),g=e.result),f?km(e,a,m,v,h,g,r,o,i):d?a.push(km(e,null,m,v,h,g,r,o,i)):a.push(h),kn(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}Te(e,"unexpected end of the stream within a flow collection")}function Efe(e,t){var n,r,o=nN,i=!1,s=!1,a=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)nN===o?o=d===43?Zz:cfe:Te(e,"repeat of a chomping mode identifier");else if((u=mfe(d))>=0)u===0?Te(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Te(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(Kd(d)){do d=e.input.charCodeAt(++e.position);while(Kd(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!qs(d)&&d!==0)}for(;d!==0;){for(lN(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),qs(d)){c++;continue}if(e.lineIndent<a){o===Zz?e.result+=Gn.repeat(`
`,i?1+c:c):o===nN&&i&&(e.result+=`
`);break}for(r?Kd(d)?(l=!0,e.result+=Gn.repeat(`
`,i?1+c:c)):l?(l=!1,e.result+=Gn.repeat(`
`,c+1)):c===0?i&&(e.result+=" "):e.result+=Gn.repeat(`
`,c):e.result+=Gn.repeat(`
`,i?1+c:c),i=!0,s=!0,c=0,n=e.position;!qs(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Tl(e,n,e.position,!1)}return!0}function rG(e,t){var n,r=e.tag,o=e.anchor,i=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!Io(s))));){if(a=!0,e.position++,kn(e,!0,-1)&&e.lineIndent<=t){i.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,Rm(e,t,xG,!1,!0),i.push(e.result),kn(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)Te(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=r,e.anchor=o,e.kind="sequence",e.result=i,!0):!1}function Cfe(e,t,n){var r,o,i,s,a,c,l=e.tag,u=e.anchor,d={},p=Object.create(null),f=null,m=null,h=null,v=!1,g=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,(y===63||y===58)&&Io(r))y===63?(v&&(km(e,d,p,f,m,null,s,a,c),f=m=h=null),g=!0,v=!0,o=!0):v?(v=!1,o=!0):Te(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=r;else{if(s=e.line,a=e.lineStart,c=e.position,!Rm(e,n,vG,!1,!0))break;if(e.line===i){for(y=e.input.charCodeAt(e.position);Kd(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Io(y)||Te(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(km(e,d,p,f,m,null,s,a,c),f=m=h=null),g=!0,v=!1,o=!1,f=e.tag,m=e.result;else if(g)Te(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(g)Te(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===i||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,c=e.position),Rm(e,t,Hb,!0,o)&&(v?m=e.result:h=e.result),v||(km(e,d,p,f,m,h,s,a,c),f=m=h=null),kn(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&y!==0)Te(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&km(e,d,p,f,m,null,s,a,c),g&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),g}function bfe(e){var t,n=!1,r=!1,o,i,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Te(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,o="!!",s=e.input.charCodeAt(++e.position)):o="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(i=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Te(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Io(s);)s===33&&(r?Te(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(t-1,e.position+1),wG.test(o)||Te(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),dfe.test(i)&&Te(e,"tag suffix cannot contain flow indicator characters")}i&&!yG.test(i)&&Te(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Te(e,"tag name is malformed: "+i)}return n?e.tag=i:kl.call(e.tagMap,o)?e.tag=e.tagMap[o]+i:o==="!"?e.tag="!"+i:o==="!!"?e.tag="tag:yaml.org,2002:"+i:Te(e,'undeclared tag handle "'+o+'"'),!0}function _fe(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Te(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Io(n)&&!Tm(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Te(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Sfe(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Io(r)&&!Tm(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Te(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),kl.call(e.anchorMap,n)||Te(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],kn(e,!0,-1),!0}function Rm(e,t,n,r,o){var i,s,a,c=1,l=!1,u=!1,d,p,f,m,h,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=s=a=Hb===n||xG===n,r&&kn(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;bfe(e)||_fe(e);)kn(e,!0,-1)?(l=!0,a=i,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||o),(c===1||Hb===n)&&(jb===n||vG===n?h=t:h=t+1,v=e.position-e.lineStart,c===1?a&&(rG(e,v)||Cfe(e,v,h))||yfe(e,h)?u=!0:(s&&Efe(e,h)||xfe(e,h)||wfe(e,h)?u=!0:Sfe(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Te(e,"alias node should not have any properties")):vfe(e,h,jb===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&rG(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Te(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(kl.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],d=0,p=f.length;d<p;d+=1)if(e.tag.slice(0,f[d].tag.length)===f[d].tag){m=f[d];break}m||Te(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&Te(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Te(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Dfe(e){var t=e.position,n,r,o,i=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(kn(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(i=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Io(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),o=[],r.length<1&&Te(e,"directive name must not be less than one character in length");s!==0;){for(;Kd(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!qs(s));break}if(qs(s))break;for(n=e.position;s!==0&&!Io(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(n,e.position))}s!==0&&lN(e),kl.call(tG,r)?tG[r](e,r,o):Bb(e,'unknown document directive "'+r+'"')}if(kn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,kn(e,!0,-1)):i&&Te(e,"directives end mark is expected"),Rm(e,e.lineIndent-1,Hb,!1,!0),kn(e,!0,-1),e.checkLineBreaks&&ufe.test(e.input.slice(t,e.position))&&Bb(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Yb(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,kn(e,!0,-1));return}if(e.position<e.length-1)Te(e,"end of the stream or a document separator is expected");else return}function _G(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new gfe(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,Te(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Dfe(n);return n.documents}function Ife(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=_G(e,n);if(typeof t!="function")return r;for(var o=0,i=r.length;o<i;o+=1)t(r[o])}function Pfe(e,t){var n=_G(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Do("expected a single document in the stream, but found more")}}var Tfe=Ife,kfe=Pfe,SG={loadAll:Tfe,load:kfe},DG=Object.prototype.toString,IG=Object.prototype.hasOwnProperty,dN=65279,Rfe=9,vx=10,Nfe=13,Lfe=32,Afe=33,Ffe=34,oN=35,Ofe=37,Ufe=38,Mfe=39,$fe=42,PG=44,jfe=45,qb=58,Hfe=61,Bfe=62,qfe=63,Wfe=64,TG=91,kG=93,Yfe=96,RG=123,Vfe=124,NG=125,Hr={};Hr[0]="\\0";Hr[7]="\\a";Hr[8]="\\b";Hr[9]="\\t";Hr[10]="\\n";Hr[11]="\\v";Hr[12]="\\f";Hr[13]="\\r";Hr[27]="\\e";Hr[34]='\\"';Hr[92]="\\\\";Hr[133]="\\N";Hr[160]="\\_";Hr[8232]="\\L";Hr[8233]="\\P";var zfe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Gfe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Kfe(e,t){var n,r,o,i,s,a,c;if(t===null)return{};for(n={},r=Object.keys(t),o=0,i=r.length;o<i;o+=1)s=r[o],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&IG.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}function Jfe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Do("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Gn.repeat("0",r-t.length)+t}var Xfe=1,xx=2;function Zfe(e){this.schema=e.schema||gG,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gn.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Kfe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?xx:Xfe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function oG(e,t){for(var n=Gn.repeat(" ",t),r=0,o=-1,i="",s,a=e.length;r<a;)o=e.indexOf(`
`,r),o===-1?(s=e.slice(r),r=a):(s=e.slice(r,o+1),r=o+1),s.length&&s!==`
`&&(i+=n),i+=s;return i}function iN(e,t){return`
`+Gn.repeat(" ",e.indent*t)}function Qfe(e,t){var n,r,o;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(o=e.implicitTypes[n],o.resolve(t))return!0;return!1}function Wb(e){return e===Lfe||e===Rfe}function wx(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==dN||65536<=e&&e<=1114111}function iG(e){return wx(e)&&e!==dN&&e!==Nfe&&e!==vx}function sG(e,t,n){var r=iG(e),o=r&&!Wb(e);return(n?r:r&&e!==PG&&e!==TG&&e!==kG&&e!==RG&&e!==NG)&&e!==oN&&!(t===qb&&!o)||iG(t)&&!Wb(t)&&e===oN||t===qb&&o}function epe(e){return wx(e)&&e!==dN&&!Wb(e)&&e!==jfe&&e!==qfe&&e!==qb&&e!==PG&&e!==TG&&e!==kG&&e!==RG&&e!==NG&&e!==oN&&e!==Ufe&&e!==$fe&&e!==Afe&&e!==Vfe&&e!==Hfe&&e!==Bfe&&e!==Mfe&&e!==Ffe&&e!==Ofe&&e!==Wfe&&e!==Yfe}function tpe(e){return!Wb(e)&&e!==qb}function hx(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function LG(e){var t=/^\n* /;return t.test(e)}var AG=1,sN=2,FG=3,OG=4,Pm=5;function npe(e,t,n,r,o,i,s,a){var c,l=0,u=null,d=!1,p=!1,f=r!==-1,m=-1,h=epe(hx(e,0))&&tpe(hx(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=hx(e,c),!wx(l))return Pm;h=h&&sG(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=hx(e,c),l===vx)d=!0,f&&(p=p||c-m-1>r&&e[m+1]!==" ",m=c);else if(!wx(l))return Pm;h=h&&sG(l,u,a),u=l}p=p||f&&c-m-1>r&&e[m+1]!==" "}return!d&&!p?h&&!s&&!o(e)?AG:i===xx?Pm:sN:n>9&&LG(e)?Pm:s?i===xx?Pm:sN:p?OG:FG}function rpe(e,t,n,r,o){e.dump=function(){if(t.length===0)return e.quotingType===xx?'""':"''";if(!e.noCompatMode&&(zfe.indexOf(t)!==-1||Gfe.test(t)))return e.quotingType===xx?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=r||e.flowLevel>-1&&n>=e.flowLevel;function c(l){return Qfe(e,l)}switch(npe(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!r,o)){case AG:return t;case sN:return"'"+t.replace(/'/g,"''")+"'";case FG:return"|"+aG(t,e.indent)+cG(oG(t,i));case OG:return">"+aG(t,e.indent)+cG(oG(ope(t,s),i));case Pm:return'"'+ipe(t)+'"';default:throw new Do("impossible error: invalid scalar style")}}()}function aG(e,t){var n=LG(e)?String(t):"",r=e[e.length-1]===`
`,o=r&&(e[e.length-2]===`
`||e===`
`),i=o?"+":r?"":"-";return n+i+`
`}function cG(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function ope(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,n.lastIndex=l,lG(e.slice(0,l),t)}(),o=e[0]===`
`||e[0]===" ",i,s;s=n.exec(e);){var a=s[1],c=s[2];i=c[0]===" ",r+=a+(!o&&!i&&c!==""?`
`:"")+lG(c,t),o=i}return r}function lG(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,o=0,i,s=0,a=0,c="";r=n.exec(e);)a=r.index,a-o>t&&(i=s>o?s:a,c+=`
`+e.slice(o,i),o=i+1),s=a;return c+=`
`,e.length-o>t&&s>o?c+=e.slice(o,s)+`
`+e.slice(s+1):c+=e.slice(o),c.slice(1)}function ipe(e){for(var t="",n=0,r,o=0;o<e.length;n>=65536?o+=2:o++)n=hx(e,o),r=Hr[n],!r&&wx(n)?(t+=e[o],n>=65536&&(t+=e[o+1])):t+=r||Jfe(n);return t}function spe(e,t,n){var r="",o=e.tag,i,s,a;for(i=0,s=n.length;i<s;i+=1)a=n[i],e.replacer&&(a=e.replacer.call(n,String(i),a)),(tc(e,t,a,!1,!1)||typeof a>"u"&&tc(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=o,e.dump="["+r+"]"}function uG(e,t,n,r){var o="",i=e.tag,s,a,c;for(s=0,a=n.length;s<a;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(tc(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&tc(e,t+1,null,!0,!0,!1,!0))&&((!r||o!=="")&&(o+=iN(e,t)),e.dump&&vx===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=i,e.dump=o||"[]"}function ape(e,t,n){var r="",o=e.tag,i=Object.keys(n),s,a,c,l,u;for(s=0,a=i.length;s<a;s+=1)u="",r!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=i[s],l=n[c],e.replacer&&(l=e.replacer.call(n,c,l)),tc(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),tc(e,t,l,!1,!1)&&(u+=e.dump,r+=u));e.tag=o,e.dump="{"+r+"}"}function cpe(e,t,n,r){var o="",i=e.tag,s=Object.keys(n),a,c,l,u,d,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Do("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)p="",(!r||o!=="")&&(p+=iN(e,t)),l=s[a],u=n[l],e.replacer&&(u=e.replacer.call(n,l,u)),tc(e,t+1,l,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&vx===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=iN(e,t)),tc(e,t+1,u,!0,d)&&(e.dump&&vx===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,o+=p));e.tag=i,e.dump=o||"{}"}function dG(e,t,n){var r,o,i,s,a,c;for(o=n?e.explicitTypes:e.implicitTypes,i=0,s=o.length;i<s;i+=1)if(a=o[i],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,DG.call(a.represent)==="[object Function]")r=a.represent(t,c);else if(IG.call(a.represent,c))r=a.represent[c](t,c);else throw new Do("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=r}return!0}return!1}function tc(e,t,n,r,o,i,s){e.tag=null,e.dump=n,dG(e,n,!1)||dG(e,n,!0);var a=DG.call(e.dump),c=r,l;r&&(r=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",d,p;if(u&&(d=e.duplicates.indexOf(n),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(o=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(u&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(e.dump).length!==0?(cpe(e,t,e.dump,o),p&&(e.dump="&ref_"+d+e.dump)):(ape(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?uG(e,t-1,e.dump,o):uG(e,t,e.dump,o),p&&(e.dump="&ref_"+d+e.dump)):(spe(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&rpe(e,e.dump,t,i,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Do("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function lpe(e,t){var n=[],r=[],o,i;for(aN(e,n,r),o=0,i=r.length;o<i;o+=1)t.duplicates.push(n[r[o]]);t.usedDuplicates=new Array(i)}function aN(e,t,n){var r,o,i;if(e!==null&&typeof e=="object")if(o=t.indexOf(e),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)aN(e[o],t,n);else for(r=Object.keys(e),o=0,i=r.length;o<i;o+=1)aN(e[r[o]],t,n)}function upe(e,t){t=t||{};var n=new Zfe(t);n.noRefs||lpe(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),tc(n,0,r,!0,!0)?n.dump+`
`:""}var dpe=upe,fpe={dump:dpe};function fN(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var yx=SG.load,YPe=SG.loadAll,VPe=fpe.dump;var zPe=fN("safeLoad","load"),GPe=fN("safeLoadAll","loadAll"),KPe=fN("safeDump","dump");var ss=G(require("path")),BG=G(require("os")),qG=G(require("crypto")),WG=G(hC());var Ex=G(require("path")),$G=G(require("os"));var MG=G(require("crypto"));var is={async readDocument(e){switch(e.scheme){case"file":try{return(await ct(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,n){switch(e.scheme){case"file":let r=wo(n,t);await eE(e.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},tt=class e{constructor(t,n=e.scheme){this.fileHost=t;this.scheme=n}static scheme="vscode-fileHost";async readDocument(t){switch(t.scheme){case this.scheme:try{return(await this.fileHost.readFile(Ie(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case this.scheme:let o=wo(r,n);await this.fileHost.writeFile(Ie(t,this.fileHost.platform),Buffer.from(o));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},so=class e{constructor(t){this.shellServer=t}static scheme="vscode-remote";static nonce;async readDocument(t){switch(t.scheme){case e.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${t.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case e.scheme:try{e.nonce||(e.nonce=MG.randomUUID());let o=wo(r,n),i=`EOF-${e.nonce}`;await this.shellServer.exec(`cat <<'${i}' >${t.path}
${o}
${i}
`)}catch(o){console.log(o)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},mN=class{constructor(t){this.documents=t}async readDocument(t){let n=this.documents[t.scheme];if(!n)throw new Error(`Unsupported scheme: ${t.toString()}`);return n.readDocument(t)}async applyEdits(t,n,r){let o=this.documents[t.scheme];if(!o)throw new Error(`Unsupported scheme: ${t.toString()}`);return o.applyEdits(t,n,r)}};function sr(e,t){let n={file:is,[tt.scheme]:new tt(e)};return t&&(n[so.scheme]="readFile"in t?new tt(t,so.scheme):new so(t)),new mN(n)}var pN=new Map;async function hN(e,t){let n=e.toString(),r=pN.get(n);if(r||pN.set(n,r=[]),r.push(t),r.length===1){for(;r.length;)await r[0](),r.shift();pN.delete(n)}}function Ie(e,t){let n;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===tt.scheme)?n=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?n=e.path[1].toLowerCase()+e.path.substr(2):n=e.path,t==="win32"&&(n=n.replace(/\//g,"\\"),n[0]==="\\"&&n[1]!=="\\"&&(n=`C:${n}`)),n}function Rn(e,t,n){let r=e==="win32"?"/"+n.replace(/\\/g,"/"):n;return t.with({path:r})}function Rl(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}function Cx(e,t){let n=e.normalize(t);return Rl(e,"").includes(n)}async function Jd(e,t){let n=Rl(e.path,t);for(let r of n)if(await e.isFile(r))return be.file(r).with({scheme:tt.scheme})}async function jG(e){let t=Rl(Ex,e);for(let n of t)if(await gr(n))return n}var nc=`{${$G.EOL}}`;async function Ni(e,t,n,r){t.scheme==="file"&&await Xi(Ex.dirname(t.fsPath)),await e.applyEdits(t,n,r)}function Xd(e){let t=Ex.posix.dirname(e.path);return e.with({path:t})}var bx=require("string_decoder");function _x(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t={...e},n=t.customizations||(t.customizations={}),r=n.vscode||(n.vscode={});return t.extensions&&(r.extensions=(r.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(r.settings={...t.settings,...r.settings||{}},delete t.settings),t.devPort!==void 0&&r.devPort===void 0&&(r.devPort=t.devPort,delete t.devPort),t}function gN(e,t,n){return Vb(e,t.configFilePath,n)}function Vb(e,t,n){let r=Xd(t);return t.with({path:ss.posix.resolve(r.path,e.platform==="win32"&&t.scheme!==so.scheme?(ss.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function Po(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function zb(e){return e&&(Po(e)||"image"in e||"dockerComposeFile"in e)}function Zd(e,t){return gN(e,t,mpe(t))}function mpe(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function Nl(e,t,n,r){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(o=>Ie(gN(e,t,o),e.platform))}else if(typeof t.dockerComposeFile=="string")return[Ie(gN(e,t,t.dockerComposeFile),e.platform)];if(r){let o=n==null?void 0:n.COMPOSE_FILE;if(o)return o.split(e.path.delimiter).map(a=>e.path.resolve(r,a));try{let a=e.path.join(r,".env"),c=await e.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(e.path.delimiter).map(d=>e.path.resolve(r,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let i=[e.path.resolve(r,"docker-compose.yml")],s=e.path.resolve(r,"docker-compose.override.yml");return await e.isFile(s)&&i.push(s),i}return[]}async function ri(e,t){let{cliHost:n,postCreate:r,output:o}=e;o.write(`Running Dev Containers CLI:   ${t.join(" ")}
`);let i=await hpe(e),s=Sx(n),a;try{await gpe({exec:n.exec,cwd:e.cwd||i.cwd,cmd:s.cmd,args:[...s.args,i.script,...t],env:await vN(e,s.cmd),stdin:r==null?void 0:r.onDidInput,output:o,stdoutData:c=>a=c,stderrData:c=>o.event(c)}),o.write(a?JSON.stringify(a,void 0,4):"(No dev container CLI standard out)",1),o.write("Dev Containers CLI completed",1)}catch(c){throw c.data=a,c}return a}async function hpe(e){let{cliHost:t,extensionPath:n,output:r}=e,o=ss.join(n,"dist","spec-node","devContainersSpecCLI.js"),i=t.type==="local"?n:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?o:t.path.join(i,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","remote"].indexOf(t.type)!==-1){let a="Checking for Dev Containers CLI",c=r.start(a),l=await t.isFile(s);if(r.stop(a,c),!l){let u="Copying Dev Containers CLI",d=r.start(u),p=`${i}-${qG.randomUUID()}`,f=t.path.join(p,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(f)),await Promise.all([HG(ss.join(n,"package.json"),t,t.path.join(p,"package.json")),HG(o,t,f),Dx(ss.join(n,"scripts"),t,t.path.join(p,"scripts"),r)]),await t.rename(p,i),r.stop(u,d)}}return{cwd:i,script:s}}function Sx(e){if(e.type==="local")return wl?{cmd:process.argv[0],args:[]}:{cmd:process.argv[0],args:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}async function gpe(e){let{exec:t,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,stdoutData:c,stderrData:l}=e,u=await t({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((d,p)=>{let f=new bx.StringDecoder,m="";u.stdout.on("data",y=>{m+=f.write(y);let x=m.split(`
`);m=x.pop();for(let w of x)if(w.trim())try{c(JSON.parse(w))}catch{a.write(w)}}),u.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let h=new bx.StringDecoder,v="";u.stderr.on("data",y=>{v+=h.write(y);let x=v.split(`
`);v=x.pop();for(let w of x)if(w.trim())try{l(JSON.parse(w))}catch{a.write(w)}}),u.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let g=[];u.exit.then(({code:y})=>{try{g.forEach(x=>x.dispose()),y?(a.write(`Exit code ${y}`),p({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:y})):d()}catch(x){p(x)}},p),typeof s=="function"&&g.push(s(y=>u.stdin.write(y)))})}async function vN(e,t){let{cliHost:n,env:r,appRoot:o}=e,i=await n.locateCertificatesFile();return{...r,...n.type==="local"?o?{NODE_PATH:`${n.path.join(o,"node_modules.asar")}${ss.delimiter}${n.path.join(o,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(t),"node_modules")},...i?{NODE_EXTRA_CA_CERTS:i}:{},...wl?{TS_NODE_PROJECT:void 0}:{}}}async function HG(e,t,n){await t.writeFile(n,await ct(e))}async function Dx(e,t,n,r){await t.mkdirp(n);let o=WG.c({cwd:e,filter:l=>(console.log(l),!0)},["."]),i=new Promise((l,u)=>{o.on("error",u),o.on("finish",l)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new bx.StringDecoder;s.stdout.on("data",l=>{r.write(a.write(l))});let c=new bx.StringDecoder;s.stderr.on("data",l=>{r.write(ft(c.write(l)))}),o.pipe(s.stdin),await Promise.all([s.exit,i])}async function To(){return ss.join(BG.tmpdir(),process.platform==="linux"?`vsch-${await Eb()}`:"vsch")}function vpe(){return{contentHashes:{}}}async function Kb(e,t,n,r){let o=e.getConfigurationState();if(o){let i=o.contentHashes,s=Object.keys(i),c=(await xN(t,n,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(f=>u.delete(f));let d=new Set(s);l.forEach(f=>d.delete(f));let p=[];for(let f of s)f in c&&c[f]!==i[f]&&p.push(f);if(u.size||d.size||p.length){let f=await xN(t,n,r);(async()=>{await e.containerOutdated([...u,...d,...p].sort())==="ignore"&&await e.updateConfigurationState(f)})().catch(console.error)}}else await VG(e,t,n,r)}async function Jb(e,t,n,r,o){let i="Updating configuration state",s=o.start(i);await VG(e,t,n,r),o.stop(i,s)}async function VG(e,t,n,r){let o=await xN(t,n,r);await e.updateConfigurationState(o)}async function xN(e,t,n){let r=vpe();Gb(r,Ix.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let o=Xd(n.configFilePath).path;if(Po(n)){let i=Zd(e,n),s=await t.readDocument(i);s!==void 0&&Gb(r,Ix.posix.relative(o,i.path),s)}if("dockerComposeFile"in n){let i=await Nl(e,n,e.env,e.cwd),s=await Promise.all(i.map(async a=>{let c=be.file(a).with({scheme:tt.scheme});return{uri:c,content:await t.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&Gb(r,Ix.posix.relative(o,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=xpe(l),d=u&&u.services,p=d&&d[n.service],f=p&&p.build,m=f&&(typeof f=="string"?f:f.context);if(m){let h=Vb(e,c,m),v=zG(h,f.dockerfile||"Dockerfile"),g=await t.readDocument(v);g!==void 0&&Gb(r,Ix.posix.relative(o,v.path),g)}if(p&&(p.image||p.build))break}}}return r}function xpe(e){try{return yx(e)}catch{return{}}}function Gb(e,t,n){let r=YG.createHash("sha256").update(n).digest("hex");e.contentHashes[t]=r}var cs=G(require("path")),Ks=G(require("crypto"));var Ml=G(Nr());var Br=G(require("path")),TN=G(require("crypto"));var tf=G(Nr());var ZG=G(require("net")),bN=G(require("path"));var wN=G(require("path")),EN=G(require("http")),GG=G(require("os")),KG=G(require("crypto"));async function JG(e,t){let n=await CN(e),r=new yN(n,t);return r.listen(),r}var yN=class{constructor(t,n){this.ipcHandlePath=t;this.server=EN.createServer((r,o)=>{Promise.resolve(n(r,o)).catch(i=>console.error(i&&i.message||i))}),this.server.on("error",r=>console.error(r))}server;listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function XG(e){return new Promise((t,n)=>{let r=[];e.setEncoding("utf8"),e.on("data",o=>r.push(o)),e.on("error",o=>n(o)),e.on("end",()=>{let o=JSON.parse(r.join(""));t(o)})})}async function CN(e){let t=KG.randomUUID(),n=`${e}-${t}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?wN.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):wN.join(GG.tmpdir(),`${n}.sock`)}var Xb=class{messages=[];dequeueRequest;push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof t=="number"&&setTimeout(r,t)})}};async function Ll(e,t,n){if(process.env.SSH_ASKPASS)return{};let r=await CN("ssh-askpass");return await new Promise((o,i)=>{ZG.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let l=await t(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{i(s)}).listen(r,()=>{o()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:bN.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_MAIN:bN.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var wpe=0;function Cr(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++wpe)}:{}}async function oi(e,t){return(await Ws(e,[t]))[0]}async function Ws(e,t){let n=await Qb(e,"container",t);for(let r of n){r.Ports=[];let o=r.NetworkSettings.Ports;for(let i in o){let[s,a]=i.split("/");for(let c of o[i]||[]){let{HostIp:l,HostPort:u}=c;r.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return n}async function QG(e,t){return(await Qb(e,"image",[t]))[0]}async function Zb(e,t){return(await Qb(e,"volume",[t]))[0]}async function Qd(e,t){return Qb(e,"volume",t)}async function Qb(e,t,n){if(!n.length)return[];let r=Li(e),o=await se({...r,args:(r.args||[]).concat(["inspect","--type",t,...n])});try{return JSON.parse(o.stdout.toString())}catch(i){throw console.error({stdout:o.stdout.toString(),stderr:o.stderr.toString()}),i}}async function ef(e,t=!1,n=[]){let r=[];t&&r.push("-a");for(let i of n)r.push("--filter",`label=${i}`);return(await ze(e,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function ko(e,t=[]){let n=[];for(let o of t)n.push("--filter",`label=${o}`);return(await ze(e,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function Al(e,t=[]){return(await ze(e,"volume","ls","-q","-f","dangling=true",...t.map(r=>["-f",`label=${r}`]).flat())).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Nm(e,t,n){let r=[];for(let o of n||[])r.push("--label",o);await ze(e,"volume","create",...r,t)}async function _N(e,t){let{exec:n,cmd:r,args:o,env:i,output:s}=Li(e),a=[];for(let p in t)for(let f of t[p])a.push("--filter",`${p}=${f}`);let c=await DN(e)?"json":"{{json .}}",l=(o||[]).concat(["events","--format",c,...a]),u=await n({cmd:r,args:l,env:i,output:s}),d=[];return u.stderr.on("data",p=>d.push(p)),u.exit.then(({code:p,signal:f})=>{d.length&&s.write(ft(Buffer.concat(d).toString())),(p||f&&f!=="SIGKILL")&&s.write(ft(`Docker events terminated (code: ${p}, signal: ${f}).`))},p=>{s.write(ft(p&&(p.stack||p.message)))}),u}async function ze(e,...t){let n=Li(e);return se({...n,args:(n.args||[]).concat(t)})}async function SN(e){var t;try{let{stdout:n}=await ze(e,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(r).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function DN(e){try{let{stdout:t}=await ze(e,"-v");return t.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function e3(e,...t){let n=r3(e);return Hs({...n,args:(n.args||[]).concat(t)})}async function Px(e,...t){let n=Li(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return se({...n,args:(n.args||[]).concat(t)})}function as(e,t,n){return async function(r){let{exec:o,cmd:i,args:s,env:a}=Li(e),{argsPrefix:c,args:l}=n3(t,n,r,!1);return o({cmd:i,args:(s||[]).concat(l),env:a,output:t3(r.output,i,c)})}}async function Ys(e,t,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(i){let{ptyExec:s,cmd:a,args:c,env:l}=r3(e),{argsPrefix:u,args:d}=n3(t,n,i,s.isTTY!==!1);return s({cmd:a,args:(c||[]).concat(d),env:l,output:t3(i.output,a,u)})}}function t3(e,t,n){return ype(e,`Run: ${t} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function ype(e,t,n){let r=new RegExp(bm(t),"g");return Yn({...e,get dimensions(){return e.dimensions},event:i=>e.event("text"in i?{...i,text:i.text.replace(r,n)}:i)})}function n3(e,t,n,r){let{env:o,cwd:i,cmd:s,args:a}=n,c=["exec","-i"];r&&c.push("-t"),t&&c.push("-u",t),o&&Object.keys(o).forEach(u=>c.push("-e",`${u}=${o[u]}`)),i&&c.push("-w",i),c.push(e);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function Li(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...Cr(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...Cr(e.env)},output:e.output}:{...e,env:{...e.env,...Cr(e.env)}}}function r3(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...Cr(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...Cr(e.env)},output:e.output}:{...e,env:{...e.env,...Cr(e.env)}}}var o3=G(Nr()),Epe="com.docker.compose.project";async function i3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var g,y;let{common:m}=e,{cliHost:h}=t,v;try{let x=await Nl(h,n,h.env,h.cwd),w=h.path.join(h.cwd,".env"),E=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await h.isFile(w)?w:void 0,I=!c,D=r.remoteUser,k=Cpe(n);v=await Am(e,s.Id,k,D),u&&c&&v.user!=="root"&&(v.launchRootShellServer?await $b(v,v.launchRootShellServer,k,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let N=await t_(m,c,s,k,v),R=sr(h,v.shellServer);I||await Jb(e.configurationTracking,h,R,n,m.output);let C=r.shutdownAction;C==="stopContainer"&&(C="stopCompose");let _={cwd:o,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:m.env,containerId:s.Id,user:v.user,sessionId:m.sessionId,shutdownAction:C,projectName:Tx(s),composeFiles:x,envFile:E,buildContainerRunArgs:l,service:n.service,runServices:n.runServices,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:b,doneWithDocuments:S}=await e_(e,h,R,"dockerCompose",_,I?n:void 0);m.backgroundTasks.push(S);let A=((y=(((g=r.customizations)==null?void 0:g.vscode)||[]).slice().reverse().find(J=>typeof J.devPort=="number"))==null?void 0:y.devPort)||zd,{hostOrContainerPort:L,hostPortServer:T,connectionToken:$,remoteEnv:H,serverDownloaded:Y}=await Pl(m,v,n,r,A,Fm(e,t,v,i,d,s.Id,a,p,f),N);return b.hostPortServer=T,{params:m,properties:v,config:n,resolvedAuthority:{host:Fl,port:L,connectionToken:$,extensionHostEnv:H},tunnelInformation:m.isLocalContainer?Lm(s):{},dockerParams:e,dockerContainerId:s.Id,serverDownloaded:Y}}catch(x){let w=x instanceof De?x:new De({description:o3.t("An error occurred setting up the container."),originalError:x});throw s&&(w.manageContainer=!0,w.params=e.common,w.containerId=s.Id,w.dockerParams=e),v&&(w.containerProperties=v),w.config=n,w}}function Cpe(e){return e.workspaceFolder||"/"}function Tx(e){let t=(e.Config.Labels||{})[Epe];return t||void 0}function Vs(e,t,n){let r;return()=>r||(r=(async()=>{let o=!0,i;try{i=(await Px({...e,cmd:t},"compose","version","--short")).stdout}catch{i=(await Px({...e,cmd:n},"version","--short")).stdout,o=!1}let s=i.toString().trim();return e.output.write(`Docker Compose version: ${s}`),{version:s,cmd:o?t:n,args:o?["compose"]:[]}})())}var kx=G(Nr());var n_=G(cv()),s3=G(require("url"));function r_(e,t){return new Promise((n,r)=>{let o=new s3.URL(e.url),i={hostname:o.hostname,port:o.port,path:o.pathname+o.search,method:e.type,headers:e.headers},s=(o.protocol==="https:"?n_.https:n_.http).request(i,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}});s.on("error",r),e.data&&s.write(e.data),s.end()})}async function Om(e,t,n,r){var c;let o=await Spe(t,e.output),i=Object.keys(n.features||{}).map(l=>{let u=bpe(o,l);return u?{configFeatureId:l,disallowedFeatureEntry:u}:void 0}).filter(Boolean);if(!i.length)return;let s=!1;if(r){let l=await Ol(e,r);((c=l==null?void 0:l.State)==null?void 0:c.Status)==="running"&&(await ze(e,"stop","-t","0",l.Id),s=!0)}let a=i[0];throw IN(a.configFeatureId,a.disallowedFeatureEntry.documentationURL,s)}function IN(e,t,n){return new De({description:n?kx.t("Cannot use the '{0}' feature since it was reported to be problematic. The existing dev container was stopped.",e):kx.t("Cannot use the '{0}' feature since it was reported to be problematic.",e),detail:kx.t("Please remove this feature from your devcontainer.json and rebuild the dev container before continuing."),data:{learnMoreUrl:t,reload:!1}})}function bpe(e,t){return e.disallowedFeatures.find(n=>t.startsWith(n.featureIdPrefix)&&(t.length===n.featureIdPrefix.length||"/:@".indexOf(t[n.featureIdPrefix.length])!==-1))}var a3="devcontainers.controlManifest",_pe=5*60*1e3;async function Spe(e,t){let n=e.get(a3);return n&&Date.parse(n.timestamp)+_pe>Date.now()?n.manifest:Dpe(e,n==null?void 0:n.manifest,t)}async function Dpe(e,t,n){let r;try{r=await Ipe()}catch(o){n.write(kx.t("Failed to fetch control manifest: {0}",o.message)),r=t||{disallowedFeatures:[]}}return e.update(a3,{timestamp:new Date().toISOString(),manifest:r}),r}async function Ipe(){let e=await r_({type:"GET",url:"https://containers.dev/static/devcontainer-control-manifest.json",headers:{"user-agent":"devcontainers-vscode",accept:"application/json"}}),t=We(e.toString())||{};return Array.isArray(t.disallowedFeatures)?t.disallowedFeatures=t.disallowedFeatures.filter(n=>typeof n.featureIdPrefix=="string"):t.disallowedFeatures=[],t}async function kN(e,t,n,r){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${Ie(t,e.common.cliHost.platform)}).`);let o=e.parsedAuthority;if(!o||ln(o))return Ppe(e,o,t,n,r);if(ai(o))return o.inspectVolume?PN(e,o):Tpe(e,o,t);if(of(o))return o.inspectVolume?PN(e,o):kpe(e,o,t);if(Ax(o))return PN(e,o);throw new Error(`Unexpected authority: ${JSON.stringify(o)}`)}async function Ppe(e,t,n,r,o){let{common:i,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=e,{cliHost:l,env:u,output:d}=i,p=l.cwd,f=e.originalCwd||p,m=t&&Tt(l.path,Kv(t.hostPath)?l.path.join(p,Br.basename(t.hostPath)):p);t!=null&&t.configFile&&!n&&(n=t.configFile,l.type==="wsl"&&n.scheme==="file"&&(n=be.from({scheme:tt.scheme,path:await l_(n,l)})));let h={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:d},v=o?void 0:RN(f),g=o||[`${Lx}=${f}`,`${c_}=${i.product.quality}`];return NN(e,h,v,g,f,p,n,r,void 0,m,t==null?void 0:t.settings,[],"on")}function RN(e,t){let n=[`${Nx}=${e}`];if(t){let{buildCLIHost:r,configFile:o}=t,i;o.scheme===tt.scheme||o.scheme==="file"&&r.type==="local"?i=Ie(o,r.platform):i=o.toString(),n.push(`${nf}=${i}`)}return n}async function Tpe(e,t,n){let{repositoryPath:r,volumeName:o,folder:i}=t,s=si(r);o=await m3(e,s,o);let{labels:a,remoteWorkspaceFolder:c}=h3(s,r,i,o),l=[...a],u=[...a,`${c_}=${e.common.product.quality}`],{containerId:d,shellServer:p,remoteContainersEnv:f,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,o,n),v=i?s.workspaceFolder(i):s.fullRepositoryName,g=FN(s,o,i,e.dockerSocketPath);return c3(e,t,n,m,h,d,p,f,o,v,c,l,u,g)}async function kpe(e,t,n){let{common:r}=e,{extensionPath:o,appRoot:i,loadNativeModule:s,output:a}=r,{volumeName:c,folder:l}=t,u=[`${s_}=${c}`,`${f3}=${l}`],d=u;await UN(e);let p=ON(c,rf(),e.dockerSocketPath),{stdout:f}=await ze(e,...p),m=f.toString().trim(),h=as(e,m,"root"),v=await Vt(h,a),g=[],y=Rx(l),x=y,w=await Ys(e,m,"root",s),E=ni("container",y,{},h,w,()=>{throw new Error("not implemented")},"node",a),{configuration:I}=await o_({cliHost:E,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:o,appRoot:i,package:r.package,output:a},y,n,e.common.getLogLevel(),u);return c3(e,t,n,I,g,m,v,{},c,y,x,u,d,p)}async function c3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var k,N,R;let m=Tt(Br.posix,l),h=[`type=volume,source=${c},target=${Br.posix.dirname(m.rootFolderPath)},external=true`],v=await g3(e,i,a,u),g={},{HOME:y,USERPROFILE:x}=e.common.env;y!=null&&y.startsWith("/")&&(g.HOME=y,await s.exec(`test -e "${y}" || (mkdir -p "$(dirname "${y}")" && ln -s ~ "${y}")`)),x!==void 0&&(g.USERPROFILE=x);let w=v.cliHost,E,I,D=Po(r)||"image"in r;if(D||"dockerComposeFile"in r&&r.workspaceFolder||o.length){let C=o.length?{...r.customizations,vscode:{...(k=r.customizations)==null?void 0:k.vscode,extensions:[...((R=(N=r.customizations)==null?void 0:N.vscode)==null?void 0:R.extensions)||[],...o]}}:r.customizations;I=D?A=>({...A,workspaceFolder:void 0,workspaceMount:"",customizations:C}):A=>({...A,workspaceFolder:m.rootFolderPath,customizations:C});let _=w.path.join(await w.tmpdir(),`devcontainer-${TN.randomUUID()}.json`),b=`EOF-${_}`,S=`${_}_${Date.now()}`;await s.exec(`cat <<'${b}' >${S}
${JSON.stringify({...I(r),configFilePath:void 0})}
${b}
mv ${S} ${_}`),E=be.from({scheme:tt.scheme,path:_})}try{return await NN(e,v,d,p,e.common.cliHost.cwd,w.cwd,n,E,I,m,t.settings,h,"off",f,!0,void 0,g)}finally{Promise.all(e.common.backgroundTasks.filter(C=>typeof C!="function").map(C=>C.catch(()=>{}))).then(()=>ze(e,"rm","-f",i))}}async function PN(e,t){let{common:n,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i}=e,{cliHost:s,env:a,output:c}=n,{volumeName:l}=t,u,d,p=Ax(t);p?(u=a_,d="Inspect Volume"):(u=si(t.repositoryPath).volumeDestination,d="Recovery Container");let f=[`${Um}=${l}`],m=[`${Um}=${l}`,`${c_}=${n.product.quality}`],h=await p3(e),v=[`type=volume,source=${l},target=${u},external=true`],g={cliHost:s,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i,env:a,output:c},y=Tt(s.path,h);return NN(e,g,f,m,h,h,void 0,void 0,void 0,y,t.settings,v,"never",void 0,!p,d)}async function NN(e,t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v){var he,Ee,Ce,Qe;let{common:g,userRepositoryConfigurationPaths:y}=e,{output:x,extensionPath:w,appRoot:E,postCreate:I,localWaylandSocket:D}=g,{cliHost:k}=t,N=[...d];if(e.cacheMount==="bind"&&(await Xi(g.localCacheFolder),N.push(`type=bind,source=${g.localCacheFolder},target=/vscode`)),e.cacheMount==="volume"){let le="vscode";(await ko(t)).indexOf(le)===-1&&await Nm(t,le),N.push("type=volume,source=vscode,target=/vscode,external=true")}if(D){let le=await LV(void 0);N.push(`type=bind,source=${D},target=${le}`)}let R=s?{uri:s,type:Rpe(k,l,s),fileHost:k}:l?await u3(k,l,y,e.common.loadNativeModule,!a,x):void 0,C=R==null?void 0:R.uri;if((C==null?void 0:C.scheme)==="file"&&k.type!=="local"){let le=Br.dirname(C.fsPath),Le=Br.basename(C.fsPath),dt=Le===".devcontainer.json"?le:Br.dirname(le),Lt=k.path.join(await k.tmpdir(),`devcontainer-config-${TN.randomUUID()}`);await Dx(dt,k,Lt,x),C=be.from({scheme:tt.scheme,path:k.path.join(Lt,...Le===".devcontainer.json"?[Le]:[Br.basename(le),Le])})}typeof e.removeOnStartup=="string"&&await ii(e,e.removeOnStartup)&&await ze(e,"rm","-f",e.removeOnStartup);let _=await Ol(t,r);_&&e.removeOnStartup===!0&&n&&(await ze(e,"rm","-f",_.Id),_=void 0);let b=!!_||!n,S=b?r:await Npe(e,t,R,n),A=!1,L=e.removeOnStartup!==!0?_||n&&await Ol(t,n):void 0;((he=L==null?void 0:L.State)==null?void 0:he.Status)==="running"&&(A=!0,ze({...Li(e),print:"continuous"},"exec","-i","-u","root",L.Id,"/bin/sh","-c",`echo "Container already running. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{A=!1,x.write("Keep-alive process ended.")}));let T="",$=g.postCreate.output,H=Yn({...$,get dimensions(){return $.dimensions},event:le=>{(le.type==="text"||le.type==="raw")&&(T+=le.text),$.event(le)}}),Y={...v,...t.env,...Cr(t.env)},J={cliHost:k,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:Y,extensionPath:w,appRoot:E,package:g.package,postCreate:I,output:H},ue=g.postCreate.output.dimensions||g.output.dimensions,Ne=g.additionalFeaturesToInstall,Pe;try{Pe=await ri(J,["up",...t.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...g.containerSessionDataFolder?["--container-session-data-folder",g.containerSessionDataFolder]:[],...b?["--container-data-folder",Bs(e.common.product.serverDataFolderName)]:[],...b?["--container-system-data-folder",Mb(e.common.product.serverDataFolderName)]:[],"--workspace-folder",i,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...S.map(le=>["--id-label",le])),"--log-level",to(g.getLogLevel()),"--log-format","json",...C?["--config",Ie(C,k.platform)]:[],...a?["--override-config",Ie(a,k.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer||!e.common.hostConfig.canRebuildContainer?["--expect-existing-container"]:[],...e.useExperimentalLockfile?["--experimental-lockfile"]:[],...[].concat(...N.map(le=>["--mount",le])),"--skip-post-create","--update-remote-user-uid-default",p,"--mount-workspace-git-root",...ue?["--terminal-columns",String(ue.columns),"--terminal-rows",String(ue.rows)]:[],...Object.keys(Ne).length>0?["--additional-features",JSON.stringify(Ne)]:[],"--include-configuration","--include-merged-configuration"])}catch(le){let Le;if((Ee=le==null?void 0:le.data)!=null&&Ee.disallowedFeatureId){let{disallowedFeatureId:dt,didStopContainer:Lt,learnMoreUrl:kr}=le.data;Le=IN(dt,kr,Lt),Le.originalError=le}else Le=le instanceof De?le:new De({description:tf.t("An error occurred setting up the container."),originalError:le});throw le&&!(le instanceof De)&&(le.cmdOutput=T),(Ce=le==null?void 0:le.data)!=null&&Ce.containerId&&(Le.manageContainer=!0,Le.params=e.common,Le.containerId=(Qe=le==null?void 0:le.data)==null?void 0:Qe.containerId,Le.dockerParams=e),Le.step="devContainersCLIUP",Le}if((Pe==null?void 0:Pe.outcome)!=="success")throw new De({description:tf.t("devcontainer command failed: {0}",JSON.stringify(Pe)),step:"devContainersCLIUP"});Pe.configuration.configFilePath=Pe.mergedConfiguration.configFilePath=Pe.configuration.configFilePath&&be.revive(Pe.configuration.configFilePath).with({scheme:k.type==="local"?"file":tt.scheme});let Ze=await ii(e,Pe.containerId);if(!Ze)return x3(g.output,"Dev container not found.");A||(A=!0,ze({...Li(e),print:"continuous"},"exec","-i","-u","root",Ze.Id,"/bin/sh","-c",`echo "New container started. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{A=!1,x.write("Keep-alive process ended.")}));let{configuration:Je,mergedConfiguration:Et,remoteWorkspaceFolder:Xe}=Pe,at=Mm(g.cliHost.authority,u),K=h||(Je.name?tf.t("Dev Container: {0}{1}",Je.name,at):tf.t("Dev Container{0}",at));g.setWorkspaceName(K);let ae;try{if(Po(Je)||"image"in Je)ae=await v3(e,t,Je,Et,Xe,o,i,Ze,b,!L,m,S,C,a);else if("dockerComposeFile"in Je)ae=await i3(e,t,Je,Et,o,i,Ze,b,!L,f,m,S,C,a);else throw new De({description:tf.t('Dev container config ({0}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.',Je.configFilePath.toString())})}catch(le){let Le=le instanceof De?le:new De({description:tf.t("An error occurred setting up the container."),originalError:le});throw Le.step||(Le.step="setupDevContainer"),Le}if(Lpe(e,J,Je,a,c,Ze,f,i,C,S,ae.properties),ae.configLocationType=R==null?void 0:R.type,(R==null?void 0:R.type)==="workspace")if(k.type==="container")ae.configWorkspaceURI=R.uri.with({scheme:so.scheme,authority:g.authority});else{let le=Ie(R.uri,k.platform),Le=Ze.Mounts.find(dt=>gd(k.path,dt.Source,le));if(Le){let dt=k.path.relative(Le.Source,le),Lt=k.platform==="win32"?dt.replace(/\\/g,"/"):dt;ae.configWorkspaceURI=be.from({scheme:so.scheme,authority:g.authority,path:Br.posix.join(Le.Destination,Lt)})}}return ae}function Rpe(e,t,n){return t&&(n.scheme===tt.scheme||n.scheme==="file"&&e.type==="local")&&gd(Br,t.rootFolderPath,Ie(n,e.platform))?"workspace":n.scheme==="file"?"repositoryConfig":"unknown"}async function Npe(e,t,n,r){var s;let{cliHost:o}=t,i;if(n){let{uri:a}=n,c;a.scheme===tt.scheme||a.scheme==="file"&&o.type==="local"?c=Ie(a,o.platform):c=a.toString();let l=[...r,`${nf}=${c}`];if(await Ol(t,l))i=l;else{let u=await Ol(t,r);u&&!((s=u.Config.Labels)!=null&&s[nf])?e.removeOnStartup===!0?(await ze(t,"rm","-f",u.Id),i=l):i=r:i=l}}else i=r;return i}function Lpe(e,t,n,r,o,i,s,a,c,l,u){let{common:d}=e,{output:p,extensionPath:f,appRoot:m}=d,{cliHost:h}=t;if(d.hostConfig.canRebuildContainer&&e.watch){let v,g=n.configFilePath;if(g.scheme===tt.scheme)if(h.type==="local")v=g.with({scheme:"file"});else if(h.type==="container")v=g.with({scheme:so.scheme,authority:d.authority});else{let y=Ie(g,h.platform),x=i.Mounts.find(w=>gd(h.path,w.Source,y));if(x){let w=h.path.relative(x.Source,y),E=h.platform==="win32"?w.replace(/\\/g,"/"):w;v=be.from({scheme:so.scheme,authority:d.authority,path:Br.posix.join(x.Destination,E)})}}else(g.scheme==="file"||g.scheme===so.scheme)&&(v=g);if(v){let I=function(){y||(w=x().finally(async()=>{await Tn(h.type==="container"?5e3:1e3),w=void 0,E&&(E=!1,I())}))},y=!1;async function x(){let k=t,N;try{if(h.type==="container"){let{stdout:_}=await ze(e,...s);N=_.toString().trim();let b=as(e,N,"root");if(r&&o){let L=r.path,T=`EOF-${L}`,$=`${L}_${Date.now()}`,H=await Vt(b,p),Y=We((await H.exec(`cat '${g.path}'`)).stdout);await H.exec(`cat <<'${T}' >${$}
${JSON.stringify({...o(Y),configFilePath:void 0})}
${T}
mv ${$} ${L}`)}let S=await Ys(e,N,"root",d.loadNativeModule);k={cliHost:ni("container",a,{},b,S,()=>{throw new Error("not implemented")},"node",p),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:f,appRoot:m,package:d.package,output:p}}let R=await o_(k,a,c,d.getLogLevel(),l,i.Id,r),C=sr(k.cliHost,u.shellServer);await Kb({...e.configurationTracking,containerOutdated:async _=>{y=!0;let b=await e.configurationTracking.containerOutdated(_);return b==="ignore"&&(y=!1),b}},k.cliHost,C,R.configuration)}finally{N&&await ze(e,"rm","-f",N)}}let w,E=!1,D=e.watch(v,()=>{w?E=!0:I()});e.common.shutdowns.push(async()=>(await D).dispose())}}}async function Ol(e,t){let n=await ef(e,!0,t);return(await Ws(e,n)).filter(o=>o.State.Status!=="removing")[0]}async function o_(e,t,n,r,o,i,s){let{cliHost:a,output:c}=e,l=await ri(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(o||[]).map(u=>["--id-label",u]).flat(),...i?["--container-id",i]:[],"--log-level",to(r),"--log-format","json",...n?["--config",Ie(n,a.platform)]:[],...s?["--override-config",Ie(s,a.platform)]:[],"--mount-workspace-git-root",...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=be.revive(l.configuration.configFilePath).with({scheme:a.type==="local"?"file":tt.scheme}),l}async function l3(e,t,n,r,o,i){let s=await u3(e,t,n,r,o,i);return s==null?void 0:s.uri}async function u3(e,t,n,r,o,i){let s=await WC(e,t,je),a=s&&await LN(s,n);if(a)return{uri:a,type:"repositoryConfig",fileHost:await io(process.cwd(),r,i)};let c=await Jd(e,t.configFolderPath);if(c)return{uri:c,type:"workspace",fileHost:e};o&&i&&(s!=null&&s.length?i.write(`No dev container config found. Additional locations checked:
${i_(s,n).map(l=>`- ${Br.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function LN(e,t){let n=i_(e,t);for(let r of n){let o=await jG(r);if(o)return be.file(o)}}function i_(e,t){let n=[],r=new Set(e.map(Ape).filter(o=>!!o));for(let o of r)for(let i of t){let s=Br.join(i,o);n.push(s)}return n}function d3(e,t,n){let r=e.path.relative(t.rootFolderPath,Ie(n,e.platform));return r&&!r.startsWith("..")&&!e.path.isAbsolute(r)}function Ape(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(e);if(n)t=`${n[1]}/${n[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}var s_="vsc.devcontainer.volume.name",f3="vsc.devcontainer.volume.folder";function AN(e){return e?`${e.volumeName}:${e.folder}`:void 0}function Ul(e){let t=(e.Config.Labels||{})[s_],n=(e.Config.Labels||{})[f3];return t&&n?{volumeName:t,folder:n}:void 0}var zs=G(require("url")),w3=G(require("https"));var y3=G(Nr());function Gs(e){return e.toLowerCase().indexOf("github.com")>=0?$pe(e):e.toLowerCase().indexOf("visualstudio.com")>=0?Upe(e):e.toLowerCase().indexOf("dev.azure.com")>=0?Ope(e):e.toLowerCase().indexOf("gitlab.com")>=0?Mpe(e):Fpe(e)}function rc(e){let t="owner",n="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Fpe(e){var s;let t="unknown-owner",n,r=e,o;o=(s=zs.parse(e))==null?void 0:s.path;let i=o==null?void 0:o.split("/");return!i||i.length<1?rc(e):(n=i[i.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`})}function Ope(e){var i,s;let t,n,r=e,o;if(d_(e)){let a=`http://${e}`;o=(i=zs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return rc(e);t=c[3],n=c[4]}else{o=(s=zs.parse(e))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return rc(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Upe(e){var i,s;let t,n,r=e,o;if(d_(e)){let a=`http://${e}`;o=(i=zs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return rc(e);t=c[3],n=c[4]}else{o=(s=zs.parse(e))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return rc(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Mpe(e){var s,a;let t,n,r,o=e,i;if(d_(e)){let c=`http://${e}`;i=(s=zs.parse(c))==null?void 0:s.path,i&&(i=i.replace("/:","/"));let l=i==null?void 0:i.split("/");if(!l||l.length<3)return rc(e);t=l[1],n=l.slice(2,l.length-1).join("/")||void 0,r=l[l.length-1]}else{i=(a=zs.parse(e))==null?void 0:a.path;let c=i==null?void 0:i.split("/");if(!c||c.length<3)return rc(e);t=c[1],n=c.slice(2,c.length-1).join("/")||void 0,r=c[c.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:o,ref:void 0,commit:!1,repositoryOwner:t,repositoryProject:n,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}${n?`/${n}`:""}/${r}`}}function $pe(e){var c,l;let t,n,r=e,o,i,s;if(d_(e)){let u=`http://${e}`;s=(c=zs.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=zs.parse(e))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return rc(e);if(t=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=e.match(/\/tree\/|\/commit\//);u&&u.index&&(r=e.substring(0,u.index),o=e.substring(u.index+u[0].length))}if(a[3]==="pull"){i=a[4];let u=e.match(/\/pull\//);u&&u.index&&(r=e.substring(0,u.index))}}return{repository:"github",repositoryUrl:r,ref:o,commit:a[3]==="commit",repositoryOwner:t,repositoryName:n,pullRequestId:i,fullRepositoryName:`${t}/${n}`}}function d_(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var Fx=class extends Error{description;code;constructor(t,n){super(),this.code=t,this.description=n}},Ox=class{inputUrl;gitUrlInfo;constructor(t){this.inputUrl=t,this.gitUrlInfo=Gs(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,n,r,o){}installExtension(){return null}},MN=class extends Ox{constructor(t){super(t)}async parseUrl(t){var i,s,a;let n=(i=this.gitUrlInfo)==null?void 0:i.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,o=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,n,r,o)}async getPullRequestInfo(t,n,r,o){var u,d,p,f,m,h,v,g,y,x,w;let i=await this.fetchPullRequestInfo(t,n,r,o),s=(d=(u=i.head)==null?void 0:u.repo)==null?void 0:d.clone_url,a=(f=(p=i.base)==null?void 0:p.repo)==null?void 0:f.clone_url;if(!a)throw new Fx(2,y3.t("Cannot access the head repository of the Pull Request."));let c=(m=i.head)==null?void 0:m.ref,l=((g=(v=(h=i.head)==null?void 0:h.repo)==null?void 0:v.owner)==null?void 0:g.login)===n?null:(w=(x=(y=i.head)==null?void 0:y.repo)==null?void 0:x.owner)==null?void 0:w.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(t,n,r,o){let i=`/repos/${n}/${r}/pulls/${o}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:i,method:"GET",headers:s};return new Promise((c,l)=>{let u="",d=w3.request(a,p=>{if(p.statusCode<200||p.statusCode>=300)return l(new Error(`Status Code: ${p.statusCode}`));p.on("data",f=>{u+=f}),p.on("end",()=>{let f=JSON.parse(u.toString());c(f)})});d.on("error",l),d.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,n,r,o){if(t.sourceOwner){let l=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await se({exec:n.exec,cmd:"git",args:["remote","add",t.sourceOwner,l],cwd:r,output:o}),await se({exec:n.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:r,output:o});try{await se({exec:n.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:r,output:o})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw u}await se({exec:n.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:o})}else await se({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:o});let i=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${i}#${s}#${a}`;await se({exec:n.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,c],cwd:r,output:o})}installExtension(){return"GitHub.vscode-pull-request-github"}},$N=class extends Ox{constructor(t){super(t)}async parseUrl(t){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(t){let n=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!n&&t.ref||void 0,fullClone:n}}async postClone(t,n,r,o){this.gitUrlInfo.commit&&await se({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:o})}},u_=class extends Ox{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function f_(e,t){if(t)return new u_(e,t);let n=Gs(e);if(n.repository==="github"){if(n.pullRequestId)return new MN(e);if(n.ref)return new $N(e)}return new u_(e)}var BN="vsch.local.repository",p_="dev.container.volume";function si(e){return{repositoryPath:e,fullRepositoryName:qN(e),repositoryName:WN(e),workspaceFolder:Rx,volumeDestination:rf(),oldVolumeName:Hpe(e),alreadyCloned:!1,uniqueVolumeName:Bpe(e),legacyUniqueVolumeName:qpe(e),getOldWorkspacePath:_3,cloneAndInitializeRepository:Wpe,gitUrlHandler:f_(e),gitUrlInfo:Gs(e)}}function qN(e){let t=Gs(e);return t==null?void 0:t.fullRepositoryName}function WN(e){let t=Gs(e);return t==null?void 0:t.repositoryName}function rf(){return"/workspaces"}function Hpe(e){let t=qN(e);return`vsc-${cs.posix.basename(t)}-${C3(e)}`}function Bpe(e){let t=E3(e),n=Ks.createHash("sha256").update(e).digest("hex");return`${t}-${n}`}function qpe(e){let t=E3(e),n=C3(e);return`${t}-${n}`}function E3(e){let t=Gs(e),n="";return t&&t.repositoryName&&(n=t.repositoryName,t.ref?n=`${n}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(n=`${n}-pull-${t.pullRequestId}`)),n}function C3(e){return Ks.createHash("md5").update(e).digest("hex")}function Rx(e){return cs.posix.join(`${rf()}`,`${e}`)}async function Wpe(e,{folder:t,cloneInfo:n},r,o,i){var d;await UN(e);let{containerId:s,shellServer:a,remoteContainersEnv:c}=await Ype(e,r,o,t,i,e.configProvider,n),{config:l}=await Vpe(e,r,t,i,a),u=(d=r.gitUrlHandler)==null?void 0:d.installExtension();return{repository:r,volumeName:o,containerId:s,shellServer:a,remoteContainersEnv:c,config:l,preInstalledExtensions:u?[u]:[]}}async function Ype(e,t,n,r,o,i,s){let{common:a}=e,{output:c,loadNativeModule:l}=a,u=t.fullRepositoryName,d,p,f,m;e.common.progress(1);let h=FN(t,n,r,e.dockerSocketPath,e.buildContainerRunArgs);r?(c.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(r)}
\r`),d=`fatal: destination path '${t.workspaceFolder(r)}' already exists`,m=t.workspaceFolder(r),f=`Repository '${u}' was already cloned into '${t.workspaceFolder(r)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${n}
\r`),d=`fatal: destination path '${u}' already exists`,m=`${u}`,f=`Repository '${u}' was already cloned into volume.`);let v=t.gitUrlHandler;if(!v)throw new De({description:Ml.t("Could not analyze the URL.")});s?p=v.cloneOptions(s):p={url:t.repositoryPath};let{stdout:g}=await ze(e,...h),y=g.toString().trim(),x=as(e,y,"root"),w=await Vt(x,c),E=await ab(a,{remoteExec:x,user:"root",nodeExecutable:"node",shellServer:w,launchRootShellServer:async()=>w}),I=E.remoteContainersCLI,D=E.remoteEnv,k=E.ready,N=E.mrpcExec,R=await Ys(e,y,"root",l),C=ni("container",m,{},await N||x,R,()=>{throw new Error("not implemented")},void 0,c);try{e.common.isCopyGitConfigEnabled&&await YC(e.common,{homeFolder:"/root",shellServer:w},{}),await Lb({shellServer:w,nodeExecutable:"node"},I,c,"global"),await Zv(e.common,{homeFolder:"/root",shellServer:w},[".ssh","known_hosts"],"ssh"),await k;let b=ez(a),S=await fY(a,C,m,{...p,env:{...D,...p.env}},c,b.output);if(await S.gitClone,S.gitUnshallow&&(a.backgroundTasks.push(S.gitUnshallow.then(()=>{})),S.gitUnshallow.then(b.flush,b.flush)),S.gitClone&&s)try{await v.postClone(s,C,m,c)}catch{return jN(e,y,Ml.t("Failed to checkout the repository {0}.",s.urlToClone))}}catch(b){let S=b&&(b.cmdOutput||b.stack||b.message)||String(b);if(S=S.replace(Ns,""),S.replace(/[\r\n]+/gm,"").includes(d))c.write(f),t.alreadyCloned=!0;else return jN(e,y,Ml.t("Git clone failed. {0}",S))}let{configRaw:_}=await b3(e,t,r,o,w);if(!zb(_)&&i){c.write(`Repository ${u} has no dev container files.
\r`);let b=!0;for(;b;){let S=await i.createConfiguration(m,C);if(S)b=!1;else{let A=Ml.t("Select Configuration");if(S=await i.showError(Ml.t("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started."),A),S!==A)return jN(e,y,Ml.t("Cancelled container configuration selection."),{closeRemote:!0})}}}return{containerId:y,shellServer:w,remoteContainersEnv:D}}function FN(e,t,n,r,o=[]){let i=n?e.volumeDestination:e.fullRepositoryName;return ON(t,i,r,o)}function ON(e,t,n,r=[]){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,"-v",`${n}:/var/run/docker.sock`,...r,`${S3}`,"sleep","infinity"]}function jN(e,t,n,r){throw t&&ze(e,"rm","-f",t),new De({description:n,data:r})}async function b3(e,t,n,r,o){let i,s;if(n?s=t.workspaceFolder(n):s=`${_3(t.repositoryPath)}`,r)return i=(await o.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:i&&We(i),configFile:r,workspaceFolder:s};if(r=await LN([t.repositoryPath],e.userRepositoryConfigurationPaths),r&&(i=(await ct(r.fsPath)).toString()),!r)for(let a of Rl(cs.posix,s))try{i=(await o.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=be.from({scheme:"vscode-remote",path:a});break}catch{}return{configRaw:i&&We(i),configFile:r,workspaceFolder:s}}async function Vpe(e,t,n,r,o){let{configRaw:i,configFile:s,workspaceFolder:a}=await b3(e,t,n,r,o);if(!s||!i)throw new De({description:Ml.t("The repository does not have a 'devcontainer.json' configuration file.")});let{common:c,configUpdater:l}=e,{cliHost:u,output:d}=c,p=_x({...i}),f=p;l&&(p.configFilePath=s,f=l(p),delete f.configFilePath);let m=Tb({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},f);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function _3(e){return`/workspaces/${cs.posix.basename(qN(e))}`}var S3="vsc-volume-bootstrap",HN="bootstrap.Dockerfile",zpe="volume.Dockerfile";async function UN(e,t,n,r){let{cliHost:o,output:i}="cliHost"in e?e:e.common;"cliHost"in e||(t=e.common.extensionPath,n=e.common.package.version,r=e.development);let s=o.path.join(await fx(o),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=o.path.join(s,HN),c=o.path.join(s,".vscode-remote-containers","dist",`dev-containers-cli-${n}`),l=o.path.join(c,"dist","spec-node","devContainersSpecCLI.js"),u=!await o.isFolder(s);if(!u&&!(await o.isFile(a)&&await o.isFile(l))){let h="Removing incomplete bootstrap-image folder.",v=i.start(h),g=`${s}-${Ks.randomUUID()}`;await o.rename(s,g),await o.rm(g,{recursive:!0,force:!0}),u=!await o.isFolder(s),i.stop(h,v)}if(u){let h=`${s}-${Ks.randomUUID()}`,v=o.path.join(h,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await o.mkdirp(o.path.join(v,"dist","spec-node")),await o.writeFile(o.path.join(h,HN),await ct(cs.join(t,"scripts",HN))),await o.writeFile(o.path.join(v,"package.json"),await ct(cs.join(t,"package.json"))),await o.writeFile(o.path.join(v,"dist","spec-node","devContainersSpecCLI.js"),await ct(cs.join(t,"dist","spec-node","devContainersSpecCLI.js"))),await o.mkdirp(o.path.join(v,"scripts")),await o.writeFile(o.path.join(v,"scripts","updateUID.Dockerfile"),await ct(cs.join(t,"scripts","updateUID.Dockerfile"))),await o.rename(h,s)}let d=["build","-f",a,"-t",S3,s],p=await o.locateCertificatesFile(),f=o.path.join(s,"host-ca-certificates.crt"),m=`${f}-${Ks.randomUUID()}`;await o.writeFile(m,p?await o.readFile(p):Buffer.from("")),await o.rename(m,f),await e3(e,...d)}async function p3(e){let{common:t}=e,{cliHost:n,output:r}=t,o=await Gpe(e),i=n.path.join(o,zpe),s=!await n.isFolder(o);if(!s&&!await n.isFile(i)){let u="Removing incomplete inspect-volume folder.",d=r.start(u),p=`${o}-${Ks.randomUUID()}`;await n.rename(o,p),await n.rm(p,{recursive:!0,force:!0}),s=!await n.isFolder(o),r.stop(u,d)}if(s){let u=`${o}-${Ks.randomUUID()}`;await Dx(cs.join(t.extensionPath,"scripts","inspect-volume"),n,u,r),await n.rename(u,o)}let a=await n.locateCertificatesFile(),c=n.path.join(o,"host-ca-certificates.crt"),l=`${c}-${Ks.randomUUID()}`;return await n.writeFile(l,a?await n.readFile(a):Buffer.from("")),await n.rename(l,c),o}async function Gpe(e){let{common:t,development:n}=e,{cliHost:r}=t,o=t.package.version;return r.path.join(await fx(r),"inspect-volume",n?`${o}-dev-${Date.now()}`:o)}async function m3(e,t,n){let r=[`${BN}=${t.repositoryPath}`];!n||n===Ai?r.push("vsch.local.repository.unique=true"):r.push("vsch.local.repository.unique=false"),t.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`);let o=await ko(e),i=YN(t,n,o);return o.indexOf(i)===-1&&await Nm(e,i,r),i}function YN(e,t,n){return t?t===Ai&&(n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.legacyUniqueVolumeName)===-1?t=e.uniqueVolumeName:t=e.legacyUniqueVolumeName):n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.oldVolumeName)===-1?t=e.uniqueVolumeName:t=e.oldVolumeName,t}var $m="vsch.local.repository",VN="vsch.local.repository.volume",zN="vsch.local.repository.folder";function h3(e,t,n,r){return n?{labels:[`${$m}=${t}`,`${VN}=${r}`,`${zN}=${n}`],remoteWorkspaceFolder:e.workspaceFolder(n)}:{labels:[`${$m}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function g3(e,t,n,r){let{loadNativeModule:o,output:i}=e.common,s=as(e,t,"root"),a=await Ys(e,t,"root",o),c=ni("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",i);return{cliHost:c,dockerCLI:"docker",dockerComposeCLI:Vs({exec:c.exec,env:n,output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:i}}var D3=G(Nr()),Nx="devcontainer.local_folder",nf="devcontainer.config_file",Um="vsch.local.volume",a_="/volume",c_="vsch.quality",Lx="vsch.local.folder";async function v3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){let{common:m}=e,h;try{let v=!l,g=r.remoteUser;h=await Am(e,a.Id,o,g),u&&l&&o&&h.user!=="root"&&(h.launchRootShellServer?await $b(h,h.launchRootShellServer,o,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let y=await t_(m,l,a,o,h);return await Jpe(a,c,e,t,h,n,r,v,i,s,d,p,f,y)}catch(v){throw Kpe(v,a,e,h,n)}}function Kpe(e,t,n,r,o){let i=e instanceof De?e:new De({description:D3.t("An error occurred setting up the container."),originalError:e});return t&&(i.manageContainer=!0,i.params=n.common,i.containerId=t.Id,i.dockerParams=n),r&&(i.containerProperties=r),o&&(i.config=o),i}async function Jpe(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var R,C;let{common:m}=n,h=sr(r.cliHost,o.shellServer);a||await Jb(n.configurationTracking,r.cliHost,h,i,m.output);let v=s.shutdownAction;v==="stopCompose"&&(v="stopContainer");let g={cwd:c,dockerCLI:n.dockerCLI,env:m.env,containerId:e.Id,user:o.user,sessionId:m.sessionId,shutdownAction:v,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:y,doneWithDocuments:x}=await e_(n,r.cliHost,h,"singleContainer",g,a?i:void 0);m.backgroundTasks.push(x);let w=((C=(((R=s.customizations)==null?void 0:R.vscode)||[]).slice().reverse().find(_=>typeof _.devPort=="number"))==null?void 0:C.devPort)||zd,{hostOrContainerPort:E,hostPortServer:I,connectionToken:D,remoteEnv:k,serverDownloaded:N}=await Pl(m,o,i,s,w,Fm(n,r,o,l,u,e.Id,t,d,p),f);return y.hostPortServer=I,{params:m,properties:o,config:i,resolvedAuthority:{host:Fl,port:E,connectionToken:D,extensionHostEnv:k},tunnelInformation:m.isLocalContainer?Lm(e):{},dockerParams:n,dockerContainerId:e.Id,serverDownloaded:N}}function $l(e){let t=e.Config.Labels||{},n=t[Nx]||t[Lx];return n||void 0}function I3(e){return(e.Config.Labels||{})[nf]||void 0}function oc(e){let t=(e.Config.Labels||{})[$m];return t||void 0}function m_(e){let t=(e.Config.Labels||{})[VN];return t||void 0}function P3(e){let t=(e.Config.Labels||{})[Um];return t||void 0}function T3(e){let t=(e.Config.Labels||{})[zN];return t||void 0}function x3(e,t){throw e.write(ft(t)),new Error(t)}function ic(e){return!!(e!=null&&e.startsWith("tunnel+"))}function k3(e){let t=/^tunnel\+(.*)$/.exec(e);return t?{tunnelName:t[1]}:void 0}var R3=G(require("path"));async function N3(e,t,n,r,o,i){let s,a=new Promise(m=>s=m),c=new Xb,l=[],u=await JG("vscode-remote-containers",async(m,h)=>{let v=await XG(m),g=[];if(v.type==="poll")try{g=await c.dequeue(6e4)}catch{}else if(v.type==="reply"){let y=l[v.sequence];y&&(y(v.reply),delete l[v.sequence])}else v.type==="done"&&s?s():v.type==="log"&&r.event(v.event);h.write(JSON.stringify(g)),h.end()});u.server.unref();let d=R3.join(n,"dist","shutdown","shutdownMonitorProcess"),p=[u.ipcHandlePath,e,vr[t],o||"",i.getTime().toString()];r.write(`Forking shutdown monitor: ${d} ${p.join(" ")}\r
`);let f=QV(d,p,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return f.on("error",m=>{console.error(m)}),f.unref(),{queue:c,sequence:0,replies:l,done:a}}async function h_(e,t,n){let r=e.sequence++,o=new Promise(s=>e.replies[r]=s);return e.queue.push({type:"configure",sequence:r,options:t}),await o}async function L3({queue:e,done:t}){e.push({type:"cleanup"}),await t}var F3=require("util");var Ai="__UNIQUE__",Fl="127.0.0.1";async function l_(e,t){if(e.scheme==="file"&&t.type==="wsl"){let{stdout:n}=await se({exec:t.exec,cmd:"wslpath",args:["-u",e.fsPath],output:je});return n.toString().trim()}return Ie(e,t.platform)}async function Hm(e,t){let n=!e.env.SSH_AUTH_SOCK&&await AR(e)?rx:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return t&&("context"in t?r.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="remote"?r.VSCODE_DOCKER_HOST=t.host:r.DOCKER_HOST=t.host),t.certPath&&(r.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(r.DOCKER_TLS_VERIFY=t.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function ar(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let n=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;n&&(t.host=n),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function g_(e,{parentAuthority:t,settings:n}){t&&e.write(`Host authority: ${t}\r
`),n&&("context"in n&&n.context&&e.write(`Context: ${n.context}\r
`),"host"in n&&n.host&&e.write(`Host: ${n.host}\r
`),"certPath"in n&&n.certPath&&e.write(`CertPath: ${n.certPath}\r
`),"tlsVerify"in n&&n.tlsVerify&&e.write(`TLSVerify: ${n.tlsVerify}\r
`))}function v_(e,t){return(!e||e.startsWith("wsl+"))&&!t.VSCODE_DOCKER_HOST&&!t.DOCKER_HOST&&(!t.DOCKER_CONTEXT||t.DOCKER_CONTEXT==="default"||t.DOCKER_CONTEXT==="desktop-linux")}function Mm(e,t){var r,o;let n;return ic(e)?n=(r=k3(e))==null?void 0:r.tunnelName:bl(e)?n=(o=dx(e))==null?void 0:o.hostName:t&&("context"in t||t.host)&&(n="context"in t?t.context:t.host),n?` @ ${n}`:""}function sc(e){let{Name:t}=e;return t[0]==="/"?t.substring(1):t}async function ii(e,t){try{return await oi(e,t)}catch{return}}async function x_(e,t=!0){let{common:n}=e,{output:r}=n,o="Check Docker is running",i=r.start(o);try{let{stdout:s}=await GN(e,e.common.loadNativeModule,t,"version"),a=s.toString();if(a.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(a)}catch(s){console.error(s);let a=jm.t("Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed."),c=s&&(s.stderr?s.stderr.toString().toLowerCase():s.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a=jm.t("Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction."):a=jm.t("Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group."):c.indexOf("ENOENT")!==-1&&(a=jm.t("The 'docker' command was not found. Make sure Docker is installed.")),new De({description:a,originalError:`Docker returned an error code ${s.code}, message: ${s.message}`})}finally{r.stop(o,i)}}async function GN(e,t,n,...r){let o={...Li(e),print:"continuous"};try{return await ze(o,...r)}catch(i){if(!A3(i)||!n)throw i;let s="cliHost"in e?e.cliHost:e.common.cliHost,a="output"in e?e.output:e.common.output;if(s.type==="wsl"&&(s=await io(process.cwd(),t,a)),s.platform==="linux")throw i;if(s.platform==="darwin"&&await s.isFolder("/Applications/Docker.app"))await se({exec:s.exec,cmd:"open",args:["-g","-a","Docker"],env:{ELECTRON_RUN_AS_NODE:""},output:a,print:"continuous"});else{let c=Xpe(s);if(s.platform==="win32"&&await s.isFile(c))await se({exec:s.exec,cmd:c,env:{ELECTRON_RUN_AS_NODE:""},output:"output"in e?e.output:e.common.output,print:"continuous"});else throw i}for(let c=6;c>0;c--){await Tn(5e3);try{return await ze(o,...r)}catch(l){if(c===1||!A3(l))throw l}}throw i}}function Xpe(e){return e.path.join(e.env.ProgramW6432||"C:\\Program Files","Docker\\Docker\\Docker Desktop.exe")}function A3(e){let t=Buffer.concat([e==null?void 0:e.stdout,e==null?void 0:e.stderr].filter(Boolean)).toString().toLowerCase();return t.includes("cannot connect to the docker daemon")||t.includes("docker daemon is not running")||t.includes("internal server error for api route and version")||t.includes("activate the wsl integration")}function ln(e){return e.hostPath!==void 0}function ai(e){return e.repositoryPath!==void 0}function of(e){return!ai(e)&&!!e.folder}function Ax(e){return!ai(e)&&!of(e)&&e.volumeName!==void 0}function ao(e){let t=U3("dev-container",e);if(t)return"unparsedConfig"in t?{parentAuthority:t.parentAuthority,hostPath:t.unparsedConfig}:"repositoryPath"in t?t.dockerHost?{parentAuthority:t.parentAuthority,repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},cloneInfo:t.cloneInfo}:t:("hostPath"in t&&t.configFile&&(t.configFile=be.revive(t.configFile)),"hostPath"in t&&t.dockerHost?{parentAuthority:t.parentAuthority,hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t)}function Ux(e,t,n,r,o,i){e=KN(e);let s=r||i?JSON.stringify({hostPath:t,localDocker:o,settings:r,configFile:i}):t;return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${e?`@${e}`:""}${n}`}function ls(e,t,n,r,o,i,s){if(e=KN(e),t){let c=si(t);if(!n){let u=JSON.stringify({repositoryPath:t,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${e?`@${e}`:""}${c.getOldWorkspacePath(t)}`}let l=JSON.stringify({repositoryPath:t,volumeName:n,folder:r,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${e?`@${e}`:""}${c.workspaceFolder(r)}`}if(r){let c={volumeName:n,folder:r,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(c),"utf8").toString("hex")}${e?`@${e}`:""}${Rx(r)}`}let a=JSON.stringify({volumeName:n,settings:i});return`vscode-remote://dev-container+${Buffer.from(a,"utf8").toString("hex")}${e?`@${e}`:""}${a_}`}function sf(e){let t=U3("attached-container",e);if(t)return"unparsedConfig"in t?{parentAuthority:t.parentAuthority,containerId:t.unparsedConfig}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function O3(e,t,n,r){e=KN(e);let o=JSON.stringify({containerName:t,settings:n,cwd:r});return`attached-container+${Buffer.from(o,"utf8").toString("hex")}${e?`@${e}`:""}`}function U3(e,t){try{let n=w_(t);if(!n)return;let{name:r,config:o,parentAuthority:i}=n,s=r===e&&o?Buffer.from(o,"hex").toString("utf8"):void 0;if(!s)return;if(!s.startsWith("{"))return{parentAuthority:i,unparsedConfig:s};let a=JSON.parse(s);return a.parentAuthority=i,a}catch(n){console.warn(n);return}}function w_(e){let t=e==null?void 0:e.match(/^(?<name>[^@+]+)\+(?<config>[^@]+)(?:@(?<parentAuthority>.*))?$/);if(!t)return;let{name:n,config:r,parentAuthority:o}=t.groups;return{name:n,config:r,parentAuthority:o}}function Hl(e,t){return Rn(t.startsWith("/")?"linux":"win32",be.parse(`vscode-remote://${e}`),t)}function KN(e){if(e){if(bl(e)){let t=e.indexOf("@");if(t!==-1&&e.indexOf("+",t)===-1){let r=dx(e);return HR(r)}return e}if(ic(e))return e}}async function M3(e,t,n){return await Xv(e,t,n)||t}function $3(e,t,n){let r=e.path.relative(e.path.dirname(t),n);return`/workspaces/${e.platform==="win32"?r.replace(/\\/g,"/"):r}`}function zG(e,t){return e.with({path:jl.posix.resolve(e.path,t)})}async function e_(e,t,n,r,o,i){let{common:s,onRemoveOnShutdownChanged:a}=e,c=s.output.start("Setup shutdown monitor"),l=await N3(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?jl.dirname(s.logFilePath):void 0,s.sessionStart);h_(l,o,s.output).catch(f=>console.error(f)),a&&a(async f=>{o.rebuild=!!f,o.delay=0,await h_(l,o,s.output)}),s.onDidChangeLogLevel(async f=>{o.logLevel=f,await h_(l,o,s.output)});let u={},d=async()=>{let f=L3(l);u.hostPortServer&&await(0,F3.promisify)(u.hostPortServer.close.bind(u.hostPortServer))(),await f};s.shutdowns.push(d);let p=e.common.hostConfig.canRebuildContainer&&i?Kb(e.configurationTracking,t,n,i).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",c),{monitor:l,shutdownArgs:u,doneWithDocuments:p}}function Lm(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Am(e,t,n,r,o){var w;let{common:i}=e,s="Inspecting container",a=i.output.start(s),c=await oi(e,t);i.output.stop(s,a);let l=r||c.Config.User||"root",[,u,,d]=/([^:]*)(:(.*))?/.exec(l),p=Zpe(c.Config.Env),f=as(e,t,l),m=await Ys(e,t,l,i.loadNativeModule),h=as(e,t,"root"),v=c.Mounts.find(E=>E.Type==="volume"&&E.Name==="vscode"),g=c.Mounts.find(E=>E.Type==="bind"&&E.Source===i.localCacheFolder),y=v&&jl.posix.join(v.Destination,/^\.*(.*)$/.exec(i.product.serverDataFolderName)[1])||(g==null?void 0:g.Destination),x=(w=c.Mounts.find(E=>E.Type==="bind"&&E.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:w.Destination;return Ob({params:i,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!v&&!!g,remoteWorkspaceFolder:n,containerUser:u==="0"?"root":u,containerGroup:d,containerEnv:p,remoteExec:f,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:o,remoteWaylandSocket:x})}function Zpe(e){return(e||[]).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=n.substr(r+1)),t},{})}async function j3(e){let{common:t,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,dockerEnv:i}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,env:i,output:a}}async function H3(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}function Fm(e,t,n,r,o,i,s,a,c){let l=!s;return async(u,d,p,f,m)=>{let{common:h}=e,{cliHost:v}=t,{dotfilesConfiguration:g}=h,y=f.getDotfileConfiguration("dotfiles.repository")||g.repository,x=f.getDotfileConfiguration("dotfiles.installCommand")||g.installCommand,w=f.getDotfileConfiguration("dotfiles.targetPath")||g.targetPath;l&&y&&(l=!1,await Tz(n));let E={...t.env,...Cr(t.env)},I={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:E,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},D=h.postCreate.output.dimensions||h.output.dimensions,k=await ri(I,["run-user-commands",...t.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",Bs(e.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",Mb(e.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(o||[]).map(N=>["--id-label",N]).flat(),"--container-id",i,"--log-level",to(h.getLogLevel()),"--log-format","json",...a?["--config",Ie(a,v.platform)]:[],...c?["--override-config",Ie(c,v.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(u),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(p),"--stop-for-personalization",String(d),...[].concat(...Object.keys(m).map(N=>["--remote-env",`${N}=${m[N]}`])),"--mount-workspace-git-root",...D?["--terminal-columns",String(D.columns),"--terminal-rows",String(D.rows)]:[],...y?["--dotfiles-repository",y]:[],...x?["--dotfiles-install-command",x]:[],...w?["--dotfiles-target-path",w]:[]]);if((k==null?void 0:k.outcome)!=="success")throw new De({description:jm.t("devcontainer command failed: {0}",JSON.stringify(k))});return k.result}}async function B3(e,t,n,r,o,i,s,a){let{cliHost:c,output:l}=e,u=await ri(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...t?["--workspace-folder",t]:[],...(i||[]).map(d=>["--id-label",d]).flat(),...s?["--container-id",s]:[],"--log-level",to(r),"--log-format","json",...n?["--config",Ie(n,c.platform)]:[],...a?["--override-config",Ie(a,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[],...Object.keys(o).length>0?["--additional-features",JSON.stringify(o)]:[]]);return u.configuration.configFilePath=u.configuration.configFilePath&&be.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":tt.scheme}),u}async function t_(e,t,n,r,o){if(t&&r)try{let i=n.Mounts.find(s=>gd(jl.posix,s.Destination,r,!0));if((i==null?void 0:i.Type)==="bind"){let{stdout:s}=await o.shellServer.exec(`command -v git >/dev/null 2>&1 && ROOT_FOLDER="$(git -C '${r}' rev-parse --show-toplevel 2>/dev/null)" && test "$(stat -c %u "$ROOT_FOLDER")" != "$(id -u)" && echo -n "$ROOT_FOLDER"`);if(!gd(jl.posix,i.Destination,s,!0))return;let a=jl.posix.relative(i.Destination,s),c=e.cliHost.path.join(i.Source,e.cliHost.platform==="win32"?a.replace(/\//g,"\\"):a);return e.cliHost.platform==="win32"?await se({exec:e.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:c,output:e.output}):await se({exec:e.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${c}' && test "$(stat -${e.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:e.output}),async()=>{await o.shellServer.exec(`git config --global --add safe.directory '${i.Destination}'`)}}}catch{}}var Wt=G(require("vscode")),wi=require("vscode");var Z=G(require("vscode")),lp=G(require("path"));var Bm=G(require("vscode")),y_=G(require("path")),Y3=require("stream");var Qpe=tb();async function Ro(e,t,n,r,o,i,s,a,c,l,u){return e?eme(e,n,s,a,c,l):zV(t,n,r,o,i,s,a,c,l,u)}async function eme({server:e,authority:t},n,r,o,i,s){var k,N,R,C,_,b,S,A;let a="Loading environment from ExecServer",c=i.start(a),l=await e.env();i.stop(a,c),i.write(`Host OS: ${l.osPlatform}${l.osRelease?` ${l.osRelease}`:""}`),i.write(`Host CWD: ${n}`);let u=tme(()=>e,void 0),d=l.osPlatform,{homeFolder:p,localEnv:f}=await zn(d,{posix:async()=>{let L=await Vt(u,i,void 0,d,"Host"),T=d==="darwin"?(await se({exec:u,cmd:"/bin/sh",args:["-c","echo ~"],output:i})).stdout.toString().trim():(await L.exec("echo ~")).stdout.trim(),$=d==="darwin"?(await se({exec:u,cmd:"/bin/sh",args:["-c","id -un"],output:i})).stdout.toString().trim():await yl(L),H=await Wd(L,$),Y=(H==null?void 0:H.shell)||"/bin/sh",J=await Vd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:i},{shell:Y,remoteExec:u});return L.process.terminate(),{homeFolder:T,localEnv:J}},win32:async()=>(i.write(`USERPROFILE: ${l.env.USERPROFILE}`),i.write(`PATH: ${l.env.PATH}`),{homeFolder:l.env.USERPROFILE,localEnv:l.env})})(),m=async L=>u({...L,env:{...f,...L.env}}),h=async L=>{if(!e.fs){let T=await e.fsStat(L);return T.exists&&T.type==="file"}try{return(await e.fs.stat(L)).type===Bm.FileType.File}catch(T){if((T==null?void 0:T.code)==="FileNotFound"||(T==null?void 0:T.code)==="FileNotADirectory"||T!=null&&T.message.toLowerCase().includes("file not found"))return!1;throw T}},v=l.osPlatform==="win32",g=v?y_.win32:y_.posix,y=g.join(p,".vscode-remote-containers"),x=await Jz({localCacheFolder:r,output:i,alternateDownload:s,exec:m,env:f,isFile:h,userDataFolder:y,homeFolder:p,product:o,platform:d}),w=FV(x,m,i),E=n||p,I,D;return{type:"remote",authority:t,platform:d,exec:m,ptyExec:XV(m),cwd:E,env:f,path:g,async homedir(){return p},tmpdir:zn(d,{posix:async()=>f.TMPDIR||"/tmp",win32:async()=>f.TEMP}),isFile:h,isFolder:async L=>{if(!e.fs){let T=await e.fsStat(L);return T.exists&&T.type==="dir"}try{return(await e.fs.stat(L)).type===Bm.FileType.Directory}catch(T){if((T==null?void 0:T.code)==="FileNotFound"||(T==null?void 0:T.code)==="FileNotADirectory"||T!=null&&T.message.toLowerCase().includes("file not found"))return!1;throw T}},isSocket:async L=>{if(v)return!1;try{return await se({exec:m,cmd:"test",args:["-S",L],output:je}),!0}catch(T){if((T==null?void 0:T.code)!==1)throw T;return!1}},readFile:(k=e.fs)!=null&&k.read?async L=>{let T=await e.fs.read(L),$=[];return T.onDidReceiveMessage(H=>$.push(H)),await T.onEnd,Buffer.concat($)}:L=>HV(m,d,x,L,je),writeFile:(N=e.fs)!=null&&N.write?async(L,T)=>{let{stream:$,done:H}=await e.fs.write(L);$.write(T),$.end(),await H}:(L,T)=>BV(m,d,x,L,T,je),rename:(R=e.fs)!=null&&R.rename?async(L,T)=>e.fs.rename(L,T):(L,T)=>pb(m,d,L,T,je),rm:(C=e.fs)!=null&&C.rm?async L=>e.fs.rm(L):(L,T)=>mb(m,d,L,T||{},je),mkdirp:(_=e.fs)!=null&&_.mkdirp?async L=>e.fs.mkdirp(L):L=>hb(m,d,L,je),readDir:(b=e.fs)!=null&&b.readdir?async L=>(await e.fs.readdir(L)).map($=>$.name):L=>qV(m,d,L,je),readDirWithTypes:(S=e.fs)!=null&&S.readdir?async L=>(await e.fs.readdir(L)).map($=>{let H=0;return $.type&Bm.FileType.File&&(H|=1),$.type&Bm.FileType.Directory&&(H|=2),$.type&Bm.FileType.SymbolicLink&&(H|=64),[$.name,H]}):zn(d,{posix:async L=>{let T={f:1,"*":1,"/":2,"@":64};return(await se({exec:m,cmd:"ls",args:["-aF",L],output:je})).stdout.toString().trim().split(`
`).map($=>"/*@=%|>".indexOf($[$.length-1])!==-1?[$.substr(0,$.length-1),$[$.length-1]]:[$,"f"]).filter(([$])=>$!=="."&&$!=="..").map(([$,H])=>[$,T[H]||0])},win32:void 0}),getUsername:async()=>(I===void 0&&(I=await zn(d,{posix:async()=>(await se({exec:m,cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim(),win32:async()=>f.USERNAME})()),I),toCommonURI:()=>Promise.resolve(void 0),connect:ym((A=e.fs)!=null&&A.connect?L=>{if("port"in L&&!e.tcpConnect)return w(L);let T=(async()=>{let{stream:$}=await("port"in L?e.tcpConnect(L.host,L.port):e.fs.connect(L.socketPath));return Qpe.duplex(JN($,$))})();return{sink:$=>{T.then(H=>H.sink($),H=>$(H,()=>{})).catch(H=>i.write(`Connection forwarding to sink error: ${(H==null?void 0:H.stack)||(H==null?void 0:H.message)||String(H)}`))},source:($,H)=>{T.then(Y=>Y.source($,H),Y=>H(Y)).catch(Y=>i.write(`Connection forwarding to source error: ${(Y==null?void 0:Y.stack)||(Y==null?void 0:Y.message)||String(Y)}`))}}}:w,"Exec Server",i),locateCertificatesFile:function(){return D||(D=yb(this,void 0,i))},nodeExecutable:x,reconnect:async L=>{L?L!==e?(i.write("Updating to new ExecServer to reconnect."),e=L):i.write("New ExecServer to reconnect same as old."):i.write("No new ExecServer to reconnect.")}}}function tme(e,t){return async function(n){let{cmd:r,args:o,output:i}=n,s=e(),a=`Run: ${r} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=i.start(a),l=n.cwd||t,u=await s.env(),d=n.env?{...u.env,...n.env}:u.env,p=await s.spawn(r,o||[],{cwd:l,env:d});return{stdin:nme(p.stdin),stdout:q3(p.stdout),stderr:q3(p.stderr),exit:Promise.all([p.onExit,p.stdout.onEnd,p.stderr.onEnd]).then(([{status:f}])=>(i.stop(a,c),{code:f,signal:null})).catch(f=>{throw i.stop(a,c),f!=null&&f.message.includes("NotFound")&&(f.code="ENOENT"),f}),async terminate(){}}}}function q3(e){return JN(void 0,e)}function nme(e){return JN(e,void 0)}function JN(e,t){let n=new Y3.Stream,r=!1;if(e&&(n.writable=!0,n.write=function(o,i,s){s=Array.from(arguments).find(c=>typeof c=="function");let a;try{e.write(o)}catch(c){a=c,setImmediate(()=>n.emit("error",c))}return s&&s(a),!0},n.end=function(o,i,s){s=Array.from(arguments).find(a=>typeof a=="function"),typeof o=="function"&&(o=void 0);try{o&&e.write(o),r=!0,e.end()}catch(a){setImmediate(()=>n.emit("error",a))}return s&&s(),this}),t){let c=function(){for(;i.length&&!n.paused;)n.emit("data",i.shift());!n.paused&&o&&n.emit("end")},o=!1;n.readable=!0,n.paused=!0;let i=[];(t.onDidReceiveMessage||t.onData)(l=>{let u=Buffer.from(l);n.paused?i.push(u):n.emit("data",u)}),t.onEnd.then(()=>{o=!0,n.paused||n.emit("end")});let s=n.on.bind(n);n.on=(l,u)=>{let d=s(l,u);return l==="data"&&n.paused&&setImmediate(n.resume.bind(n)),d};let a=n.pipe.bind(n);n.pipe=function(l,u){let d=a(l,u);return n.paused&&n.resume(),d},n.pause=function(){return n.paused=!0,n},n.resume=function(){return n.paused=!1,c(),n}}return n.destroy=function(o){return e&&!r&&(r=!0,n.end()),o&&n.emit("error",o),n.emit("close"),this},n}var OJ=G(R7()),rd=G(_J());var SJ=G(require("vscode"));function Xt(e){let t=SJ.workspace.getConfiguration(),n=rs(e),r=t.get(n),o=vl(e),i=t.get(o);if(i!=null&&i!==r){let s=t.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return i}return r}function M1(e,t){return e.affectsConfiguration(rs(t))||e.affectsConfiguration(vl(t))}var nd=G(require("path"));var DJ=G(require("os")),Rt=G(require("vscode")),sp=require("vscode");async function eI(){await Rt.window.showInformationMessage(sp.l10n.t("You need to first save your workspace in a folder containing all its workspace folders."),{modal:!0})}async function qc(e){var r;let t=e?[e]:(r=Rt.workspace.workspaceFolders)==null?void 0:r.map(o=>o.uri);if(!t)return[];let n=await Promise.all([...t.map(o=>(async()=>{try{let i=o.with({path:nd.posix.join(o.path,".devcontainer.json")});if((await Rt.workspace.fs.stat(i)).type===Rt.FileType.File)return[i]}catch(i){if((i==null?void 0:i.code)!=="FileNotFound")throw i}return[]})()),...t.map(o=>Rt.workspace.findFiles(new Rt.RelativePattern(o.with({path:nd.posix.join(o.path,".devcontainer")}),"{devcontainer.json,*/devcontainer.json}")))]);return[].concat(...n)}async function ap(e,t){let n;if(e.length>1){let r=Rt.window.createQuickPick();r.placeholder=sp.l10n.t("Select a devcontainer.json file."),r.busy=!0,r.enabled=!1,r.show(),r.items=(await Promise.all(e.map(async i=>{let s=i.uri,a=i.fileHost.path,c=i.fileHost.platform,l=Ie(s,c),u=We((await i.fileHost.readFile(l)).toString())||{},d,p,f=a.dirname(l),m=a.dirname(f);a.basename(f)===".devcontainer"?(d=sp.l10n.t("Main"),p=m):a.basename(m)===".devcontainer"?(d=a.basename(f),p=a.dirname(m)):(d=sp.l10n.t("Project Root"),p=f);let h=u.name||d,v=i.type==="repositoryConfig"||i.type==="userData"?yy(c,l,DJ.homedir()):a.relative(p,l);return{label:h,description:v+(s.toString()===(t==null?void 0:t.toString())?` ${sp.l10n.t(" (Current)")}`:""),uri:s,buttons:[{iconPath:new Rt.ThemeIcon("go-to-file"),tooltip:sp.l10n.t("Open File")}]}}))).sort((i,s)=>{let a=nd.posix.dirname(i.uri.path),c=nd.posix.dirname(s.uri.path);return a!==c?a.localeCompare(c):i.label.localeCompare(s.label)}),r.busy=!1,r.enabled=!0;let o=await new Promise(i=>{r.onDidAccept(()=>i(r.selectedItems[0])),r.onDidHide(()=>i(void 0)),r.onDidTriggerItemButton(({item:s})=>{Rt.commands.executeCommand("vscode.open",s.uri),i(void 0)})});r.dispose(),n=o?be.from(o.uri):"cancelled"}else e.length===1&&(n=e[0].uri);return n}function yy(e,t,n){if(e==="win32")return t;let r=`${mye(n,"/")}/`;return(e==="linux"?t.startsWith(r):t.toLowerCase().startsWith(r.toLowerCase()))&&(t=`~/${t.substr(r.length)}`),t}function mye(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function Pa(e,t){let n=Rt.workspace.fs;return{platform:e,path:e==="win32"?nd.win32:nd.posix,async isFile(r){try{return((await n.stat(Rn(e,t,r))).type&Rt.FileType.File)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async isFolder(r){try{return((await n.stat(Rn(e,t,r))).type&Rt.FileType.Directory)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async readFile(r){try{let o=await n.readFile(Rn(e,t,r));return Buffer.from(o)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let i=new Error(`Could not read file: ${r}`);throw i.originalError=o,i.code="ENOENT",i}throw o}},async rename(r,o){try{let i=Rn(e,t,r),s=Rn(e,t,o);await n.rename(i,s)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${o}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async rm(r,o){try{let i=Rn(e,t,r);await n.delete(i,{recursive:o.recursive})}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not remove ${r}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async writeFile(r,o){await n.writeFile(Rn(e,t,r),o)},async readDir(r){return(await n.readDirectory(Rn(e,t,r))).map(i=>i[0])},async readDirWithTypes(r){return n.readDirectory(Rn(e,t,r))},async mkdirp(r){await n.createDirectory(Rn(e,t,r))},async toCommonURI(r){return Rn(e,t,r)}}}var wy=class{async readDocument(t){try{let n=Rt.workspace.textDocuments.find(o=>o.uri.toString()===t.toString());if(n)return n.getText();let r=await Rt.workspace.fs.readFile(t);return Buffer.from(r).toString()}catch{return}}async applyEdits(t,n,r){let o=Rt.workspace.textDocuments.find(s=>s.uri.toString()===t.toString());if(o){let s=new Rt.WorkspaceEdit;for(let a of n){let c=o.positionAt(a.offset),l=o.positionAt(a.offset+a.length);s.replace(t,new Rt.Range(c,l),a.content)}if(await Rt.workspace.applyEdit(s))return}let i=wo(r,n);await Rt.workspace.fs.writeFile(t,Buffer.from(i))}};function Ey(e){var o,i;let t=((o=/\r?\n/.exec(e))==null?void 0:o[0])||`
`,n=((i=/^\t|^ +/m.exec(e))==null?void 0:i[0])||"	",r=n[0]===" ";return{eol:t,insertSpaces:r,tabSize:r?n.length:void 0}}function Cy(){let e=Xt("logLevel")||"debug";return rE(e)}var qe=require("vscode");var IJ=G(require("crypto"));async function tI(e,t,n){let r=await $1(e,t,n);return r?qc(await e.toCommonURI(r)):[]}var nI=".devcontainer-internal.json";async function $1(e,t,n){let r=j1(e,t,n),o=e.path.basename(r),i=e.path.dirname(r),s=await e.isFolder(i)?await e.readDir(i):[];for(let a of s)if(a===o||a.startsWith(`${o}-`)&&!isNaN(Number(a.substring(o.length+1)))){let c=e.path.join(i,a),l=e.path.join(c,nI);if(await e.isFile(l)){let u=We((await e.readFile(l)).toString());if((u==null?void 0:u.rootFolder)===t.rootFolderPath)return c}}}function PJ(e,t,n){return`${j1(e,t,n)}-${IJ.randomUUID()}`}async function TJ(e,t,n,r){let o=`// Maintained by the Dev Container extension
${JSON.stringify({rootFolder:t.rootFolderPath},void 0,"	")}`;await e.writeFile(e.path.join(r,nI),Buffer.from(o));let i=j1(e,t,n),s;for(let a=1;;a++)if(s=a>1?`${i}-${a}`:i,!await e.isFolder(s)){await e.rename(r,s);break}return s}function j1(e,t,n){return e.path.join(n,"configs",e.path.basename(t.rootFolderPath))}async function kJ(e,t){await e.rm(t,{recursive:!0})}var _t="remote-containers.revealLogTerminal",z1="remote-containers.revealPostCreateTerminal",up="remote-containers.openDevContainerFile",UJ="remote-containers.openRepositoryInVolume",oI="remote-containers.openRepositoryInUniqueVolume",MJ="remote-containers.openRepositoryFromRemoteHubWithEditSession",$J="remote-containers.openRepositoryFromGitWithEditSession",jJ="remote-containers.openPullRequestInVolume",RJ=new tE,Qr={onRemoveOnShutdownChangedEmitter:RJ,onRemoveOnShutdownChanged:RJ.event,results:new Map},cp,qn=e=>Sm(e,Z.env.appRoot);function iI(e,t,n,r,o,i){return async(s,a)=>{r(),Z.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);let c=Z.env.remoteAuthority;if(a.resolveAttempt>1){let l=n.get(c);if(!l)throw new Error("Reconnect attempt without old result.");let u=qe.l10n.t("Reconnection attempt {0}",a.resolveAttempt-1),d=e.log.start(u),{cliHost:p}=l.params;if(p.reconnect){let v=`Reconnecting CLIHost ${a.execServer?"with":"without"} ExecServer.`,g=e.log.start(v);try{await p.reconnect(a.execServer)}catch(y){throw e.log.write(ft(String(y&&(y.stack||y.message)||y))),Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(qe.l10n.t("Cannot reconnect to remote host."))}finally{e.log.stop(v,g)}}else e.log.write("CLIHost does not need reconnection.");if((await Sy(p,e.log)).pauseResolver&&await HJ(p,e.log),l.dockerContainerId){let v=await ii(l.dockerParams,l.dockerContainerId);if(!v)throw Z.RemoteAuthorityResolverError.NotAvailable(qe.l10n.t("Container no longer exists."));if(v.State.Status==="paused")throw Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(qe.l10n.t("Container is paused."));if(v.State.Status!=="running")throw Z.RemoteAuthorityResolverError.NotAvailable(qe.l10n.t("Container is no longer running."))}let m=l.resolvedAuthority.port,h=Cz(l.params.forwardedPorts,m);if(h){if(h.connections.size){e.log.write(`Destroying ${h.connections.size} leftover connections to forwarded port ${m}.`);for(let v of h.connections)v.destroy()}}else e.log.write(`Forwarded port ${m} not found.`);return e.log.stop(u,d),{...l.resolvedAuthority,isTrusted:l.isTrusted}}else{let l=qe.l10n.t("Resolving Remote"),u=e.log.start(l),d=await i(c,a,e,t);return hye(d.params,d.properties).catch(p=>{}),n.set(c,d),o(),e.log.stop(l,u),Z.window.withProgress({location:Z.ProgressLocation.Window,title:Oye,cancellable:!1},async p=>{await Kz(d.params.backgroundTasks)}).then(void 0,p=>{e.log.write(ft(String(p&&(p.stack||p.message)||p)))}),{...d.resolvedAuthority,...d.tunnelInformation,isTrusted:d.isTrusted}}}}async function Sy(e,t){let n=e.path.join(await e.homedir(),".vscode-remote-containers","config.json");try{let r=We((await e.readFile(n)).toString())||{},o=r.canConnectToContainer!==!1,i=r.canRebuildContainer!==!1&&o;return await Z.commands.executeCommand("setContext","hideConnectCommands",!o),await Z.commands.executeCommand("setContext","hideRebuildCommands",!i),{canConnectToContainer:o,canRebuildContainer:i,pauseResolver:!!r.pauseResolver}}catch(r){return r.code!=="ENOENT"&&t.write(`Error reading ${n}: ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||r}`),{canConnectToContainer:!0,canRebuildContainer:!0,pauseResolver:!1}}}async function HJ(e,t){let n=qe.l10n.t("Pausing resolver"),r=t.start(n),o=Sx(e),i=`
const fs = require('fs');
const path = require('path');
const os = require('os');

const filepath = path.join(os.homedir(), '.vscode-remote-containers', 'config.json');

fs.watch(path.dirname(filepath), (event, filename) => {
	if (filename === path.basename(filepath)) {
		console.log(\`config.json file event: \${event}\`);
		rereadConfig(true);
	}
});
rereadConfig();
setInterval(() => {
	rereadConfig();
}, 5000);
function rereadConfig(event = false) {
	try {
		const text = fs.readFileSync(filepath, 'utf8');
		const config = JSON.parse(text);
		if (!config.pauseResolver) {
			console.log(\`config.json: Continuing... (\${event ? 'event' : 'poll'})\`);
			process.exit();
		}
		if (event) {
			console.log('config.json: Still paused.');
		}
	} catch (err) {
		console.log('config.json: Not a JSON file.');
	}
}
`;try{await se({exec:e.exec,cmd:o.cmd,args:[...o.args,"-e",i],output:Yn(t,1),print:"continuous"})}catch(s){t.write(ft((s==null?void 0:s.message)||String(s)))}t.stop(n,r)}async function hye(e,t){if(!t.nodeExecutable)return;let n=await ct(lp.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await ec(e,t,[t.nodeExecutable,"-e",n],void 0,{silent:!0}),o=r.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:o})}var H1;async function sI(e){return H1||(H1=Ll(lp.join(__dirname,"..",".."),dp,e)),H1}var by={};async function dp(e,t=!0){var n;if(e.counter&&((n=by[e.prompt])==null?void 0:n.from)===e.counter&&delete by[e.prompt],!by[e.prompt]){if(!t)return"";by[e.prompt]={result:Promise.resolve(Z.window.showInputBox({prompt:e.prompt||qe.l10n.t("Enter password"),password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:e.counter}}return by[e.prompt].result}async function st(e,t,n,r=!0,o=sI(t),i=!0){var y;let s=!n;if(s){if(Qr.results.size){let x=[...Qr.results.values()].filter(w=>w.dockerParams)[0];return j3(x.dockerParams)}if(cp)return cp}hI()&&(t.write(qe.l10n.t("Getting Docker parameters for own remote.")),fp()===1&&t.write(new Error().stack,1)),n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=Cm(n));let a,c;if(!n){let x=(Z.workspace.workspaceFolders||[])[0];if(Z.env.remoteName==="wsl")x?n=Cm(x.uri):n={wslDistro:db(Z.env.remoteAuthority),wslPath:"/"};else if(Z.env.remoteName==="ssh-remote"){if(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),!c){let w=dx(Z.env.remoteAuthority);if(w){let{user:E,hostName:I,port:D}=w;a={host:`ssh://${E?`${E}@`:""}${I}${D?`:${D}`:""}`}}}(c||a)&&(x?n=x.uri.path:n="/")}else Z.env.remoteName==="tunnel"?(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),x?n=x.uri.path:n="/"):Z.env.remoteName==="attached-container"?a=(y=sf(Z.env.remoteAuthority))==null?void 0:y.settings:(x==null?void 0:x.uri.scheme)==="file"&&(n=x.uri.fsPath);n||(n=process.cwd())}let l=a&&"host"in a&&a.host||void 0,u=r?ka():{executeInWSL:"never",defaultDistro:void 0},d=await Qv(Z.env.appRoot),p=Ro(c?{server:c,authority:Z.env.remoteAuthority}:void 0,l,n,qn,u,e.extensionPath,await To(),d,t,Ts,{sshAskpassEnv:o,settings:bg()});i&&!await Promise.race([p,Tn(1e3)])&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[${qe.l10n.t("Setting up Dev Containers (show log)")}](command:${_t} "${qe.l10n.t("Show details in terminal")}")`,cancellable:!1},async()=>{await p});let f=await p,m=Ps(),h=Ta();if(!a){let x=Z.workspace.getConfiguration("docker"),w=x.get("environment")||{},E=w.DOCKER_CONTEXT||x.get("context")||f.env.DOCKER_CONTEXT;if(!E){let I={cliHost:f,dockerCLI:m,dockerComposeCLI:Vs({exec:f.exec,env:{},output:je},m,h),dockerComposePath:h,env:{},output:je};E=await SN(I)||"default"}E&&E!=="default"?a={context:E}:(a={...ar(f.env),...["host","certPath","tlsVerify"].reduce((I,D)=>gye(I,x,D),{}),...ar(w)},Object.keys(a).length||(a=void 0))}let v={...f.type==="local"?await o:void 0,...await Hm(f,a)},g={cliHost:f,dockerCLI:m,dockerComposeCLI:Vs({exec:f.exec,env:v,output:t},m,h),dockerComposePath:h,env:v,output:t};return s&&(cp=g,G1(e,d),await Sy(g.cliHost,t)),g}async function BJ(){if(!Z.env.remoteName||Z.env.remoteName==="test")return process.platform;if(Z.env.remoteName==="ssh-remote"||Z.env.remoteName==="tunnel"){let e=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority);if(e)return(await e.env()).osPlatform}return"linux"}var rI;function G1(e,t){if(rI)return rI;let n=wye(e,t);return e.subscriptions.push(n),e.subscriptions.push(n.event(()=>{let r=cp==null?void 0:cp.cliHost;cp=void 0,r!=null&&r.terminate&&r.terminate()})),rI=n.event,rI}function gye(e,t,n){let r=t.get(n);return r&&(e[n]=r),e}var vye=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],xye=["dockerPath","dockerComposePath","executeInWSL","executeInWSLDistro"];function wye(e,t){let n=new Z.EventEmitter,r=Z.workspace.onDidChangeConfiguration(async l=>{(vye.some(u=>l.affectsConfiguration(u))||xye.some(u=>M1(l,u)))&&n.fire()}),o,i,s,a=()=>{(async()=>{i||(i=await Ro(void 0,void 0,process.cwd(),qn,ka(),e.extensionPath,await To(),t,je,Ts));let l={cliHost:i,dockerCLI:Ps(),dockerComposeCLI:Vs({exec:i.exec,env:{},output:je},Ps(),Ta()),dockerComposePath:Ta(),env:{},output:je},u=await SN(l);u===void 0?s=setTimeout(a,2*60*1e3):(u!==o&&(o!==void 0&&n.fire(),o=u),s=setTimeout(a,2*1e3))})().catch(console.error)};a();let c=n.dispose;return n.dispose=()=>{r.dispose(),s&&clearTimeout(s),c.call(n)},n}function od(){let e=Z.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return K1(t)}return null}function K1(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let n=ao(e.authority);if(ln(n))return null;if(ai(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function aI(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:yye}}async function yye(e){let t="Rebuild",n="Ignore",r=await Z.window.showInformationMessage(qe.l10n.t("Configuration file(s) changed: {0}. The container might need to be rebuilt to apply the changes.",e.join(", ")),t,n);if(r===t)return Z.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}var qJ="localExtensions";async function WJ(e){if(Z.env.remoteName)return;let t=new Set(Xt("defaultExtensionsIfInstalledLocally")||YJ),n=await Promise.all(Z.extensions.all.filter(r=>!r.packageJSON.isBuiltin).map(async r=>{var o;if(!t.has(r.id))return r.id;try{let i=We((await Z.workspace.fs.readFile(Z.Uri.joinPath(r.extensionUri,"package.json"))).toString());if((o=i==null?void 0:i.__metadata)==null?void 0:o.isPreReleaseVersion)return{id:r.id,version:"prerelease"}}catch{}return r.id}));await e.globalState.update(qJ,n)}var YJ=["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"];function Eye(e,t){if(t)return NJ();let n=e.globalState.get(qJ)||[],r=new Map(n.map(i=>typeof i=="string"?[i,void 0]:[i.id,i.version])),o=(Xt("defaultExtensionsIfInstalledLocally")||YJ).filter(i=>r.has(i));return Array.from(new Set([...o.map(i=>r.get(i)?`${i}@${r.get(i)}`:i),...Xt("defaultExtensions")||[],...NJ()]))}function VJ(){return od()?{}:Xt("defaultFeatures")||{}}function NJ(){let e=Z.env.language,t=e.indexOf("-"),n=LJ(e)||(t!==-1?LJ(e.substr(0,t)):void 0);return n?[n]:[]}function LJ(e){let t=e.toLowerCase();return Z.extensions.all.filter(n=>{var o;let r=n.packageJSON&&n.packageJSON.contributes;return(o=r==null?void 0:r.localizations)!=null&&o.length?!!r.localizations.find(i=>{var s;return((s=i==null?void 0:i.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(n=>n.id)[0]}function AJ(){return!!Z.workspace.getConfiguration().get("workbench.enableExperiments")}function Cye(){return!!Xt("enableWebAccess")}function cI(){return Xt("workspaceMountConsistency")||"cached"}function lI(){return Xt("cacheVolume")??!0}function bye(){let e=Xt("copyGitConfig");return typeof e=="boolean"?e:!0}function _ye(){return Xt("gitCredentialHelperConfigLocation")||"global"}function Sye(){let e=Xt("dockerCredentialHelper");return typeof e=="boolean"?e:!0}function Dye(){let e=Xt("mountWaylandSocket");return typeof e=="boolean"?e:!0}function Ps(){return Xt("dockerPath")||"docker"}function uI(){return Xt("dockerSocketPath")||"/var/run/docker.sock"}function ka(){return{executeInWSL:J1(),defaultDistro:dI()}}function J1(){return process.platform!=="win32"?"never":Xt("executeInWSL")?"always":"forWSLPath"}function dI(){if(process.platform==="win32")return Xt("executeInWSLDistro")||void 0}function Iye(){return process.platform==="win32"&&Xt("forwardWSLServices")!==!1}function Ta(){return Xt("dockerComposePath")||"docker-compose"}function fI(){return Xt("experimentalLockfile")||!1}function X1(){let e=Xt("optimisticallyLaunchDocker");return typeof e=="boolean"?e:!0}function fp(){let e=Xt("logLevel")||"debug";return rE(e)}var Pye=e=>Z.workspace.onDidChangeConfiguration(t=>{M1(t,"logLevel")&&e(fp())});function Tye(){let e=Z.workspace.getConfiguration(),t=n=>(e.get(vl(n),"")||e.get(n,"")).trim();return{repository:t("dotfiles.repository")||void 0,installCommand:t("dotfiles.installCommand")||void 0,targetPath:t("dotfiles.targetPath")||"~/dotfiles"}}function bg(){let e=Z.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),executableArgs:fp()===1?["-v"]:void 0,configFilePath:e.get("remote.SSH.configFile")}}function Wc(e,t,n,r,o,i,s,a,c){var p,f;let l={resolver:t,outcome:n};if(o){l.hostType=o.cliHost.type;let m=o.cliHost.authority;if(m){let h=m.indexOf("+");h!==-1&&(l.hostAuthority=m.substring(0,h))}}i&&(l.configProperties=JSON.stringify(Object.keys(i)),l.configExtensions=JSON.stringify(((f=(p=i.customizations)==null?void 0:p.vscode)==null?void 0:f.extensions)||[]),l.configFeatures=JSON.stringify(Object.keys(i.features||{}).map(m=>vd(m))),"image"in i?l.configType="image":Po(i)?l.configType="dockerfile":"dockerComposeFile"in i&&(l.configType="dockerCompose")),s&&(l.configLocation=s),a&&(l.hardwareId=a.osRelease.hardware,l.osReleaseId=a.osRelease.id,l.osReleaseVersion=a.osRelease.version);let u=c&&c.originalError,d=u&&(u.stack||u.message||String(u))||c&&c.description;d&&(l.errorMessage=d),c!=null&&c.step&&(l.step=c.step),e.sendTelemetryEvent("resolver",l,{sessionTimeInMs:Date.now()-r.getTime()})}var B1=class{constructor(t){this.onClose=t}writeEmitter=new Z.EventEmitter;onDidWrite=this.writeEmitter.event;inputEmitter=new Z.EventEmitter;onDidInput=this.inputEmitter.event;queue=[];ready=!1;open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},_y=class{constructor(t,n,r=void 0){this.sessionStart=n;let o=i=>{this.outputTerminal.write(i),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?lp.join(t,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=kye(o,fp,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var i;return(i=this._terminal)==null?void 0:i.dimensions}}),this.log.onDidChangeDimensions=i=>Z.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&i(s.dimensions)})}_terminal;outputTerminal=new B1(()=>this._terminal=void 0);onDidInput=this.outputTerminal.onDidInput;_name=qe.l10n.t("Dev Containers");_revealOnNextOutput=!1;log;logFilePath;get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=Z.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function kye(e,t,n,r,o=void 0){let i=[];return n&&i.push(wM(n,()=>Math.min(2,t()))),i.push(yM(e,t,r)),i.push(Rye()),Yn(xM(i,o))}function Rye(){return{event(e){e.type==="notification"&&Z.window.showInformationMessage(e.message,qe.l10n.t("Dismiss"))}}}async function Z1(e,t){let n=await ii(e,t.Id);if(n&&n.State.Status==="running")try{await ze(e,"stop",n.Id)}catch(r){Z.window.showErrorMessage(qe.l10n.t("Error stopping container: {0}",r.message))}}async function pI(e,t){let n=await ii(e,t.Id);if(n&&n.State.Status!=="running")try{await ze(e,"start",n.Id)}catch(r){Z.window.showErrorMessage(qe.l10n.t("Error starting container: {0}",r.message))}}async function zJ(e,t){try{await ze(e,"rm",t)}catch(n){Z.window.showErrorMessage(qe.l10n.t("Error removing container: {0}",n.message))}}async function Q1(e,t){try{await ze(e,"volume","rm","--force",t)}catch(n){Z.window.showErrorMessage(qe.l10n.t("Error removing volume: {0}",n.message))}}function Nye(){return Z.env.sessionId!=="someValue.sessionId"?Z.env.sessionId:`${Z.env.sessionId}_${Date.now()}`}function Lye(e,t){let n=Z.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(n.dispose.bind(n))}async function GJ(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let n=e.workspaceState.get("removeOnStartup",!1);return n&&await e.workspaceState.update("removeOnStartup",null),n}async function KJ(e,t){await e.workspaceState.update("removeOnStartup",t)}async function eU(e,t){await e.globalState.update("removeOnStartup",t)}async function JJ(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Dy(e,t){await e.globalState.update("buildNoCache",t)}async function _g(e,t,n,r,o){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:o})}async function XJ(e){var n;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let r=(n=Z.workspace.workspaceFolders)==null?void 0:n.some(i=>i.uri.fsPath===t.workspaceFolder||i.uri.path===t.workspaceFolder),o=await od();if(r||o&&o.repositoryPath===t.workspaceFolder&&(r=!0),r){let i=t.fileWithError?be.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await FJ(i),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?Z.ViewColumn.Beside:Z.ViewColumn.One,preserveFocus:!0},a=await Z.window.showTextDocument(Z.Uri.file(t.logFile),s),c=new Z.Position(a.document.lineCount-1,0);a.selection=new Z.Selection(c,c),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await FJ(i),!0}}return!1}function ZJ(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function FJ(e){return e?Z.commands.executeCommand("vscode.open",Z.Uri.parse(e.toString()),{viewColumn:Z.ViewColumn.One}):Z.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:Z.ViewColumn.One})}async function mI(e,t,n,r){return!r&&Qr.results.size?[...Qr.results.values()].filter(o=>o.config).map(o=>({type:o.configLocationType||"unknown",uri:o.configWorkspaceURI||o.config.configFilePath,fileHost:e})):(await Promise.all([!r||r==="workspace"?qc().then(o=>o.map(i=>({type:"workspace",uri:i,fileHost:e}))):[],!r||r==="repositoryConfig"?tU(e,t).then(o=>o.map(i=>({type:"repositoryConfig",uri:i,fileHost:Pa(process.platform,i.with({path:lp.posix.dirname(i.path)}))}))):[],n&&(!r||r==="userData")?tI(e,t,n).then(o=>o.map(i=>({type:"userData",uri:i,fileHost:e}))):[]])).flat()}async function tU(e,t){let n=Iy();if(n.length){let r=await WC(e,t,je);if(r!=null&&r.length){let o=i_(r,n);return(await Promise.all(o.map(s=>qc(be.file(s))))).flat()}}return[]}function Iy(){return Xt("repositoryConfigurationPaths")||[]}async function Yc(e,t){if(t.type==="local")return e.globalStoragePath}async function Aye(e,t,n="localhost"){await Z.workspace.openTunnel({remoteAddress:{host:n,port:t}})}function QJ(e,t){let n=new _y(void 0,t);n.name=qe.l10n.t("Configuring..."),n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let o,i={enabled:!0,skipNonBlocking:!1,output:tz(n.log,"postCreate",e),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw(`\x1B[1m${qe.l10n.t("Done. Press any key to close the terminal.")}\x1B[0m`),r=!0),o()},promise:new Promise(s=>o=s)};return{channel:n,postCreate:i}}async function Sg(e){let{authority:t,extensionContext:n,sessionStart:r,progress:o,cliHost:i,env:s,cwd:a,wslSettings:c,isLocalContainer:l,telemetry:u,output:d,logFilePath:p,allowSystemConfigChange:f,postCreate:m}=e,h=Cye(),v=Nye(),g=await To(),y;if(i.type!=="wsl"&&Iye())try{y=await fb(void 0,c,n.extensionPath,g,u.product,qn,d,Ts)}catch(w){d.write("Could not connect to WSL."),d.write((w==null?void 0:w.message)||String(w)),w!=null&&w.stdout&&d.write(w.stdout.toString()),w!=null&&w.stderr&&d.write(w.stderr.toString())}let x={computeExtensionHostEnv:!0,...u,appRoot:Z.env.appRoot,localCacheFolder:g,containerSessionDataFolder:lp.posix.join("/tmp",`devcontainers-${v}`),extensionPath:n.extensionPath,sessionId:v,sessionStart:r,authority:t,cliHost:i,hostConfig:await Sy(i,d),env:s,cwd:a,isLocalContainer:l,getAdditionalExtensionsToInstall:Eye.bind(void 0,n),additionalFeaturesToInstall:VJ(),isCopyGitConfigEnabled:bye(),credentialHelperConfigLocation:_ye(),isDockerCredentialHelperEnabled:Sye(),dotfilesConfiguration:Tye(),progress:$ye(o),output:d,logFilePath:p,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>u.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:fp,onDidChangeLogLevel:Pye,loadNativeModule:qn,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:w=>Lye(x,w),openTunnel:Aye,getTunnels:()=>Promise.resolve(Z.workspace.tunnels),onAdoptProcess:Z.window.onDidOpenTerminal,persistedFolder:await H3(i,n.globalStoragePath),alternateDownload:Ts,skipPostAttach:!1,wslCLIHost:y,localWaylandSocket:l?await Fye(i,y,d):void 0,globalState:n.globalState};return x.hostConfig.pauseResolver&&await HJ(i,d),x}async function Fye(e,t,n){if(!Dye())return;let r=await FR(e);if(r)return r;let o=t&&await FR(t);if(o)return jV(t,o,n)}async function Ts(e,t){let n=await Z.commands.executeCommand("_workbench.downloadResource",Z.Uri.parse(e));if(!n)throw new De({description:qe.l10n.t("Downloading the VS Code Server failed. Please try again later.")});await Kc(n.fsPath,t)}var Dg=`[${qe.l10n.t("Connecting to Dev Container (show log)")}](command:${_t} "${qe.l10n.t("Show details in terminal")}")`,Oye=`[${qe.l10n.t("Configuring Dev Container (show log)")}](command:${z1} "${qe.l10n.t("Show details in terminal")}")`,Uye=`[${qe.l10n.t("Reading Dev Container Configuration (show log)")}](command:${_t} "${qe.l10n.t("Show details in terminal")}")`,Mye={0:"",1:qe.l10n.t("Cloning Repository"),2:qe.l10n.t("Building image"),3:qe.l10n.t("Starting container"),4:qe.l10n.t("Installing server"),5:qe.l10n.t("Starting server"),6:""};function $ye(e){let t=0;return n=>{let r=6-n,o=(100-t)/(r+1);e.report({message:Mye[n],increment:o}),t+=o}}function eX(e,t,n){let{name:r,publisher:o,version:i,aiKey:s}=t;if(!s)return pM(t,n);let a=o?`${o}.${r}`:r,c=new OJ.default(s);e.subscriptions.push(c);let l=new q1(c),u=jye(n),d=AJ()?(0,rd.getExperimentationService)(a,i,u,l,e.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async p=>d&&AJ()?d.isCachedFlightEnabled(p):!1,product:n,package:t,getTelemetryLevel:()=>c.telemetryLevel}}var q1=class{constructor(t){this.baseReporter=t}sharedProperties={};sendTelemetryEvent(t,n,r){this.baseReporter.sendTelemetryEvent(t,{...this.sharedProperties,...n},r)}setSharedProperty(t,n){this.sharedProperties[t]=n}postEvent(t,n){let r={};for(let[o,i]of n)r[o]=i;this.sendTelemetryEvent(t,r)}};function jye(e){switch(e.quality){case"stable":return rd.TargetPopulation.Public;case"insider":return rd.TargetPopulation.Insiders;case"exploration":return rd.TargetPopulation.Internal;case void 0:return rd.TargetPopulation.Team;default:return rd.TargetPopulation.Public}}var Py=qe.l10n.t("Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container."),W1="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Ty(e,t){if(t!=null&&t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||e.globalState.get(W1))return!0;let n=qe.l10n.t("Got It"),r=qe.l10n.t("Learn More"),o=await Z.window.showWarningMessage(qe.l10n.t("Cloning a repository in a Dev Container may execute arbitrary code."),{modal:!0,detail:qe.l10n.t("Only clone a repository in a Dev Container if you trust its authors.")},n,r);return o===n?(await e.globalState.update(W1,!0),!0):(o===r&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var Y1="userConfirmedAttachToContainerRequiresTrust";async function id(e){if(e.globalState.get(Y1))return!0;let t=qe.l10n.t("Got It"),n=qe.l10n.t("Learn More"),r=await Z.window.showWarningMessage(qe.l10n.t("Attaching to a container may execute arbitrary code."),{modal:!0,detail:qe.l10n.t("Only attach to a container if you trust its origin.")},t,n);return r===t?(await e.globalState.update(Y1,!0),!0):(r===n&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function tX(e){e.globalState.setKeysForSync([W1,Y1,V1])}function nX(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var V1="updatedToPreRelease2",Hye="2022-01-19T05:14:31.474Z";async function rX(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(Hye)>=0&&!e.globalState.get(V1,!1)&&(await e.globalState.update(V1,!0),await Z.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function Ig(e,t,n,r){try{return await o_(e,t,n,fp(),void 0,void 0,r)}catch{return}}async function nU(e,t,n,r){let o=(async()=>{try{return await B3(e,t,n,fp(),VJ(),void 0,void 0,r)}catch{return}})(),i=await Promise.race([o,new Promise(s=>setTimeout(()=>s("timeout"),1e3))]);return i!=="timeout"?i:Z.window.withProgress({location:Z.ProgressLocation.Notification,title:Uye,cancellable:!0},async(s,a)=>Promise.race([o,new Promise(c=>{let l=a.onCancellationRequested(()=>{l.dispose(),c("canceled")})})]))}async function pp(e){return Z.commands.executeCommand("_workbench.addToRecentlyOpened",e)}async function oX(e,t,n,r){try{return await Om(t,e.globalState,n,r),!0}catch(o){if(!(o instanceof De))throw o;let i=qe.l10n.t("Learn More");return await Z.window.showWarningMessage(o.description,{modal:!0,detail:o.detail},...o.data.learnMoreUrl?[i]:[])===i&&await Z.env.openExternal(Z.Uri.parse(o.data.learnMoreUrl)),!1}}async function iX(e,t){let n="";for(let r=w_(Z.env.remoteAuthority);r;r=w_(r.parentAuthority)){let o=r.name==="tunnel"?await Z.extensions.getExtension("ms-vscode.remote-server"):r.name==="ssh-remote"?await Z.extensions.getExtension("ms-vscode-remote.remote-ssh"):void 0;o&&(n+=` over ${o.packageJSON.displayName} ${o.packageJSON.version}`)}return`Dev Containers ${e.version}${n} in VS Code ${Z.version} (${t.commit||"out-of-source"}).`}function sX(e){hI()&&(async()=>await Promise.race([e,new Promise(n=>setTimeout(()=>n("timeout"),1e4))])==="timeout"&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[${qe.l10n.t("Dev Containers waiting for connection request (show log)")}](command:${_t} "${qe.l10n.t("Show details in terminal")}")`},async()=>e))()}var Bye=["dev-container","attached-container","k8s-container"];function hI(){return Z.env.remoteName&&Bye.includes(Z.env.remoteName)}var mp={id:"openDocumentation",title:wi.l10n.t("Open Documentation"),isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Wt.env.openExternal(Wt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},hp={id:"reloadWindow",title:wi.l10n.t("Reload Window"),isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await ze(e.dockerParams,"stop","-t","0",e.containerId),await Wt.commands.executeCommand("workbench.action.reloadWindow")}},cX={id:"rebuildContainer",title:wi.l10n.t("Rebuild Container"),isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t&&!(e.params&&"hostConfig"in e.params&&!e.params.hostConfig.canRebuildContainer),execute:async e=>{await ze(e.dockerParams,"rm","-f",e.containerId),await Wt.commands.executeCommand("workbench.action.reloadWindow")}},Pg={id:"openRecent",title:wi.l10n.t("Open Recent..."),isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Wt.commands.executeCommand("workbench.action.openRecent")}},lX={id:"startContainer",title:wi.l10n.t("Start Container"),isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await ze(e.dockerParams,"start",e.containerId),await Wt.commands.executeCommand("workbench.action.reloadWindow")}},uX={id:"chooseContainer",title:wi.l10n.t("Choose Container"),isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Wt.commands.executeCommand("remote-containers.attachToRunningContainer")}},sd={id:"closeRemote",title:wi.l10n.t("Close Remote"),isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let n=Wt.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Wt.workspace.textDocuments.some(o=>o.isDirty))},execute:async e=>{await Wt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Tg=[{id:"retry",title:wi.l10n.t("Retry"),isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:hp.execute},{id:"moreActions",title:wi.l10n.t("More Actions..."),isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:wi.l10n.t("Learn More"),isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Wt.env.openExternal(Wt.Uri.parse(e.data.learnMoreUrl))}}];async function ad(e,t,n,r=!1,o){var f,m,h,v,g,y;let i=e instanceof De?e:new De({description:wi.l10n.t("An error occurred setting up the container."),originalError:e});Wt.commands.executeCommand(_t);let s=i.originalError&&(i.originalError.stack||i.originalError.message)||i.originalError;if(s!==void 0){o.write(ft(String(s)));let x=(m=(f=i.originalError)==null?void 0:f.stdout)==null?void 0:m.toString().trim();x&&o.write(x);let w=(v=(h=i.originalError)==null?void 0:h.stderr)==null?void 0:v.toString().trim();w&&o.write(ft(w)),(g=i.originalError)!=null&&g.code&&o.write(`Exit code ${(y=i.originalError)==null?void 0:y.code}`)}if(i.data.closeRemote)throw await Wt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Wt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let a=i.actions;a.length||(a=[mp]);let c=await a.reduce(async(x,w)=>await w.applicable(i,!0)?[...await x,w]:x,Promise.resolve([])),l=await Wt.window.showErrorMessage(i.description,{modal:!0,detail:i.detail},...c);if(l&&(aX(n,t,l.id),await l.execute(i)),l&&l.isLastAction){if(r)throw Wt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let u=await a.reduce(async(x,w)=>await w.applicable(i,!1)?[...await x,w]:x,Promise.resolve([])),d=u.map(x=>({label:x.title,action:x}));async function p(){let w=await(u.length?Wt.window.showQuickPick(d,{ignoreFocusOut:!0,placeHolder:wi.l10n.t("Pick an action to help resolve the problem.")}):Promise.resolve(void 0));w&&(aX(n,t,w.action.id),w.action.execute(i).catch(console.error),w.action.isLastAction||await p())}if(p().catch(console.error),r)throw Wt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function aX(e,t,n){e.sendTelemetryEvent("errorAction",{resolver:t,action:n})}var gn=G(require("vscode")),Zt=require("vscode"),Ra=G(require("path"));var me=G(require("vscode")),sn=require("vscode");var PX=G(wk());function dX(e){var t;return(t=e.options)!=null&&t.version?"version":void 0}var Fg=G(require("path"));async function cd(e){let r=await r_({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},e),o=We(r.toString());return o.collections.find(i=>i.templates.length)||e.write("No container templates retrieved from index.",5),o.collections.find(i=>i.features.length)||e.write("No container features retrieved from index.",5),o}var jt=G(require("vscode")),ht=require("vscode"),Ly=G(require("os"));var Ny=G(require("path"));var bn=G(require("vscode")),hn=require("vscode");var fX=hn.l10n.t("Keep Defaults"),qye=hn.l10n.t("Configure Options"),ky={iconPath:new bn.ThemeIcon("check-all"),tooltip:hn.l10n.t("Finish")},rU=["devcontainers","microsoft","github"];async function kg(e,t,n,r=[],o,i=!0,s=!1){if(!t.length)return{};let a={iconPath:new bn.ThemeIcon("info"),tooltip:hn.l10n.t("Open Documentation")},c=e.quickPick.onDidTriggerItemButton(w=>{let E=w.item.feature.documentationURL;bn.env.openExternal(bn.Uri.parse(E))}),l=await o,u=hn.l10n.t("Suggested by GitHub Copilot"),d=t.map(w=>{let E=r.indexOf(w)!==-1,I;if(E)I=hn.l10n.t("$(lock) Feature is included in base image and cannot be removed");else if(w.owner){let k=w.owner==="devcontainers"?"$(verified)":"";I=`${w.owner||hn.l10n.t("Unknown Publisher")} ${k}`}else I=void 0;let D=l==null?void 0:l.features.includes(w);return{label:D?`$(sparkle) ${w.name}`:w.name,detail:w.description,description:D?I?`${I} ${u}`:u:I,picked:n.indexOf(w)!==-1,buttons:w.documentationURL?[a]:void 0,feature:w,isAlreadyInstalledViaBaseImage:E,kind:bn.QuickPickItemKind.Default}}).sort((w,E)=>{if(w.isAlreadyInstalledViaBaseImage!==E.isAlreadyInstalledViaBaseImage)return w.isAlreadyInstalledViaBaseImage?1:-1;let I=l==null?void 0:l.features.includes(w.feature),D=l==null?void 0:l.features.includes(E.feature);return I!==D?I?-1:1:w.label.localeCompare(E.label)}),p,f=e.quickPick,{matchOnDetail:m}=f;try{f.matchOnDetail=!0;let w=[];s&&w.push(bn.QuickInputButtons.Back),i&&w.push(ky),p=await go(f,d,hn.l10n.t("Select additional features to install"),hn.l10n.t("Select Features"),!0,w)}finally{f.matchOnDetail=m}if(c.dispose(),!p)return;if(p.button===bn.QuickInputButtons.Back)return"back";let h=p.pick.filter(w=>!w.isAlreadyInstalledViaBaseImage).map(w=>w.feature),v={};if(!h.length)return v;let g=[];for(let w of t){let E=h.indexOf(w)!==-1;v[w.id]=E?{}:!1,E&&rU.indexOf(w.owner)===-1&&g.push(w)}if(e.askForTrust&&g.length){let w=[...new Set(g.map(C=>C.owner))].sort().map(C=>`@${C}`),E=w.length===1?w[0]:`${w.slice(0,-1).join(", ")} and ${w[w.length-1]}`,I={label:hn.l10n.t("Trust {0}",E),description:hn.l10n.t("from GitHub"),buttons:[{iconPath:new bn.ThemeIcon("info"),tooltip:hn.l10n.t("Open Documentation")}]},D={label:hn.l10n.t("Back")},k={label:hn.l10n.t("Cancel")},N=f.onDidTriggerItemButton(()=>{for(let C of g)bn.env.openExternal(bn.Uri.parse(C.documentationURL))}),R=await go(f,[I,D,k],hn.l10n.t("Some features are from the {0} GitHub owner/organization(s).",E),void 0,void 0,!0);if(N.dispose(),!R||R===k)return;if(R==="back"||R===D)return kg(e,t,n,r,o,i,s)}return p.button===ky||!i||!h.some(w=>{let E=w.options;return E&&Object.keys(E).some(I=>{let D=E[I];return D.type==="boolean"||D.type==="string"&&("enum"in D&&(D.enum||[]).length>1||"proposals"in D&&(D.proposals||[]).length>1)})})||await bn.window.showQuickPick([fX,qye],{title:hn.l10n.t("Keep Feature defaults or configure options?"),canPickMany:!1})===fX?v:Wye(e,v,h,()=>kg(e,t,n,r,o))}async function Wye(e,t,n,r){return async function o(i,s,a){if(!s.length)return i;let c=s[0],l=i;if(!(c!=null&&c.options))return o(l,s.slice(1),a);let u,d;return u=await Yye(e,l,c),u&&(d=await Vye(e,u,c,a)),!u||!d?await a():o(d,s.slice(1),a)}(t,n,r)}async function Yye(e,t,n){let r=n==null?void 0:n.options;if(!r)return t;let i=Object.keys(r).filter(l=>{var u;return((u=r[l])==null?void 0:u.type)==="boolean"}).map(l=>{let u=r[l];return{label:l,description:u.description,key:l,value:!0,picked:!!(u!=null&&u.default)}});if(!i.length)return t;let s=n.id,a=n.name||s,c=await go(e.quickPick,i,hn.l10n.t("Select boolean options for {0}",a),hn.l10n.t("Select boolean options for '{0}'",a),!0,[bn.QuickInputButtons.Back,ky]);if(!(!c||c.button===bn.QuickInputButtons.Back))return c.pick.reduce((l,u)=>({...l,[s]:{...l==null?void 0:l[s],[u.key]:u.value}}),t)}async function Vye(e,t,n,r){let o=n==null?void 0:n.options;if(!o)return t;let i=n.id,s=n.name||i;return async function a(c,l,u){if(!l.length)return c;let d=l[0],p=o[d],f=("enum"in p&&p.enum||"proposals"in p&&p.proposals||[]).map(v=>({label:String(v),value:v,description:p.default===v?hn.l10n.t("(default)"):void 0,picked:!1}));if(f.length===0)return a(c,l.slice(1),u);let m=f.length===1?{pick:f[0],button:"ok"}:await go(e.quickPick,f,p.description||hn.l10n.t("Select a value"),hn.l10n.t("Select options for '{0}'",s),void 0,[bn.QuickInputButtons.Back,ky]);if(!m||m.button===bn.QuickInputButtons.Back)return;let h={...c,[i]:{...c==null?void 0:c[i],[d]:m.pick.value}};return m.button===ky?h:a(h,l.slice(1),u)}(t,Object.keys(o).filter(a=>{var c;return((c=o[a])==null?void 0:c.type)==="string"}),r)}var zye=["png","md","json","txt","map"],Gye=["node_modules",".git","bin","out","dist",".vscode-test"],Kye=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],pX={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},mX={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},Jye=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function hX(e,t){let n=new Map;for(let r of t)if(r.platforms){if(Jye.indexOf(r.id)>-1)continue;let o=0,i=0,s=r.platforms;if(s[0]==="Any")o+=5;else for(let a of s)if(mX[a]){let c=mX[a];for(let l of c)e.fileTypes.get(l.toLowerCase())&&(o+=10),e.mostPopularFileType===l&&(o+=10)}else if(pX[a]){let c=pX[a],l=!1;for(let u of c)e.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}n.set(r,o+(i<0?-4:i))}return n}async function gX(e,t){return Xye(e,t.rootFolderPath,Gye,zye)}async function Xye(e,t,n,r){let o=new Map,i=new Map,s=500;function a(f,m,h,v){let g=[];(e.readDirWithTypes||e.readDir)(f).then(x=>{if(h.count>=s)return h.count+=x.length,h.maxReached=!0,v(g);let w=x.length;if(w===0)return v(g);let E=x;h.count+x.length>s&&(h.maxReached=!0,w=s-h.count,E=x.slice(0,w)),h.count+=x.length;for(let I of E){let D=Array.isArray(I)?I[0]:I;(Array.isArray(I)?Promise.resolve((I[1]&1)!==0):e.isFile(e.path.join(f,D))).then(N=>{N?(g.push(D),--w===0&&v(g)):m.indexOf(D)===-1?a(e.path.join(f,D),m,h,R=>{if(g=g.concat(R),--w===0)return v(g)}):--w===0&&v(g)},()=>{if(--w===0)return v(g)})}},()=>v(g))}let c=f=>{o.has(f)?o.set(f,o.get(f)+1):o.set(f,1)},l=f=>{for(let m of Kye)m.pattern.test(f)&&(i.has(m.tag)?i.set(m.tag,i.get(m.tag)+1):i.set(m.tag,1))},u=f=>{if(f.lastIndexOf(".")>=0){let m=f.split(".").pop();m&&!r.includes(m)&&c(m.toLowerCase())}l(f)},d=f=>[...f.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],p={count:0,maxReached:!1};return new Promise((f,m)=>{a(t,n,p,async h=>{h.forEach(u),f({configFiles:i,fileTypes:o,fileCount:p.count,mostPopularFileType:d(o)})})})}var yi=G(require("vscode")),gI=require("vscode");var Ry={"ghcr.io/devcontainers/templates/anaconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/kubernetes-helm":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/alpine":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-outside-of-docker-compose":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/jekyll":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/docker-outside-of-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-in-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/go":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet-fsharp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/debian":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/rust-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/universal":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/conda","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/dotnet","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/git-lfs","ghcr.io/devcontainers/features/github-cli","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/hugo","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/kubectl-helm-minikube","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/oryx","ghcr.io/devcontainers/features/php","ghcr.io/devcontainers/features/python","ghcr.io/devcontainers/features/ruby","ghcr.io/devcontainers/features/sshd"],"ghcr.io/devcontainers/templates/python":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/markdown":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/rust":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/java-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/java":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/anaconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/php":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/powershell":["ghcr.io/devcontainers/features/common-utils"],"ghcr.io/devcontainers/templates/kubernetes-helm-minikube":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby-rails-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/cpp-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/cpp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-mssql":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/typescript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/ubuntu":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/php-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/go-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-mongo":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"]};async function xX(e,t,n,r,o){var u;let i=await oU(e,t,n);if(i.type==="cancelled")return;if(i.type==="failure"){let d=gI.l10n.t("OK");return await yi.window.showInformationMessage(yi.l10n.t("Something went wrong. Please pick a Dev Container configuration yourself."),{modal:!0,detail:i.message},d)===d||void 0}if(!i.template){let d=gI.l10n.t("OK");return await yi.window.showInformationMessage(yi.l10n.t("GitHub Copilot did not have enough contextual information. Please pick a Dev Container configuration yourself."),{modal:!0},d)===d||void 0}let s=i.template,a=await iU(e,{id:s,name:s},void 0),c=new Set(Ry[s]||[]);a.features=((u=i.features)==null?void 0:u.filter(d=>!c.has(d)).map(d=>({id:d,copilotSuggested:!0,options:{}})))||[];let l=await Rg(e,t,r,o,a);return l&&zo(e.telemetry,"copilot",a,o),l}var wX="github.copilot.devcontainer.generateDevContainerConfig",vX=6e3;async function oU(e,t,n){var i,s;let r={index:{templates:((i=e.index)==null?void 0:i.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/templates").map(a=>a.templates).flat().filter(a=>!Ng.includes(a.id)).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[],features:((s=e.index)==null?void 0:s.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/features").map(a=>a.features).flat().filter(a=>!a.deprecated).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[]},rootUri:yi.Uri.parse((await t.toCommonURI(n.rootFolderPath)).toString())},o=new yi.CancellationTokenSource;try{return await Promise.race([yi.commands.executeCommand(wX,r,o.token),Tn(vX).then(()=>(o.cancel(),{type:"failure",message:gI.l10n.t("Timeout after {0} seconds.",vX/1e3)}))])}catch(a){return{type:"failure",message:(a==null?void 0:a.message)||String(a)}}finally{o.dispose()}}async function yX(){return(await yi.commands.getCommands()).includes(wX)}var sU=Ny.default.join(__dirname,"..",".."),EX=jt.env.appRoot,Zye=e=>Sm(e,EX);async function Ag(e,t){let{fileHost:n,output:r}=e;r.write("Entering createDevContainerConfig_v2");let o=await IX();if(o){let i=Ie(o,n.platform),s=Tt(n.path,i),a=await jC(n,s);if(a){let l=ht.l10n.t("Continue");if(await jt.window.showInformationMessage(ht.l10n.t("The workspace could fail to open in a container: {0}",a),{modal:!0},l)!==l)return!1}let c=await lU(e,s,void 0,void 0,t);if(c){let l=await n.toCommonURI(c);l&&jt.window.showTextDocument(jt.Uri.parse(l.toString()))}return!!c}return!1}async function Rg(e,t,n,r,o,i=(s,a)=>a){return jt.window.withProgress({location:jt.ProgressLocation.Notification,title:ht.l10n.t("Adding Dev Container Configuration Files..."),cancellable:!1},async()=>cU(e,t,n,r,o,i))}async function CX(e){let{output:t}=e,n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await To(),o=process.cwd();return{cliHost:await Ro(void 0,void 0,o,Zye,n,sU,r,e.telemetry.product,t,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:sU,appRoot:EX,output:t,package:await $r(sU)}}async function cU(e,t,n,r,o,i=(s,a)=>a){let{output:s}=e;s.write(`Preparing to apply Template '${o==null?void 0:o.id}'`);let a=Ny.default.join(Ly.tmpdir(),`tmp-output-dir-${Date.now()}`),c=Ny.default.join(Ly.tmpdir(),`tmp-dir-${Date.now()}`);e.quickPick.busy=!0,e.quickPick.enabled=!1;let l=await CX(e),u;try{u=await ri(l,["templates","apply","--workspace-folder",a,"--template-id",o.id,"--template-args",o.options?JSON.stringify(o.options):"{}","--features",o.features?JSON.stringify(o.features):"[]","--tmp-dir",c,"--log-level",to(Cy()),"--omit-paths",o.omitPaths?JSON.stringify(o.omitPaths):"[]"])}catch{let f=ht.l10n.t("Show Log");await jt.window.showErrorMessage(ht.l10n.t("Application of the template failed."),{modal:!0},...e.showLogCommandId?[f]:[])===f&&jt.commands.executeCommand(e.showLogCommandId);return}let d=ht.l10n.t("Skip"),p;for(let f of u.files){s.write(`Copying file '${f}'`,1);let m=t.path.join(n,f);if(await t.isFile(m)){let g=r==="userData"?yy(t.platform,m,Ly.homedir()):f,y=await jt.window.showInformationMessage(ht.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},d,ht.l10n.t("Overwrite"));if(!y)return;if(y===d)continue}await t.mkdirp(t.path.dirname(m));let h=await ct(Ny.default.join(a,f)),v=i(f,h);await t.writeFile(m,v),!p&&Cx(t.path,f)&&(p=m)}return s.write("Cleaning up...",1),await Xc(a,{recursive:!0,force:!0}),await Xc(c,{recursive:!0,force:!0}),e.quickPick.busy=!1,e.quickPick.enabled=!0,p}async function lU(e,t,n,r,o){let{fileHost:i,telemetry:s}=e,a=await uU(e,n,!1);if(r){zo(await s,"existsMissingImageInfo");let f=Ie(r,i.platform);if(!await jt.window.showWarningMessage(ht.l10n.t("Dev Container configuration '{0}' file is missing image information. You can add this manually or overwrite with a template.",i.path.relative(t.configFolderPath,f)),{modal:!0},ht.l10n.t("Use Template"))){let h=await i.toCommonURI(f);h&&jt.window.showTextDocument(jt.Uri.parse(h.toString()));return}}let c,l,u="workspace";if(e.userDataFolderForConfigurations){c=await $1(i,t,e.userDataFolderForConfigurations);let f=c&&await Jd(i,c),m={label:ht.l10n.t("Add configuration to user data folder"),description:f?ht.l10n.t("Configuration already exists"):void 0,detail:ht.l10n.t("This avoids having outgoing changes in your workspace folder")},h=await Jd(i,t.configFolderPath),v={label:ht.l10n.t("Add configuration to workspace"),description:h?ht.l10n.t("Configuration already exists"):void 0,detail:ht.l10n.t("This allows you to share the configuration with others via source control")},g=await go(a.quickPick,[m,v],ht.l10n.t("Where would you like to create your container configuration?"));if(!g)return;g===m&&(l=c||PJ(i,t,e.userDataFolderForConfigurations),u="userData")}else if(!r){let f=await xI(i,t);if(f){zo(await s,"exists");let m=Ie(f.uri,i.platform);if(!await jt.window.showWarningMessage(ht.l10n.t("Dev Container configuration '{0}' file already exists.",i.path.relative(t.configFolderPath,m)),{modal:!0},ht.l10n.t("Continue"))){let v=await i.toCommonURI(m);v&&jt.window.showTextDocument(jt.Uri.parse(v.toString()));return}}}let d=l||t.configFolderPath,p;if((o==null?void 0:o.picker)==="copilot"){let f=await xX(a,i,t,d,u);f===!0&&(f=await Lg(a,i,t,d,u,void 0)),p=f}else p=await Lg(a,i,t,d,u,void 0);if(p&&l&&!c){let f=await TJ(i,t,e.userDataFolderForConfigurations,l);p=i.path.resolve(f,i.path.relative(l,p))}return a.quickPick.hide(),p}async function uU(e,t,n){let r=jt.window.createQuickPick();r.ignoreFocusOut=!0,t&&(r.title=t);let o=await cd(e.output);return{existingFilesLearnMoreLink:SX,predefinedDefinitionsLearnMoreLink:DX,...e,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await e.telemetry,index:o,skipOptions:n}}async function bX(e,t,n,r,o,i,s){if(!e.index)return;let c=await vI(e,t,n,i);if(!c)return;if(c==="back")return s?s():void 0;let l=await Rg(e,t,r,o,c);return l&&zo(e.telemetry,"definition",c,o),l}var Ng=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function vI(e,t,n,r){let{index:o}=e,i=((o==null?void 0:o.collections.map(l=>l.templates).flat())||[]).filter(l=>!Ng.includes(l.id));if(!(i!=null&&i.length))return;let s=()=>vI(e,t,n,r),a=await Qye(e,t,n,i);if(!(a!=null&&a.length))return aU(e,[],i,r,s);let c=[{label:ht.l10n.t("Show All Templates..."),detail:ht.l10n.t("Show all available predefined container templates."),alwaysShow:!0,type:"showAll"}];return aU(e,c,a,r,s)}async function Qye(e,t,n,r){r=r.filter(a=>a.owner==="devcontainers");let o=e.stats||t&&n&&(e.stats=await gX(t,n));if(!(o!=null&&o.mostPopularFileType.length))return;let i=hX(o,r);return r.filter(a=>(i.get(a)||0)>0).sort(eEe.bind(null,i))}function eEe(e,t,n){let r=e.get(n)||0,o=e.get(t)||0;return r-o}async function aU(e,t,n,r,o){let{index:i,predefinedDefinitionsLearnMoreLink:s,telemetry:a}=e,c={iconPath:new jt.ThemeIcon("info"),tooltip:ht.l10n.t("Open Documentation")},l=e.quickPick.onDidTriggerItemButton(m=>{let h=m.item.template.documentationURL;jt.env.openExternal(jt.Uri.parse(h))}),u=(async()=>{let m=await r,h=n;m!=null&&m.template&&n.indexOf(m.template)===-1&&(h=[m.template,...n]);let v=ht.l10n.t("Suggested by GitHub Copilot"),g=h.map(x=>{let w;if(x.owner){let I=(x==null?void 0:x.owner)==="devcontainers"?"$(verified)":"";w=`${((x==null?void 0:x.owner)==="microsoft"&&x.id.includes("microsoft/vscode-dev-containers")?ht.l10n.t("community"):x==null?void 0:x.owner)||ht.l10n.t("Unknown Publisher")} ${I}`}let E=x===(m==null?void 0:m.template);return{label:E?`$(sparkle) ${x.name}`:x.name,picked:n.indexOf(x)!==-1,detail:x==null?void 0:x.description,description:E?w?`${w} ${v}`:v:w,buttons:[c],template:x}}).sort((x,w)=>x===w?0:x.template===(m==null?void 0:m.template)?-1:w.template===(m==null?void 0:m.template)?1:x.label.localeCompare(w.label));return[...t,...s?[fU]:[],...g]})(),d=m=>{let h=m.trim();if(/^\S+(\/\S+){2,}$/.test(h))return{label:ht.l10n.t("Use '{0}' as template...",h),detail:ht.l10n.t("Apply this custom template instead of one of the listed templates."),templateId:h}},p=ht.l10n.t("Select a container configuration template or enter a custom template id"),f=await go(e.quickPick,u,p,void 0,void 0,void 0,d);if(l.dispose(),!f){zo(a,"canceled");return}if(f.type==="help"){zo(a,"help"),jt.env.openExternal(s);return}if(f.type==="showAll"){let m=((i==null?void 0:i.collections.map(h=>h.templates).flat())||[]).filter(h=>!Ng.includes(h.id));return aU(e,[],m,r,o)}if(f.template)return gp(e,f.template,r.then(m=>{var g,y;if(!m)return;let h=((i==null?void 0:i.collections.map(x=>x.features).flat())||[]).filter(x=>!x.deprecated),v=new Set([...m.features,...m.template&&((g=Ry[m.template.id])==null?void 0:g.map(x=>h.find(w=>w.id===x)).filter(x=>!!x))||[]]);return(((y=Ry[f.template.id])==null?void 0:y.map(x=>h.find(w=>w.id===x)).filter(x=>!!x))||[]).forEach(x=>v.delete(x)),{template:m.template,features:Array.from(v)}}),o);if(f.templateId)return gp(e,{id:f.templateId,name:f.templateId},r,o)}async function iU(e,t,n){if(!t.version){let r=await tEe(e,t.id);r&&(t={...r,id:t.id})}return{id:t.id,options:{},features:[],omitPaths:[],metadata:{template:t,features:[],copilotSuggestion:n}}}async function tEe(e,t){let{output:n}=e;n.write(`Attempting metadata fetch for Template '${t}' from remote manifest`,3);let r=await CX(e);try{return await ri(r,["templates","metadata",t,"--log-level",to(Cy())])}catch{n.write(`Metadata for '${t}' not cached on manifest. Some features will be unavailable.`,1),n.write(`Ask the Template owner to republish '${t}' to populate the data`,1);return}}async function gp(e,t,n,r){let o=await iU(e,t,await n),i={...o.metadata.template};if(e.skipOptions)return o;if(!i.options){let u=await dU(e,o,[],n,r);return u?u==="back"?r():u:void 0}let s=i.options,a=[],c=[];for(let u in s){let d=s[u];d.name=u,d.type==="boolean"?a.push(d):d.type==="string"&&c.push(d)}let l=await rEe(e,c,o,async()=>"back",(u,d)=>_X(e,a,i.name,u,n,d));if(l==="back")return r();if(l)return l}async function nEe(e,t,n,r){var o;if((o=t.optionalPaths)!=null&&o.length){let i=t.optionalPaths.map(l=>({label:l,picked:!1})),s=ht.l10n.t("Optional Files/Directories"),a=ht.l10n.t("Include the following optional files/directories"),c=await go(e.quickPick,i,a,s,!0,!0);if(c==="back")return r();c&&(n.omitPaths=i.filter(l=>!c.includes(l)).map(l=>l.label))}return n}async function rEe(e,t,n,r,o){let i=t.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let c=s.default,l=a.map(d=>({label:d,description:d===c?ht.l10n.t("(default)"):void 0,value:d})),u=l.findIndex(d=>d.value===c);return u!==-1&&l.unshift(...l.splice(u,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:l}});return async function s(a,c,l){if(!a.length)return o(c,l);let u=a[0],d=await go(e.quickPick,u.items,u.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return l();let p={...c.options};return p[u.name]=d.value,c.options={...p},s(a.slice(1),c,()=>s(a,c,l))}(i,n,r)}async function _X(e,t,n,r,o,i){let s=r,a=t.map(u=>{let d=u.default==="true";return{label:u.description||u.name,picked:d,name:u.name,default:d}}),c=a.length?await go(e.quickPick,a,ht.l10n.t("Select the options for the '{0}' dev container",n),void 0,!0,!0):[];if(!c)return r;if(c==="back")return i();for(let u of a){let d=c.indexOf(u)!==-1,p={...r.options};p[u.name]=d.toString(),r.options={...p}}let l=await dU(e,r,[],o,()=>t.length>0?_X(e,t,n,s,o,i):i());if(l)return l==="back"?i():l}async function dU(e,t,n,r,o){let{quickPick:i,telemetry:s,output:a,index:c,askForTrust:l}=e,u=c==null?void 0:c.collections.reduce((h,v)=>h.concat(v.features),[]).filter(h=>!h.deprecated);if(!(u!=null&&u.length))return t;let p=await kg({quickPick:i,askForTrust:l,telemetry:s,output:a},u,n,[],r,!0,!0);if(!p)return;if(p==="back")return o();let f=[],m=[];for(let h in p)if(p[h]){let v=u.find(g=>g.id===h);if(v){m.push(v);let g=v.majorVersion||"latest",y={id:`${h}:${g}`,options:p[h]};f.push(y)}}return t.features=f,t.metadata.features=m,await nEe(e,t.metadata.template,t,()=>dU(e,t,m,r,o))}function TX(e){return{provideCompletionItems(t,n,r){let o=cM(t.getText(),t.offsetAt(n)),i=t.getWordRangeAtPosition(n)||new me.Range(n,n);if(o.path[0]==="extensions"||o.path[0]==="vscode"&&o.path[1]==="extensions"){let s=We(t.getText());return s.configFilePath=t.uri,oEe(s,i)}if(o.path[0]==="features"){let s=We(t.getText());s.configFilePath=t.uri;try{return iEe(e,s,o,i)}catch(a){console.error(a)}}return[]}}}function oEe(e,t){var r,o;let n=((e==null?void 0:e.extensions)||[]).concat(((o=(r=e==null?void 0:e.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||[]);if(Array.isArray(n)){let i=me.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(i.length)return i.map(s=>{let a=new me.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=me.CompletionItemKind.Value,a.insertText=c,a.range=t,a.filterText=c,a})}}async function iEe(e,t,n,r){var i;let o=t&&t.features||{};if(typeof o=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t={...t,configFilePath:t.configFilePath.with({scheme:tt.scheme,authority:""})};let c=me.env.remoteName&&me.env.remoteName!=="test"?"linux":process.platform,l=((i=(me.workspace.workspaceFolders||[])[0])==null?void 0:i.uri)||be.file(process.cwd());e={...e,fileHost:await Pa(c,l)}}let s=await cd(e.output),a=(s==null?void 0:s.collections.map(c=>c.features).flat().filter(c=>!c.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let c=a.filter(l=>!(l.id in o));if(c.length)return c.map(l=>{let u=new me.CompletionItem(l.id),d=`"${l.id}": `;return u.kind=me.CompletionItemKind.Property,u.insertText=d,u.range=r,u.filterText=d,u})}else{let c=n.path[1].toString(),l=a.find(u=>u.id===c||c.startsWith(`${u.id}:`));if(l){let u=dX(l),d=u&&(l.options||{})[u]||{type:"boolean",description:sn.l10n.t("Set to true to install.")},p=(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(f=>`"${f}"`):["true","false"]).map(f=>({label:f,text:f}));return p.push({label:"{}",text:new me.SnippetString(`{
	$1
}$0`)}),p.map(({label:f,text:m},h)=>{let v=new me.CompletionItem(f);return v.kind=me.CompletionItemKind.Value,v.insertText=m,v.range=r,v.sortText=`${h}_${f}`,v})}}else if(n.path.length===3){let c=n.path[1].toString(),l=a.find(u=>u.id===c||c.startsWith(`${u.id}:`));if(l){let u=l.options||{};if(n.isAtPropertyKey)return Object.keys(u).filter(d=>!(d in(o[c]||{}))).map(d=>{let p=new me.CompletionItem(d),f=`"${d}": `;return p.kind=me.CompletionItemKind.Property,p.insertText=f,p.range=r,p.filterText=f,p.detail=u[d].description,p});{let d=n.path[2],p=u[d];if(p)return(p.type==="string"?("enum"in p&&p.enum||"proposals"in p&&p.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let v=new me.CompletionItem(m),g=m;return v.kind=me.CompletionItemKind.Value,v.insertText=g,v.range=r,v.filterText=g,v.sortText=`${h}_${m}`,v})}}}}}async function kX(e){let t=await mU(e);if((t==null?void 0:t.scheme)===tt.scheme){let n=Ie(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(n)}t&&await me.window.showTextDocument(me.Uri.parse(t.toString()))}async function mU(e){let t=await e.findDevContainerFiles();if(!t.length){let r=sn.l10n.t("Add Files...");await me.window.showInformationMessage(sn.l10n.t("No container configuration file found."),{modal:!0},r)===r&&await Ag(e)&&(t=await e.findDevContainerFiles())}let n=await ap(t);return n!=="cancelled"?n:void 0}async function RX(e,t){var r,o,i,s,a,c,l;let n=await mU(e);if(n){let u=sr(e.fileHost);n.scheme==="file"&&!await gr(n.fsPath)?await Ni(is,n,[],nc):(n.scheme==="file"||n.scheme==="vscode-remote")&&(u=new wy);let d=await u.readDocument(n);if(d){let p=!/\.?devcontainer\.json/.test(Fg.default.posix.basename(n.path)),f=We(d),m=!p&&(((o=(r=f.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||!f.extensions),h=(m?(s=(i=f.customizations)==null?void 0:i.vscode)==null?void 0:s.extensions:f.extensions)||[],v=e.openConfigurationCommandId?`[${sn.l10n.t("Dev Container configuration")}](command:${e.openConfigurationCommandId})`:sn.l10n.t("Dev Container configuration");if((f.extensions||[]).concat(((c=(a=f.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(t)===-1){h.push(t);let g,y=Ey(d);m?(l=f.customizations)!=null&&l.vscode?g=_n(d,["customizations","vscode","extensions"],h,{formattingOptions:y}):f.customizations?g=_n(d,["customizations","vscode"],{extensions:h},{formattingOptions:y}):g=_n(d,["customizations"],{vscode:{extensions:h}},{formattingOptions:y}):g=_n(d,["extensions"],h,{formattingOptions:y}),await u.applyEdits(n,g,d),await me.window.showInformationMessage(sn.l10n.t("Extension has been added to the {0}.",v))}else await me.window.showInformationMessage(sn.l10n.t("Extension is already included in the {0}.",v))}}}async function NX(e,t){let n=await me.commands.executeCommand("remote.tunnel.label",t);if(n===void 0)return;let r=n.label,o=n.port,i=await mU(e);if(i){let s=sr(e.fileHost);i.scheme==="file"&&!await gr(i.fsPath)?await Ni(is,i,[],nc):(i.scheme==="file"||i.scheme==="vscode-remote")&&(s=new wy);let a=await s.readDocument(i);if(a){let l=We(a).portsAttributes??{},u=l[`${o}`]??{},d=e.openConfigurationCommandId?`[${sn.l10n.t("Dev Container configuration")}](command:${e.openConfigurationCommandId})`:sn.l10n.t("Dev Container configuration");if(l&&u&&u.label===r)await me.window.showInformationMessage(sn.l10n.t("Port attributes are already included in the {0}.",d));else{u.label=r,l[`${o}`]=u;let p=Ey(a),f=_n(a,["portsAttributes"],l,{formattingOptions:p});await s.applyEdits(i,f,a),await me.window.showInformationMessage(sn.l10n.t("Port attributes have been added to the {0}.",d))}}}}function LX(e,t){let n=me.languages.createDiagnosticCollection("devcontainer"),r=me.window.activeTextEditor;r&&pU(r.document,n,t.output),e.subscriptions.push(me.workspace.onDidChangeTextDocument(async o=>{pU(o.document,n,t.output)})),e.subscriptions.push(me.workspace.onDidOpenTextDocument(async o=>{pU(o,n,t.output)})),e.subscriptions.push(me.workspace.onDidCreateFiles(async o=>{await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test(Fg.default.posix.basename(i.path))).map(i=>me.workspace.openTextDocument(i)))})),e.subscriptions.push(me.workspace.onDidDeleteFiles(o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.toString())&&n.delete(s)}))})),e.subscriptions.push(me.workspace.onDidRenameFiles(async o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.oldUri.toString())&&n.delete(s)})),await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test(Fg.default.posix.basename(i.newUri.path))).map(i=>me.workspace.openTextDocument(i.newUri)))})),(async()=>{let o=await qc().catch(i=>[]);await Promise.all(o.map(i=>me.workspace.openTextDocument(i)))})().catch(o=>{t.output.write(`Error opening dev container configurations: ${(o==null?void 0:o.stack)||(o==null?void 0:o.message)||String(o)}`)}),e.subscriptions.push(n)}function AX(e,t,n){let r=async(s,a,c)=>{let l=Fg.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(l)){let u=hd(s.getText());if(!u)return;if((Qy(u)||{}).features){let p=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),f=aEe(p,t.output,await n());if(f)return{contents:[f],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},o=me.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),i=me.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return e.subscriptions.push(o),e.subscriptions.push(i),[o,i]}function pU(e,t,n){let r=Fg.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(r)){let o=hd(e.getText());if(!o)return;let i=[...cEe(e,o,n),...lEe(o,e)];t.set(e.uri,i)}}function sEe(e,t){let n=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:sn.l10n.t("Empty feature id")};let r={};if(!e.includes("/")&&!e.includes("\\")&&n.test(e)){let s=["fish","homebrew"].indexOf(e)>-1;return{...r,type:"local-cache",isLegacy:!0,tooltip:s?sn.l10n.t("Legacy feature not supported. Please check https://containers.dev/features for replacements."):void 0,code:s?{target:me.Uri.parse("https://containers.dev/features"),value:"legacy-feature"}:void 0,level:me.DiagnosticSeverity.Error}}if(e.startsWith("http://"))return{...r,type:void 0,tooltip:sn.l10n.t("Direct tarball references must be served over HTTPS."),level:me.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return me.Uri.parse(e,!0).scheme==="https"?{...r,type:"direct-tarball",level:void 0}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Failed to parse scheme of URI")}}catch{return{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Invalid URI")}}if(e.startsWith("/"))return{...r,type:void 0,tooltip:sn.l10n.t("Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json."),level:me.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{...r,type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{...r,type:"github-repo",isLegacy:!0,level:me.DiagnosticSeverity.Warning}:{...r,type:void 0,tooltip:sn.l10n.t("GitHub release feature id contains invalid characters"),level:me.DiagnosticSeverity.Error};let i=e.split("/");return e.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{...r,type:"oci"}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("OCI Feature id contains invalid characters")}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Failed to parse feature identifier.")}}function aEe(e,t,n){var i;if(!n){t.write("No index found.",5);return}let o=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>e===s.id||e.startsWith(`${s.id}:`));if(o){let s=`${o.name}
`??"",a=o.description?`
${o.description}
`:"",c=o.documentationURL?`
${o.documentationURL}
`:"",l="";if(o.majorVersion){let u=e.split(":");if(u.length===2){let d=u[1];if(d&&d!=="latest")try{let p=(i=PX.parse(d,{loose:!0}))==null?void 0:i.major,f=Number.parseInt(o.majorVersion),m=`
${sn.l10n.t("New major version '{0}' published.",f)}
`;if(p&&p<f)l=m;else{let h=Number.parseInt(d);h!==void 0&&h<f&&(l=m)}}catch{}}}return new me.MarkdownString(`${s}${a}${c}${l}`)}}function cEe(e,t,n){var i;let r=Ji(t,["features"]),o=[];for(let s of(r==null?void 0:r.children)||[])if(s.type==="property"){let a=(i=s.children)==null?void 0:i[0].value,c=sEe(a,n);if(c.hint){let l=e.positionAt(s.offset),u=e.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.hint,me.DiagnosticSeverity.Hint);o.push(d)}if(c.level!==void 0&&c.tooltip){let l=e.positionAt(s.offset),u=e.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.tooltip,c.level);d.code=c.code||{target:me.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"},o.push(d)}}return o}function lEe(e,t){return["extensions","settings","devPort"].filter(n=>Ji(e,[n])&&Ji(e,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=Ji(e,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],o=t.positionAt(r.offset),i=t.positionAt(r.offset+r.length);return new me.Diagnostic(new me.Range(o,i),sn.l10n.t('Legacy "{0}" property when "{0}" property under "vscode" is also present.',n),me.DiagnosticSeverity.Warning)})}var Og=G(require("vscode")),hU=require("vscode");async function FX(e,t){let n=await uEe(e);if(!n)return e.output.write("Failed to find configuration.  Cannot configure container features.",5),!1;let r=await dEe(e,n,(t==null?void 0:t.preInstalledInBaseImageFeatureIds)||[]);if(!r)return!1;let o=await e.fileHost.toCommonURI(r);return o&&Og.window.showTextDocument(Og.Uri.parse(o.toString())),!!o}async function uEe(e){let t=await e.findDevContainerFiles();if(t.length){let n=await ap(t);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Pa(process.platform,Xd(n)):e.fileHost,o=r.path.dirname(Ie(n,r.platform)),i=r.path.basename(o)===".devcontainer"?r.path.dirname(o):o,s=Tt(r.path,i),a=await xI(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n=hU.l10n.t("Add Files...");await Og.window.showInformationMessage(hU.l10n.t("No container configuration file found."),{modal:!0},n)===n&&await Ag(e)}}async function dEe(e,t,n){var f;let{fileHost:r,workspace:o,config:i}=t,s=Og.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:o,quickPick:s,telemetry:await e.telemetry,output:e.output},l=(await cd(e.output)).collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),u=l.filter(m=>n.includes(m.id)),d=[];if(i.object.features&&Object.entries(i.object.features).length>0){let m=Object.keys(i.object.features);d=l.filter(h=>m.some(v=>v.split(":")[0]===h.id))}let p=await kg(a,l,d,u,Promise.resolve(void 0),!0,!1);if(p)try{let m=i.text,h=i.text,v=Ey(i.text);for(let g of l){let y=[],x=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,w=["features",x];if(!p[g.id]&&((f=i.object.features)!=null&&f[x]))y=y.concat(_n(h,w,void 0,{formattingOptions:v}));else if(p[g.id]){let I=p[g.id];y=y.concat(_n(h,w,I,{formattingOptions:v}))}y.length&&(h=wo(h,y))}return m!==h&&await sr(r,r).applyEdits(i.uri,[{content:h,offset:0,length:i.text.length}],i.text),s.dispose(),Ie(i.uri,r.platform)}catch(m){e.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m),s.dispose();return}}var Wn=G(require("vscode")),UX=G(require("crypto")),wI=G(require("path")),gU=require("vscode");var OX={features:{}};function MX(e,t){let n=new Set,r=Promise.resolve(OX),o,i="remote-containers.editDevContainerJSON",s="codespaces.editDevContainerJSON",a=t.codespaces?s:i;e.subscriptions.push(Wn.commands.registerCommand(a,async u=>u()),Wn.languages.registerCodeLensProvider([{pattern:"**/devcontainer.json"},{pattern:"**/.devcontainer.json"}],{async provideCodeLenses(u,d){var m;let p=Object.keys(((m=We(u.getText()))==null?void 0:m.features)||{}).sort();p.some(h=>!n.has(h))&&(n=new Set(p),r=c(u,p));let f=await r;if(!d.isCancellationRequested)return l(u,f)}}));async function c(u,d){o||(o=await mEe(e,t));let p=u.uri;if(p.scheme!=="file"){let f=o.path.join(await o.tmpdir(),`dev-container-tmp-${UX.randomUUID()}`);await o.mkdirp(f);let m=o.path.join(f,".devcontainer.json");await o.writeFile(m,Buffer.from(JSON.stringify({features:d.reduce((g,y)=>(g[y]={},g),{})})));let h=wI.posix.basename(p.path)===".devcontainer.json",v=p.with({path:wI.posix.join(wI.posix.dirname(p.path),h?".devcontainer-lock.json":"devcontainer-lock.json")});try{let g=await Wn.workspace.fs.readFile(v),y=o.path.join(f,".devcontainer-lock.json");await o.writeFile(y,Buffer.from(g))}catch(g){if((g==null?void 0:g.code)!=="FileNotFound")throw g}p=Wn.Uri.file(m)}try{return hEe(e,o,o.cwd,p,t.output)}catch(f){return t.output.write(`Error fetching version info: ${(f==null?void 0:f.message)||f}`),OX}}function l(u,d){let p=hd(u.getText());if(!p)return;let f=Ji(p,["features"]);if(!(f!=null&&f.children)||f.type!=="object")return;let m=[];for(let h of f.children)if(h.type==="property"&&h.children){let E=function(I,D){return async()=>{let k=v.value.substring(0,y.length)+I;n.add(k),D&&!d.features[k]&&(d.features[k]=D);let N=Wn.window.activeTextEditor;await(N==null?void 0:N.edit(R=>{R.replace(new Wn.Range(N.document.positionAt(x),N.document.positionAt(x+w)),I)}))}},v=h.children[0],g=d.features[v.value],y=pEe(v.value),x=v.offset+1+y.length,w=v.length-2-y.length;if(g!=null&&g.wanted&&g.current!==g.wanted){let I=new Wn.CodeLens(new Wn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:gU.l10n.t("Update to {0}",g.wanted),command:a,arguments:[E(`:${g.wanted}`,{current:g.wanted,wanted:g.wanted,latest:g.latest})]});m.push(I)}if(g!=null&&g.latest&&g.current!==g.latest){let I=new Wn.CodeLens(new Wn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:gU.l10n.t("Update to latest {0}",g.latest),command:a,arguments:[E(`:${g.latest}`)]});m.push(I)}}return m}}var fEe=/[:@][^/]*$/;function pEe(e){let t=fEe.exec(e);return t?e.substring(0,t.index):e}async function mEe(e,t){let n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await To(),o=process.cwd();return Ro(void 0,void 0,o,s=>Sm(s,Wn.env.appRoot),n,e.extensionPath,r,(await t.telemetry).product,t.output,void 0,void 0)}async function hEe(e,t,n,r,o){let i={cliHost:t,dockerPath:"",dockerComposePath:"",extensionPath:e.extensionPath,appRoot:Wn.env.appRoot,output:o,package:await $r(e.extensionPath)};return await ri(i,["outdated","--workspace-folder",n,...r?["--config",Ie(r,t.platform)]:[],"--output-format","json","--log-level",to(Cy()),"--log-format","json",...o.dimensions?["--terminal-columns",String(o.dimensions.columns),"--terminal-rows",String(o.dimensions.rows)]:[]])}var SX=gn.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),DX=gn.Uri.parse("https://aka.ms/vscode-dev-containers");function jX(e,t){let{output:n}=t;n.write("Internal initialization of dev container support package...");let r,o=()=>r||(r=cd(t.output));return{async openConfiguration(){return kX(t)},async createConfiguration(i){return Ag(t,i)},async addExtensionToConfiguration(i){return RX(t,i)},async addPortLabelToConfiguration(i){return NX(t,i)},async configureContainerFeatures(i){return FX(t,i)},createCompletionItemProvider(){return TX(t)},startCodeLensProvider(){MX(e,t)},startHoverProvider(){AX(e,t,o)},startDiagnosticsCollection(){LX(e,t)}}}async function IX(){let e=gn.workspace.workspaceFile,t=gn.workspace.workspaceFolders,n;if(e){if(e.scheme==="untitled"){await eI();return}n=e}else if(t&&t.length)if(t.length>1){let r=await gn.window.showWorkspaceFolderPick({placeHolder:Zt.l10n.t("Select a folder to create a container configuration for")});r&&(n=r.uri)}else n=t[0].uri;return n}function go(e,t,n,r,o,i,s){if(e.value="",e.title=r||e.title||Zt.l10n.t("Add Dev Container Configuration Files"),e.placeholder=n,e.canSelectMany=!!o,Array.isArray(t))if(e.items=t,o)e.selectedItems=t.filter(p=>p.picked);else{let p=t.find(f=>f.picked);p&&(e.activeItems=[p])}e.buttons=i?Array.isArray(i)?i:[gn.QuickInputButtons.Back]:[];let a=[],c=e.items,l=c.filter(p=>p.isAlreadyInstalledViaBaseImage===!0),u={kind:gn.QuickPickItemKind.Separator,label:Zt.l10n.t("pre-installed features")};l.length&&(e.items=e.items.slice(0,c.length-l.length).concat(u).concat(e.items.slice(c.length-l.length)));let d=new Promise((p,f)=>{if(Array.isArray(t)||(e.busy=!0,t.then(m=>{if(e.busy=!1,e.items=m,o)e.selectedItems=m.filter(h=>h.picked);else{let h=m.find(v=>v.picked);h&&(e.activeItems=[h])}},m=>{e.busy=!1,f(m)})),a.push(e.onDidAccept(()=>{let m=o?e.selectedItems.slice():e.selectedItems[0];p(Array.isArray(i)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(e.onDidChangeSelection(m=>{if(!o)return;let h=l.filter(v=>!e.selectedItems.includes(v));h.length&&(e.selectedItems=e.selectedItems.concat(h))})),e.buttons.length&&a.push(e.onDidTriggerButton(m=>{let h=o?e.selectedItems.slice():e.activeItems[0];p(i===!0?"back":{pick:h,button:m}),a.forEach(v=>v.dispose())})),a.push(e.onDidHide(()=>{a.forEach(m=>m.dispose()),e.dispose(),p(void 0)})),s){let m;a.push(e.onDidChangeValue(h=>{let v=s(h);if(v||m){let g=e.items.filter(y=>y!==m);v&&g.push(v),m=v,e.items=g}}))}});return e.show(),d}var fU={label:Zt.l10n.t("Learn More"),description:Zt.l10n.t("Documentation on predefined container templates"),alwaysShow:!0,type:"help"};async function yI(e,t,n,r){return lU(e,t,n,r)}async function Lg(e,t,n,r,o,i){var N;let{telemetry:s,existingFilesLearnMoreLink:a,index:c}=e,u=(o!=="userData"&&await((N=e.findDevContainerFiles)==null?void 0:N.call(e,"userData"))||[]).reduce((R,C)=>R&&R.uri.path.length<C.uri.path.length?R:C,void 0),d=(u==null?void 0:u.uri.scheme)==="file"?[{iconPath:new gn.ThemeIcon("go-to-file"),tooltip:Zt.l10n.t("Open File")}]:[],p=u?{label:Zt.l10n.t("Copy existing configuration to workspace"),detail:Zt.l10n.t("Copy the configuration from your user data folder to the workspace folder"),type:"userDataConfig",buttons:d}:void 0,f=c==null?void 0:c.collections.find(R=>R.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),m=f==null?void 0:f.templates.find(R=>R.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),h=f==null?void 0:f.templates.find(R=>R.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),v=await t.readDir(n.rootFolderPath),g=m?v.filter(R=>/(docker.*)?compose.*\.ya?ml$/i.test(R)).map(R=>t.path.join(n.rootFolderPath,R)):[],y=h?v.filter(R=>/dockerfile/i.test(R)).map(R=>t.path.join(n.rootFolderPath,R)):[],x=y.map(R=>{let C=t.path.basename(R);return{label:Zt.l10n.t("From '{0}'",C),description:$X(t,R),dockerfile:C,dockerfilePath:R,detail:Zt.l10n.t("Refer to the existing '{0}' in the container configuration",C),type:"dockerfile"}}),w=g.map(R=>{let C=t.path.basename(R);return{label:Zt.l10n.t("From '{0}'",C),description:$X(t,R),dockerComposeFile:C,dockerComposePath:R,detail:Zt.l10n.t("Refer to the existing '{0}' in the container configuration",C),type:"dockerComposeFile"}}),E=p||y.length>0||g.length>0,I={label:Zt.l10n.t("From a predefined container configuration template..."),detail:Zt.l10n.t("Use a base configuration from the container template registry"),alwaysShow:!0,type:"predefined"},D=e.quickPick.onDidTriggerItemButton(async()=>{await gn.commands.executeCommand("vscode.open",u.uri),e.quickPick.hide()}),k=E?await go(e.quickPick,[I,...p?[p]:[],...x,...w,...a?[fU]:[]],Zt.l10n.t("How would you like to create your container configuration?")):I;if(D.dispose(),!k){zo(s,"canceled");return}if(k.type==="help"){zo(s,"help"),gn.env.openExternal(a);return}if(k.type==="userDataConfig")return gEe(t,n,u);if(i||(i=t&&n&&await yX()?oU(e,t,n).then(R=>{if(R.type!=="success")return;let C=((c==null?void 0:c.collections.map(b=>b.templates).flat())||[]).filter(b=>!Ng.includes(b.id)),_=((c==null?void 0:c.collections.map(b=>b.features).flat())||[]).filter(b=>!b.deprecated);return{template:C.find(b=>b.id===R.template),features:(R.features||[]).map(b=>_.find(S=>S.id===b)).filter(b=>!!b)}}):Promise.resolve(void 0)),k.type==="predefined")return bX(e,t,n,r,o,i,()=>Lg(e,t,n,r,o,i));if(k.type==="dockerComposeFile")return xEe(e,t,r,o,k.dockerComposePath,m,i,()=>Lg(e,t,n,r,o,i));if(k.type==="dockerfile")return vEe(e,t,r,o,k.dockerfilePath,h,i,()=>Lg(e,t,n,r,o,i))}function $X(e,t){let n=gn.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(o=>e.platform==="win32"?t.toLowerCase().startsWith(o.uri.fsPath.toLowerCase()):t.startsWith(o.uri.fsPath));return r&&r.name}async function gEe(e,t,n){let r=Zt.l10n.t("Skip"),o=n.fileHost,i=Ie(n.uri,o.platform),s;if(o.path.basename(i)===".devcontainer.json")s=o.path.dirname(i);else for(let f=i;o.path.basename(f);f=o.path.dirname(f))if(o.path.basename(f)===".devcontainer"){s=o.path.dirname(f);break}if(!s)throw new Error(`Unexpected user config path: ${i}`);let a=o.readDirWithTypes||o.readDir,c=await a(s);for(;c.length;){let f=c.shift();if(f===nI)continue;let m=typeof f=="string"?f:f[0],h=o.path.join(s,m);if(typeof f=="string"?await o.isFile(h):(f[1]&1)!==0){let g=o.path.sep===e.path.sep?m:m.replaceAll(o.path.sep,e.path.sep),y=e.path.join(t.configFolderPath,g);if(await e.isFile(y)){let w=await gn.window.showInformationMessage(Zt.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},r,Zt.l10n.t("Overwrite"));if(!w)return;if(w===r)continue}await e.mkdirp(e.path.dirname(y));let x=await o.readFile(h);await e.writeFile(y,x)}else(typeof f=="string"?await o.isFolder(h):(f[1]&2)!==0)&&c.push(...(await a(h)).map(y=>typeof y=="string"?o.path.join(m,y):[o.path.join(m,y[0]),y[1]]))}let l=Zt.l10n.t("Delete");await gn.window.showInformationMessage(Zt.l10n.t("Delete the configuration from the user data folder?"),{modal:!0},Zt.l10n.t("Keep"),l)===l&&await kJ(o,s);let d=o.path.relative(s,i),p=o.path.sep===e.path.sep?d:d.replaceAll(o.path.sep,e.path.sep);return e.path.join(t.configFolderPath,p)}async function vEe(e,t,n,r,o,i,s,a){let{telemetry:c}=e,l=await gp(e,i,s,async()=>{});if(!l){zo(c,"canceled");return}if(l==="back")return a();let u=await Rg(e,t,n,r,l,(d,p)=>{if(!Cx(t.path,d))return p;let f=t.path.sep!==Ra.sep?d.replace(Ra.sep===Ra.win32.sep?/\\/g:/\//g,t.path.sep):d,m=t.path.resolve(n,f),h=t.path.relative(t.path.dirname(m),o),v=t.platform==="win32"?h.replace(/\\/g,"/"):h,g=p.toString(),y="dockerFile"in We(g)?["dockerFile"]:["build","dockerfile"],x=_n(g,y,v,{formattingOptions:{}}),w=wo(g,x);return Buffer.from(w)});return u&&zo(c,"dockerFile"),u}async function xEe(e,t,n,r,o,i,s,a){let{telemetry:c}=e,l=(await t.readFile(o)).toString(),u=yx(l);if(!u){await gn.window.showErrorMessage(Zt.l10n.t("Invalid docker-compose file '{0}'",o),{modal:!0});return}let d=u.version,p=Object.keys(u&&u.services||{}),f=p.length<2?p[0]||"":await go(e.quickPick,p.map(g=>({label:g,type:"service"})),Zt.l10n.t("Select a service"),void 0,void 0,!0);if(f==="back")return a();if(f===void 0){zo(c,"canceled");return}let m=typeof f=="string"?f:f.label,h=await gp(e,i,s,async()=>{});if(!h)return;if(h==="back")return a();let v=await Rg(e,t,n,r,h,(g,y)=>{if(Cx(t.path,g)){let x=t.path.sep!==Ra.sep?g.replace(Ra.sep===Ra.win32.sep?/\\/g:/\//g,t.path.sep):g,w=t.path.resolve(n,x),E=t.path.relative(t.path.dirname(w),o),I=t.platform==="win32"?E.replace(/\\/g,"/"):E,D=y.toString(),k=We(D).dockerComposeFile,N=Array.isArray(k)?k.slice(1):[],R=[I,...N],C=_n(D,["dockerComposeFile"],R,{formattingOptions:{}}),_=wo(D,C),b=_n(_,["service"],m,{formattingOptions:{}}),S=wo(_,b);return Buffer.from(S)}if(/compose.*\.ya?ml$/.test(Ra.posix.basename(g))){let x=y.toString(),w=yx(x);w.version&&d&&w.version!==d&&(x=x.replace(new RegExp(`^(version:.*)(${bm(w.version)})`,"m"),`$1${d}`));let E=Object.keys(w&&w.services||{});return E.length&&(x=x.replace(new RegExp(`\\b${E[0]}\\b`),m)),Buffer.from(x)}return y});return v&&zo(c,"dockerComposeFile"),v}function zo(e,t,n,r){var i;let o={outcome:t};if(n){o.definitionName=vd(n.metadata.template.id);let s=n.metadata.copilotSuggestion,a=(i=s==null?void 0:s.template)==null?void 0:i.id;a&&(o.copilotSuggested=vd(a)),o.features=n.metadata.features.map(l=>vd(l.id)).join(",");let c=s==null?void 0:s.features.map(l=>vd(l.id)).join(",");c&&(o.copilotFeatures=c),a&&(o.copilotUsed="true")}r&&(o.targetLocation=r),e.sendTelemetryEvent("createConfiguration",o)}async function xI(e,t,n){if(n||(n=await Jd(e,t.configFolderPath)),!n)return;let r=await sr(e,e).readDocument(n);if(!r)return;let o=We(r);return{uri:n,text:r,object:o}}async function HX(e,t,n,r,o,i,s){let a=ao(n);if(ln(a)&&!await Be.workspace.requestWorkspaceTrust({message:Py}))return Er(a.hostPath)?(await Be.window.showInformationMessage(Pr.l10n.t("The WSL folder is currently not trusted."),{modal:!0,detail:Pr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen in WSL.")}),await Be.commands.executeCommand("remote-containers.reopenInWSL")):(await Be.window.showInformationMessage(Pr.l10n.t("The local folder is currently not trusted."),{modal:!0,detail:Pr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen locally.")}),await Be.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let c=ai(a);if(c&&!await Ty(e,a.repositoryPath))return await Be.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let l=of(a);return{...await wEe(a,e,i,s,t,n,r,o),isTrusted:c||l||void 0}}async function wEe(e,t,n,r,o,i,s,a){let{log:c,logFilePath:l}=n,u="hostPath"in e&&Er(e.hostPath)&&!!Be.extensions.getExtension("ms-vscode-remote.remote-wsl");u&&Be.commands.executeCommand("setContext","canReopenInWSL",!0);let d=e.settings,p="localDocker"in e&&e.localDocker,f=bl(e.parentAuthority)||Cl(d)&&!p,m=f&&(!!Be.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!Be.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));m&&Be.commands.executeCommand("setContext","canReopenInSSH",!0);let h=ic(e.parentAuthority)&&!!Be.extensions.getExtension("ms-vscode.remote-server");h&&Be.commands.executeCommand("setContext","canReopenInTunnel",!0);let v=!f&&!ic(e.parentAuthority);v&&Be.commands.executeCommand("setContext","canReopenLocally",!0);let g;return Be.window.withProgress({location:Be.ProgressLocation.Notification,title:Dg,cancellable:!1},async y=>{if(e.parentAuthority&&!s.execServer)throw new Error(`Parent authority found without ExecServer: ${i}`);let x=ka(),w=Ll(t.extensionPath,dp,c),{cliHost:E,originalCwd:I}=await EEe(s.execServer,e,x,t.extensionPath,await To(),w,o.product,c),D={...E.type==="local"?await w:void 0,...await Hm(E,e.settings)},k={...E.env,...D},N=await Sg({authority:i,extensionContext:t,sessionStart:n.sessionStart,progress:y,cliHost:E,env:k,cwd:E.cwd,wslSettings:x,isLocalContainer:v_(e.parentAuthority,D),telemetry:o,output:c,logFilePath:l,allowSystemConfigChange:!0,postCreate:r}),R={async createConfiguration(C,_){return yI({fileHost:_,userDataFolderForConfigurations:ln(e)?await Yc(t,E):void 0,telemetry:o,output:c,openConfigurationCommandId:up,showLogCommandId:_t},Tt(Ay.posix,C))},async showError(C,..._){return await Be.window.showErrorMessage(C,{modal:!0},..._)}};g={common:N,parsedAuthority:e,dockerCLI:Ps(),dockerComposePath:Ta(),dockerComposeCLI:Vs({exec:N.cliHost.exec,env:{...D,...Cr(D)},output:N.output},Ps(),Ta()),dockerSocketPath:uI(),dockerEnv:D,workspaceMountConsistencyDefault:cI(),cacheMount:lI()?"volume":"none",configurationTracking:aI(t.workspaceState),removeOnStartup:await GJ(t,i),buildNoCache:await JJ(t,i),onRemoveOnShutdownChanged:a,userRepositoryConfigurationPaths:Iy(),originalCwd:I,configProvider:R,development:t.extensionMode===Be.ExtensionMode.Development,watch:async(C,_)=>{let b=Be.workspace.createFileSystemWatcher(new Be.RelativePattern(C,"*"));return b.onDidChange(_),b.onDidCreate(_),b.onDidDelete(_),b},ensureNoDisallowedFeatures:(C,_,b)=>Om(C,t.globalState,_,b),useExperimentalLockfile:fI()},await x_(g);try{return await kN(g)}catch(C){return yEe(g,C)}}).then(y=>(a(async x=>{await KJ(t,x&&y.dockerContainerId||!1),await Dy(t,x==="rebuildNoCache"?i:!1)}),Wc(o,vU(e),"success",n.sessionStart,g==null?void 0:g.common,y.config,y.configLocationType,y.properties),y),y=>{var R;let x=y instanceof De?y:new De({description:Pr.l10n.t("An error occurred setting up the container."),originalError:y});ai(e)&&(x.volumeName=e.volumeName,x.repositoryPath=e.repositoryPath,x.folderPath=e.folder),Wc(o,vU(e),"failure",n.sessionStart,g==null?void 0:g.common,x.config,void 0,x.containerProperties,x);let w="onTheSide",E=(R=x.data)==null?void 0:R.fileWithError;!E&&(g!=null&&g.parsedAuthority)&&ln(g.parsedAuthority)&&g.parsedAuthority.configFile&&(E=Ie(g.parsedAuthority.configFile,g.common.cliHost.platform));let I=E&&(g==null?void 0:g.common.cliHost.path.basename(E))||"devcontainer.json",D=ln(e)?[{id:"openFileWithErrorLocally",title:Pr.l10n.t("Edit {0} Locally",I),isLastAction:!0,applicable:async(C,_)=>v&&!(_&&u),async execute(){let C=g==null?void 0:g.common.cliHost,_=E?C.type==="wsl"?await C.toCommonURI(E):be.file(E):void 0;await _g(t,e.hostPath,_,l,w);let b=Be.Uri.file(e.hostPath);await Be.commands.executeCommand("vscode.openFolder",b)}},{id:"openFileWithErrorinWSL",title:Pr.l10n.t("Edit {0} in WSL",I),isLastAction:!0,applicable:async()=>u,async execute(){let C=Be.Uri.parse((await Em(e.hostPath,c)).toString()),_=E?Rn(E.startsWith("/")?"linux":"win32",C,E):void 0;await _g(t,C.path,_,l,w),await Be.commands.executeCommand("vscode.openFolder",C)}},{id:"openFileWithErrorinSSH",title:Pr.l10n.t("Edit {0} in SSH",I),isLastAction:!0,applicable:async()=>m,async execute(){let C=e.settings,_=Cl(C)?ux(C.host,e.hostPath):Hl(e.parentAuthority,e.hostPath),b=Be.Uri.parse(_.toString()),S=E?Rn(E.startsWith("/")?"linux":"win32",b,E):void 0;await _g(t,b.path,S,l,w),await Be.commands.executeCommand("vscode.openFolder",b)}},{id:"openFileWithErrorinTunnel",title:Pr.l10n.t("Edit {0} in Tunnel",I),isLastAction:!0,applicable:async()=>h,async execute(){let C=Be.Uri.parse(Hl(e.parentAuthority,e.hostPath).toString()),_=E?Rn(E.startsWith("/")?"linux":"win32",C,E):void 0;await _g(t,C.path,_,l,w),await Be.commands.executeCommand("vscode.openFolder",C)}}]:[],k=ai(e)?e.inspectVolume?[sd]:[{id:"reopenInRecoveryContainer",title:Pr.l10n.t("Edit {0} in Recovery Container",I),isLastAction:!0,applicable:(C,_)=>!0,execute:async C=>{await _g(t,e.repositoryPath,E?be.file(E).with({scheme:"vscode-remote"}):void 0,l,w);let _=si(C.repositoryPath),b=await ko(g),S=YN(_,C.volumeName,b);await Be.commands.executeCommand("remote-containers.inspectVolume",S,C.repositoryPath,C.folderPath)}},sd,{id:"openRepository",title:Pr.l10n.t("Open Repository"),isLastAction:!1,applicable:(C,_)=>!_,async execute(){Be.env.openExternal(Be.Uri.parse(e.repositoryPath))}}]:[],N=Ax(e)?[sd]:[];return x.actions=[...Tg,hp,cX,...D,...k,...N,Pg,mp],CEe(x),ad(x,vU(e),o,!0,n.log)})}async function yEe(e,t){let{common:n}=e,{output:r}=n,o=((t==null?void 0:t.originalError)&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();if(n.localWaylandSocket&&o.includes(`path does not exist: ${n.localWaylandSocket}`.toLowerCase())){n.localWaylandSocket=void 0;let i=await kN(e);return(async()=>{let s=rs("mountWaylandSocket");for(await Tn(3e3);Be.workspace.getConfiguration().get(s,!0);){try{await Be.workspace.getConfiguration().update(s,!1,Be.ConfigurationTarget.Global)}catch{}await Tn(3e3)}r.write("Wayland socket mount disabled in user settings.")})().catch(s=>{r.write(ft(s&&(s.stack||s.message)||String(s)))}),i}throw t}async function EEe(e,t,n,r,o,i,s,a){let{settings:c}=t,l=c&&"host"in c&&c.host||void 0;if(ln(t)){let u=Tt(Ay,t.hostPath),d=u.rootFolderPath,p=await Ro(e?{server:e,authority:t.parentAuthority}:void 0,l,u.rootFolderPath,qn,n,r,o,s,a,Ts,{sshAskpassEnv:i,settings:bg(),localDocker:t.localDocker});return p.cwd!==u.rootFolderPath&&(u=Tt(p.path,u.isWorkspaceFile?p.path.join(p.cwd,Ay.basename(t.hostPath)):p.cwd)),a.write(`Setting up container for folder or workspace: ${u.workspaceOrFolderPath}\r
`),g_(a,t),t.localDocker&&a.write(`Local Docker: ${t.localDocker}\r
`),{cliHost:p,originalCwd:d}}else{let u=await Ro(e?{server:e,authority:t.parentAuthority}:void 0,l,void 0,qn,n,r,o,s,a,Ts,{sshAskpassEnv:i,settings:bg()});return{cliHost:u,originalCwd:await u.homedir()}}}function vU(e){return ln(e)?"config":ai(e)?e.inspectVolume?"volume":"repository":"volume"}function CEe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description=Pr.l10n.t("The drive of the workspace folder is not shared. Share it in the Docker settings first."):t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description=Pr.l10n.t("A port the container is setup to bind to is already in use. See the Dev Containers terminal for details."):t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description=Pr.l10n.t("A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running."):t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description=Pr.l10n.t("The base image references the obsolete Debian 8 update repository."),e.actions.push({id:"learnMore",title:Pr.l10n.t("Learn More"),isLastAction:!1,applicable:(n,r)=>r,async execute(){Be.env.openExternal(Be.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var La=G(require("vscode")),Ug=require("vscode");var EI=G(Nr());var qX=require("util");var Na=G(require("path")),WX=G(require("crypto"));async function YX(e,t,n,r){var m,h;let{dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,common:a}=e,{cliHost:c,extensionPath:l,appRoot:u,postCreate:d,output:p}=a,f;try{let{commit:v}=a.product;if(!v)throw new De({description:EI.t("Cannot attach without commit id for the remote extension host.")});let g=r?n.configFilePath:void 0;if((g==null?void 0:g.scheme)==="file"&&c.type!=="local"){let L=c.path.join(await c.tmpdir(),`devcontainer-config-${WX.randomUUID()}.json`);await c.writeFile(L,await ct(g.fsPath)),g=be.from({scheme:tt.scheme,path:L})}let y={...a.env,...Cr(a.env)},x={cliHost:c,dockerPath:o,dockerComposePath:s,env:y,extensionPath:l,appRoot:u,package:a.package,postCreate:d,output:p},w=a.postCreate.output.dimensions||p.dimensions,E=await ri(x,["set-up","--container-id",t.Id,...c.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",to(a.getLogLevel()),"--log-format","json",...g?["--config",Ie(g,c.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...w?["--terminal-columns",String(w.columns),"--terminal-rows",String(w.rows)]:[],"--include-configuration","--include-merged-configuration"]);if((E==null?void 0:E.outcome)!=="success")throw new De({description:EI.t("devcontainer command failed: {0}",JSON.stringify(E))});E.configuration.configFilePath=E.mergedConfiguration.configFilePath=E.configuration.configFilePath&&be.revive(E.configuration.configFilePath).with({scheme:c.type==="local"?"file":tt.scheme});let I=E.mergedConfiguration,D=I.remoteUser;f=await Am(e,t.Id,I.workspaceFolder,D);let k={cliHost:c,dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,env:y,output:d.output},N=((h=(((m=I.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(L=>typeof L.devPort=="number"))==null?void 0:h.devPort)||zd,{hostOrContainerPort:R,hostPortServer:C,connectionToken:_,remoteEnv:b,serverDownloaded:S}=await Pl(a,f,n,I,N,Fm(e,k,f,void 0,void 0,t.Id,!1,g,void 0)),A=sr(a.cliHost,f.shellServer);if(bEe(a,f,A,n.configFilePath),SEe(a,f,A,n.configFilePath),C){let L=async()=>{await(0,qX.promisify)(C.close.bind(C))()};a.shutdowns.push(L)}return{params:a,properties:f,config:n,resolvedAuthority:{host:Fl,port:R,connectionToken:_,extensionHostEnv:b},tunnelInformation:a.isLocalContainer?Lm(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:S}}catch(v){let g=v instanceof De?v:new De({description:EI.t("An error occurred attaching to the container."),originalError:v});throw t&&(g.manageContainer=!1,g.params=e.common,g.containerId=t.Id,g.dockerParams=e),f&&(g.containerProperties=f),g.config=n,g}}function bEe(e,t,n,r){t.installFolder&&VX(e,t,n,r).catch(console.error)}async function VX(e,t,n,r){try{await ec(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],$z(t),{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await _Ee(e,t,n,r):(o==null?void 0:o.code)!==2&&await Tn(6e4)}return VX(e,t,n,r)}async function _Ee(e,t,n,r){let o=await jz(e,t);await hN(r,async()=>{var s,a;let i=await CI(e.cliHost,n,r,t.remoteWorkspaceFolder);if(!IEe(((a=(s=i.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],o)){let c=_n(i.text,["extensions"],o,{formattingOptions:{}});await Ni(n,r,c,i.text)}})}function SEe(e,t,n,r){zX(e,t,n,r).catch(console.error)}async function zX(e,t,n,r){try{let o=Ub(t),i=Na.posix.dirname(o),s=Na.posix.basename(o);await ec(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],i,{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await DEe(e.cliHost,t,n,r):(o==null?void 0:o.code)!==2&&await Tn(6e4)}return zX(e,t,n,r)}async function DEe(e,t,n,r){let{stdout:o}=await t.shellServer.exec(`cat ${Ub(t)}`),i=We(o)||{};await hN(r,async()=>{var a,c;let s=await CI(e,n,r,t.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(i)){let l=_n(s.text,["settings"],i,{formattingOptions:{}});await Ni(n,r,l,s.text)}})}function IEe(e,t){let n=new Set(e),r=new Set(t);return n.size===r.size&&e.every(o=>r.has(o))}async function GX(e,t){let n=_I(e,t),r=await BX(n);return r||(n=XX(e,t.Config.Image),r=await BX(n)),r}async function KX(e,t,n,r,o){let i=be.file(_I(n,r)),s=await CI(e,t,i,o);return s.exists||(i=be.file(XX(n,r.Config.Image)),s=await CI(e,t,i,o)),s}function bI(e){return Na.join(e,"nameConfigs")}function _I(e,t){return Na.join(bI(e),`${QX(sc(t))}.json`)}async function JX(e){try{let t=bI(e);return(await Jc(t)).filter(r=>r.endsWith(".json")).map(r=>({name:eZ(r.substr(0,r.length-5)),uri:be.file(Na.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function SI(e){return Na.join(e,"imageConfigs")}function XX(e,t){return Na.join(SI(e),`${QX(t)}.json`)}async function ZX(e){try{let t=SI(e);return(await Jc(t)).filter(r=>r.endsWith(".json")).map(r=>({image:eZ(r.substr(0,r.length-5)),uri:be.file(Na.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function QX(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function eZ(e){return e.replace(/%([0-9a-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}async function BX(e){if(!await gr(e))return;let t=await ct(e),n=We(t.toString())||{},r=_x(n);return r.configFilePath=be.file(e),r}async function CI(e,t,n,r){let o=await t.readDocument(n),i=o||nc,s=We(i)||{},a=_x(s),c=Tb({platform:e.platform,configFile:n,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return c.configFilePath=n,{exists:!!o,text:i,config:c}}async function tZ(e,t,n,r,o,i){return await id(e)?{...await PEe(e,t,n,r,o,i),isTrusted:!0}:(await La.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function PEe(e,t,n,r,o,i){let s,a;return La.window.withProgress({location:La.ProgressLocation.Notification,title:Dg,cancellable:!1},async c=>{var l,u;try{let d=sf(n);if(d.parentAuthority&&!r.execServer)throw new Error(`Parent authority found without ExecServer: ${n}`);let{settings:p}=d,f="containerName"in d?d.containerName:d.containerId;o.log.write(`Setting up container: ${f}\r
`),g_(o.log,d);let m=p&&"host"in p&&p.host||void 0,h=ka(),v=Ll(e.extensionPath,dp,o.log),g=await Ro(r.execServer?{server:r.execServer,authority:d.parentAuthority}:void 0,m,d.cwd,qn,h,e.extensionPath,await To(),t.product,o.log,Ts,{sshAskpassEnv:v,settings:bg()}),y=Ps(),x={...g.type==="local"?await v:void 0,...await Hm(g,p)},w=Vs({exec:g.exec,env:{...x,...Cr(x)},output:o.log},Ps(),Ta()),E={...g.env,...x},I=await ii({cliHost:g,dockerCLI:y,dockerComposeCLI:w,dockerComposePath:Ta(),env:E,output:o.log},"containerName"in d?d.containerName:d.containerId);if(!I)throw new De({description:Ug.l10n.t("Cannot attach to the container with name/id {0}, it no longer exists.",f),data:{reload:!1,attach:!0}});let D=(u=(l=(La.workspace.workspaceFolders||[void 0])[0])==null?void 0:l.uri)==null?void 0:u.path,k=await KX(g,is,e.globalStoragePath,I,D);if(D&&k.config.workspaceFolder!==D){let _=_n(k.text,["workspaceFolder"],D,{formattingOptions:{}});await Ni(is,k.config.configFilePath,_,k.text)}s={common:await Sg({authority:n,extensionContext:e,sessionStart:o.sessionStart,progress:c,cliHost:g,env:E,cwd:d.cwd||await g.homedir(),wslSettings:h,isLocalContainer:v_(d.parentAuthority,x),telemetry:t,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:d,dockerCLI:y,dockerComposePath:Ta(),dockerComposeCLI:w,dockerSocketPath:uI(),dockerEnv:x,workspaceMountConsistencyDefault:cI(),cacheMount:lI()?"volume":"none",configurationTracking:aI(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===La.ExtensionMode.Development,ensureNoDisallowedFeatures:(_,b,S)=>Om(_,e.globalState,b,S),useExperimentalLockfile:fI()},await x_(s);let N=Mm(d.parentAuthority,p),R=sc(I),C=Ug.l10n.t("Container {0} ({1}){2}",I.Config.Image,R,N);if(s.common.setWorkspaceName(C),I.State.Status!=="running")throw new De({description:Ug.l10n.t("Cannot attach to the container {0} ({1}){2}, it is not running.",I.Config.Image,R,N),params:s.common,containerId:I.Id,dockerParams:s,data:{reload:!1,start:!0}});return await YX(s,I,k.config,k.exists)}catch(d){let p=d instanceof De?d:new De({description:Ug.l10n.t("An error occurred attaching to the container."),originalError:d});throw p.actions=[lX,uX,...Tg,hp,sd,Pg,mp],p}}).then(c=>(Wc(t,"attach","success",o.sessionStart,s==null?void 0:s.common,a,void 0,c.properties),c),c=>{let l=c instanceof De?c:new De({description:Ug.l10n.t("An error occurred attaching to the container."),originalError:c});return Wc(t,"attach","failure",o.sessionStart,s==null?void 0:s.common,a,void 0,l.containerProperties,l),ad(l,"attach",t,!0,o.log)})}var ut=G(require("vscode")),Ye=require("vscode");var an=G(require("vscode")),Aa=require("vscode"),rZ=G(require("path")),vp=G(require("os")),Fy=G(require("fs")),oZ=G(require("child_process")),iZ=G(require("crypto")),sZ=G(cv());async function II(e){REe()?await new xU().downloadAndInstallDocker(e):aZ()?await new wU().downloadAndInstallDocker(e):await an.env.openExternal(an.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var DI=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let r=Aa.l10n.t("Downloading Docker installer..."),o=Aa.l10n.t("The Docker Desktop installation is started. Complete the installation and then start Docker Desktop."),i;try{i=await an.window.withProgress({location:an.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let c=Aa.l10n.t("Downloading the Docker Desktop installer failed. Do you want to manually download and install?"),l=Aa.l10n.t("Download");throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(i);an.window.showInformationMessage(o);try{await this.install(i,s,t)}catch(a){let c=Aa.l10n.t("Docker Desktop installation failed. ({0})",String(a==null?void 0:a.message)),l=Aa.l10n.t("Install Instruction");throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let n=!0;if(await new yU(t).isDockerInstalledRealTimeCheck()){let r=Aa.l10n.t("Docker Desktop is already installed. Would you like to reinstall?"),o=Aa.l10n.t("Reinstall");n=await an.window.showInformationMessage(r,{modal:!0},o)!==void 0}return n}async downloadInstaller(){let t=`${kEe()}.${this.fileExtension}`;return await LEe(this.downloadUrl,t),t}handleError(t,n,r){an.window.showErrorMessage(t,{title:n}).then(o=>{o&&an.env.openExternal(an.Uri.parse(r))})}},xU=class extends DI{downloadUrl="https://aka.ms/download-docker-windows-vscode";fileExtension="exe";getInstallCommand(t){return`"${t}"`}async install(t,n,r){try{r.write(`Executing command ${n}`),await cZ(n,r)}finally{try{await Fy.promises.stat(t),await Fy.promises.unlink(t)}catch{}}}},wU=class extends DI{downloadUrl=`https://aka.ms/download-docker-mac${process.arch==="arm64"?"-arm64":""}-vscode`;fileExtension="dmg";getInstallCommand(t){return`chmod +x '${t}' && open '${t}'`}async install(t){let n=Aa.l10n.t("Docker Install"),r=this.getInstallCommand(t);await NEe(r,n,{addDockerEnv:!1})}},TEe=0;function kEe(){return rZ.join(vp.tmpdir(),`${an.env.sessionId}-${TEe++}.tmp`)}function REe(){return vp.platform()==="win32"}function aZ(){return vp.platform()==="darwin"}async function NEe(e,t,n){var a,c;let r;n=n??{},n.addDockerEnv&&(r={});let o=new an.Task({type:"shell"},n.workspaceFolder??an.TaskScope.Workspace,t,"Docker",new an.ShellExecution(e,{cwd:n.cwd||((c=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:c.fsPath)||vp.homedir(),env:r}),[]);n.alwaysRunNew&&(o.definition.idRandomizer=iZ.randomUUID()),n.focus&&(o.presentationOptions={focus:!0});let i=await an.tasks.executeTask(o);return new Promise((l,u)=>{let d=an.tasks.onDidEndTaskProcess(p=>{p.execution===i&&(d.dispose(),p.exitCode&&n.rejectOnError&&u(p.exitCode),l())})})}var yU=class{constructor(t){this.output=t;this.isDockerInstalledLazy=new CU(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}maxCacheTime=3e4;isDockerInstalledLazy;async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{let t=await So("docker");return await cZ(`${t} -v`,this.output),!0}catch{return!1}}};async function LEe(e,t){await new Promise((n,r)=>{let o=Fy.createWriteStream(t);sZ.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(o),s.on("end",n)}).on("error",r)})}var nZ=10*1024;async function cZ(e,t,n,r){let o=Buffer.alloc(n&&n.maxBuffer||nZ),i=Buffer.alloc(n&&n.maxBuffer||nZ);return await AEe(e,t,n,r,o,r,i),{stdout:EU(o),stderr:EU(i)}}async function AEe(e,t,n,r,o,i,s,a){return await new Promise((c,l)=>{let u,d=0,p=0;n=n||{},n.shell=!0,FEe(n,t);let f=oZ.spawn(e,n);f.on("error",m=>(u&&(u.dispose(),u=void 0),l(m))),f.on("close",(m,h)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(m){let v=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${m}`;s&&(v+=`
Error: ${EU(s)}`);let g=new Error(v);return g.code=m,g.signal=h,g.stdErrHandled=i!==null,l(g)}return c()}),n!=null&&n.stdin&&(f.stdin.write(n.stdin),f.stdin.end()),(r||o)&&f.stdout.on("data",m=>{let h=m.toString();r&&r(h,f),o&&(d+=o.write(h,d))}),(i||s)&&f.stderr.on("data",m=>{let h=m.toString();i&&i(h,f),s&&(p+=s.write(h,p))}),a&&(u=a.onCancellationRequested(()=>{f.kill()}))})}function FEe(e,t){var n;aZ()&&(/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=e==null?void 0:e.env)==null?void 0:n.PATH)||process.env.PATH||"")||(e=e??{},e.env=e.env??{...process.env},t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`))}function EU(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var CU=class{constructor(t,n){this.valueFactory=t;this._valueLifetime=n}_isValueCreated=!1;_value;_valuePromise;get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(t&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};var lZ=G(require("os")),Mg=G(require("crypto")),uZ=G(require("net")),dZ=G(require("path")),Qt=G(require("vscode")),cn=require("vscode");var fZ=require("string_decoder");var pZ="done",PI="devcontainers";async function kI(e,t,n,r){return Qt.commands.executeCommand(_t),Qt.window.withProgress({location:Qt.ProgressLocation.Notification,title:"Installing Docker in WSL"},async o=>{let i={},s={};try{await OEe(e,t,n,o,i,s)}catch(a){i.outcome="error",i.errorMessage=a==null?void 0:a.message,t.write(`Failed with error: ${(a==null?void 0:a.message)||a}`)}finally{r.sendTelemetryEvent("installDockerInWSL",i,s)}return i.outcome===pZ})}async function mZ(e){if(process.platform!=="win32")return!1;let t=gZ();if(e.write(`Windows build number: ${t}`),t<Oy)return e.write(`WSL version 2 is required to run Docker and that is only available since Windows build ${Oy}.`),!1;let n=await io(process.cwd(),qn,e);return!await TI(n,t,e)&&t<hZ?(e.write(`WSL is not installed and can only be installed automatically since Windows build ${Oy}.`),!1):!0}async function OEe(e,t,n,r,o,i){let s=gZ();if(t.write(`Windows build number: ${s}`),s<Oy)return o.outcome="wsl2NotAvailableForWindowsBuild",Qt.window.showInformationMessage(cn.l10n.t("WSL version 2 is required to run Docker and that is only available since Windows build {0}.",Oy),{modal:!0});let a=await io(process.cwd(),qn,t);if(r.report({message:cn.l10n.t("Checking if WSL is installed.")}),!await TI(a,s,t)){if(s<hZ)return o.outcome="wslInstallerNotAvailableWithWindowsBuild",Qt.window.showInformationMessage(cn.l10n.t("WSL is not installed. Please install WSL manually and retry."),{modal:!0});if(r.report({message:cn.l10n.t("Installing WSL.")}),await MEe(a,e.extensionPath,t,n))return o.outcome="rebootRequiredAfterWSLInstall",Qt.window.showInformationMessage(cn.l10n.t("Please reboot your machine to finalize the WSL setup."),{modal:!0});if(!await TI(a,s,t)&&(await new Promise(D=>setTimeout(D,3e3)),!await TI(a,s,t)))return o.outcome="wslNotFoundAfterInstall",Qt.window.showInformationMessage(cn.l10n.t("WSL not found after install."),{modal:!0})}r.report({message:cn.l10n.t("Checking WSL version.")}),o.wslVersion=await $Ee(a,t),r.report({message:cn.l10n.t("Listing installed WSL distributions.")});let l=await bU(a,t);if(!l.length){if(r.report({message:cn.l10n.t("Installing WSL distribution.")}),await HEe(a,t,n))return o.outcome="featureMissingDuringDistroInstall",Qt.window.showInformationMessage(cn.l10n.t("A required feature is missing. Please reboot your machine to finalize the WSL setup if you haven't done so yet."),{modal:!0});if(l=await bU(a,t),!l.length&&(await new Promise(E=>setTimeout(E,3e3)),l=await bU(a,t),!l.length))return o.outcome="noDistroAfterInstall",Qt.window.showInformationMessage(cn.l10n.t("No WSL distro found after install."),{modal:!0})}i.wslDistros=l.length;let u=l.find(w=>w.isDefault);if(!u&&l.length===1&&(u=l[0]),!u)return o.outcome="noDefaultDistro",Qt.window.showInformationMessage(cn.l10n.t("No default WSL distro found."),{modal:!0});if(o.isDefaultDistro=String(u.isDefault),u.version!=="2")return o.outcome="defaultDistroNotVersion2",Qt.window.showInformationMessage(cn.l10n.t("Default distro is not using WSL version 2."),{modal:!0});r.report({message:cn.l10n.t("Reading distribution information.")});let d=Qa("wsl",["-u","root","-e"],void 0),p=await Vt(d,t,void 0,"linux","Host"),{stdout:f}=await p.exec("cat /etc/os-release || cat /usr/lib/os-release || true"),m=BEe(f);if(o.distro=m.ID,m.ID!=="debian"&&m.ID!=="ubuntu")return o.outcome="distroNotSupported",Qt.window.showInformationMessage(m.NAME?cn.l10n.t("Unsupported WSL distribution: {0}",m.NAME):cn.l10n.t("Unsupported WSL distribution."),{modal:!0});let h=Qa("wsl",["-e"],void 0),v=await Vt(h,t,void 0,"linux","Host"),g=await yl(v);if(g==="root"){try{await p.exec(`id ${PI}`)}catch{await p.exec(`useradd --create-home --shell /usr/bin/bash --user-group --groups adm,dialout,cdrom,floppy,sudo,audio,dip,video,plugdev,netdev --password '${Mg.randomUUID()}' ${PI}`)}if(await p.exec(`cat >>/etc/wsl.conf <<'wslConf'
[user]
default=${PI}
wslConf
`),await se({exec:a.exec,cmd:"wsl",args:["--terminate",u.name],output:t,print:"continuous"}),p=await Vt(d,t,void 0,"linux","Host"),v=await Vt(h,t,void 0,"linux","Host"),await yl(v)==="root")return o.outcome="failedToSwitchUser",Qt.window.showInformationMessage(cn.l10n.t("Default user in WSL is root, requiring a regular user."),{modal:!0})}let y=await _U(v,"docker")||await _U(p,"docker")||await _U(p,"dockerd");if(y){await p.exec(`usermod -aG docker ${g}`).catch(()=>{});let w=cn.l10n.t("Reinstall");if(await Qt.window.showInformationMessage(cn.l10n.t("Docker is already installed in WSL."),{modal:!0,detail:cn.l10n.t("Path: {0}",y)},w)!==w){o.outcome="dockerAlreadyInstalled";return}}r.report({message:cn.l10n.t("Installing Docker.")}),await p.exec("export DEBIAN_FRONTEND=noninteractive"),await p.exec("apt update && apt -y install --no-install-recommends apt-transport-https ca-certificates curl gnupg2"),await p.exec(`curl -fsSL https://download.docker.com/linux/${m.ID}/gpg | tee /etc/apt/trusted.gpg.d/docker.asc`),await p.exec(`echo "deb [arch=$(dpkg --print-architecture)] https://download.docker.com/linux/${m.ID} ${m.VERSION_CODENAME} stable" | tee /etc/apt/sources.list.d/docker.list`),await p.exec("apt update && apt -y install --no-install-recommends docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin"),await p.exec(`usermod -aG docker ${g}`),r.report({message:cn.l10n.t("Updating Settings.")});let x=Qt.workspace.getConfiguration();await x.update(rs("executeInWSL"),!0,Qt.ConfigurationTarget.Global),await x.update(rs("executeInWSLDistro"),u.isDefault?void 0:u.name,Qt.ConfigurationTarget.Global),o.outcome=pZ}var Oy=18917,hZ=20262;function gZ(){let e=lZ.release(),t=process.platform==="win32"&&e&&/(\d+)\.(\d+)\.(\d+)/g.exec(e);return t&&t.length===4?parseInt(t[3]):0}async function TI(e,t,n){if(e.platform!=="win32")return!1;if(t>=22e3)try{return await se({exec:e.exec,cmd:"wsl",args:["--status"],output:n,print:"continuous"}),!0}catch{return n.write("WSL feature installed: false (wsl --status failed)"),!1}else{let r=UEe(e);if(r){let o=await e.isFile(r);return n.write(`WSL feature installed: ${o} (dll path: ${r})`),o}return n.write("WSL feature installed: false (no dll path)"),!1}}function UEe(e){let t=e.env.SystemRoot;if(t){let n=e.env.PROCESSOR_ARCHITEW6432;return e.path.join(t,n?"Sysnative":"System32","lxss","LxssManager.dll")}}async function MEe(e,t,n,r){let{wrappedOutput:o,wrappedInput:i}=vZ(n,r);try{let s=e.path.join(await e.tmpdir(),`wsl-install-${Mg.randomUUID()}.js`);await e.writeFile(s,await ct(dZ.join(t,"dist/extension/runAsMain.js")));let a=`\\\\.\\pipe\\wsl-install-${Mg.randomUUID()}-sock`,c=e.path.join(await e.tmpdir(),`wsl-install-${Mg.randomUUID()}.bat`),l=Sx(e),u=await vN({cliHost:e,env:{RUN_AS_CMD:await So("wsl"),RUN_AS_ARGS:JSON.stringify(["--install"]),...n.dimensions?{RUN_AS_COLS:String(n.dimensions.columns),RUN_AS_ROWS:String(n.dimensions.rows)}:{},RUN_AS_SOCKET:a,ELECTRON_RUN_AS_NODE:"1"},appRoot:Qt.env.appRoot},l.cmd)||{},d=`@echo off

${Object.keys(u).map(h=>`set ${h}=${u[h]}`).join(`
`)}
"${l.cmd}" ${l.args.map(h=>`"${h}"`).join(" ")} "${s}"
`;await e.writeFile(c,Buffer.from(d.replaceAll(/\r?\n/g,`\r
`)));let p="",f=new uZ.Server(h=>{f.close();let v=new fZ.StringDecoder;h.on("data",g=>{let y=v.write(g);o.raw(y),p+=y}),i.event(g=>h.write(g))});return f.listen(a),await Hs({ptyExec:e.ptyExec,cmd:"powershell.exe",args:["Start-Process","-FilePath",`'${c}'`,"-Verb","RunAs","-WindowStyle","Hidden","-Wait"],output:o,onDidInput:i.event}),p.replace(Ns,"").replaceAll(/\s/g,"").indexOf("untilthesystemisrebooted")!==-1}finally{i.dispose()}}async function $Ee(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"wsl",args:["--version"],output:t,print:"continuous"});return n.toString("utf16le").match(/^.*$/m)[0]}catch{return"unknown"}}async function bU(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"wsl",args:["-l","-v"],output:t,print:"continuous"});return jEe(n.toString("utf16le"))}catch{return[]}}function jEe(e){let t=/\r\n/.test(e)?`\r
`:`
`,n=e.split(t),r=/^(?<default>\*|\s)\s*(?<name>[a-zA-Z0-9\.\-_]+)\s+(?<state>\w+)\s+(?<version>\d)/,o=[];for(let i=1;i<n.length;i++){let s=r.exec(n[i]);if(s!=null&&s.groups){let a=s.groups.name,c=s.groups.version,l=i===1;o.push({name:a,isDefault:l,version:c})}}return o}async function HEe(e,t,n){await se({exec:e.exec,cmd:"wsl",args:["--set-default-version","2"],output:t,print:"continuous"});let{wrappedOutput:r,wrappedInput:o}=vZ(t,n);try{let{cmdOutput:i}=await Hs({ptyExec:e.ptyExec,cmd:"wsl",args:["--install","-d","Ubuntu"],output:r,onDidInput:o.event});return i.replace(Ns,"").replaceAll(/\s/g,"").indexOf("0x80370114")!==-1}finally{o.dispose()}}function vZ(e,t){let n=t(a=>r.fire(a)),r=new Rs(n),o="",i=Mg.randomUUID();return{wrappedOutput:Yn({...e,get dimensions(){return e.dimensions},event:a=>{if(e.event(a),a.type==="text"||a.type==="raw"){o+=a.text;let c=o.replace(Ns,"");/Enter new UNIX username:\s*$/.test(c)?r.fire(`${PI}\r`):/(New|Retype new) password:\s*$/.test(c)?r.fire(`${i}\r`):/any key to continue\.*\s*$/.test(c)?r.fire("\r"):/Installation successful!/.test(c)&&r.fire("exit\r")}}}),wrappedInput:r}}function BEe(e){return e.split(`
`).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substring(0,r)]=n.substring(r+1)),t},{})}async function _U(e,t){try{let{stdout:n}=await e.exec(`command -v ${t}`);return n.trim()}catch{return}}var qEe={reopenInContainer:Ye.l10n.t("Do you want to continue with reopening the folder in a container?"),openInContainer:Ye.l10n.t("Do you want to continue with opening a folder in a container?"),cloneInVolume:Ye.l10n.t("Do you want to continue with cloning a repository in a Docker volume?"),attachToContainer:Ye.l10n.t("Do you want to continue with attaching to a container?"),checkoutPRInVolume:Ye.l10n.t("Do you want to continue with checking out a pull-request in a Docker volume?"),createDevContainer:Ye.l10n.t("Do you want to continue with creating a Dev Container?"),inspectVolume:Ye.l10n.t("Do you want to continue with inspecting a Docker volume?"),trySample:Ye.l10n.t("Do you want to continue with trying a sample Dev Container?")},WEe=`[${Ye.l10n.t("Starting Docker (show log)")}](command:${_t} "${Ye.l10n.t("Show details in terminal")}")`;async function eo(e,t,n,r,o,i){var d;let s=await st(e,t,i),a=(d=(ut.workspace.workspaceFolders||[])[0])==null?void 0:d.uri;a&&(a.scheme==="file"&&Er(a.fsPath)||Cm(a))&&(s=await st(e,s.output,a));let c=My(s,r),l=await Promise.race([c,new Promise(p=>setTimeout(()=>p("timeoutOrCanceled"),2e3))]);if(l==="timeoutOrCanceled"&&(l=await ut.window.withProgress({location:ut.ProgressLocation.Notification,title:WEe,cancellable:!0},async(p,f)=>Promise.race([c,new Promise(m=>{let h=f.onCancellationRequested(()=>{h.dispose(),m("timeoutOrCanceled")})})])),l==="timeoutOrCanceled"))return!1;let u=await c;if(u==="permission")return await ut.window.showErrorMessage(Ye.l10n.t("Current user does not have permission to run 'docker'."),{modal:!0,detail:Ye.l10n.t("Try adding the user to the 'docker' group.")},Ye.l10n.t("Documentation"))&&ut.env.openExternal(ut.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(u==="ssh")return await ut.window.showErrorMessage(Ye.l10n.t("Cannot connect to Docker daemon using 'ssh'."),{modal:!0,detail:Ye.l10n.t("Make sure public/private keys are set up for connecting without keyboard interaction.")},Ye.l10n.t("Show Log"))&&ut.commands.executeCommand(_t),!1;if(u==="daemon")return await ut.window.showErrorMessage(Ye.l10n.t("Docker returned an error."),{modal:!0,detail:Ye.l10n.t("Make sure the Docker daemon is running.")},Ye.l10n.t("Show Log"))&&ut.commands.executeCommand(_t),!1;if(u==="cwd")return await ut.window.showErrorMessage(Ye.l10n.t("Workspace folder does not exist.",s.cliHost.cwd),{modal:!0,detail:s.cliHost.cwd},Ye.l10n.t("Show Log"))&&ut.commands.executeCommand(_t),!1;if(u==="command"&&(s.cliHost.type==="local"||s.cliHost.type==="wsl")&&await mZ(s.output)){let p=Ye.l10n.t("Install");if(await ut.window.showInformationMessage(Ye.l10n.t("Dev Containers require Docker to run."),{modal:!0,detail:Ye.l10n.t("Do you want to install Docker in WSL?")},p)===p){if(ld(r,"installInWSL","install"),await kI(e,s.output,n,r)){let h=Ye.l10n.t("Continue");return await ut.window.showInformationMessage(Ye.l10n.t("Docker has been installed. {0}",qEe[o]),h)===h?(ld(r,"continueAfterInstall","continue"),!0):(ld(r,"continueAfterInstall","cancel"),!1)}return!1}return ld(r,"installInWSL","cancel"),!1}if(!u||u==="command"){if(s.cliHost.type==="wsl")await ut.window.showErrorMessage(Ye.l10n.t("Docker Desktop WSL 2 backend required."),{modal:!0},Ye.l10n.t("Read more on docker.com"))&&ut.env.openExternal(ut.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let p=Ye.l10n.t("Install"),f=Ye.l10n.t("License"),m=Ye.l10n.t("Ignore"),h=[],v=[];u==="command"&&s.dockerCLI!=="docker"&&v.push(Ye.l10n.t("Command not found: '{0}'.",s.dockerCLI)),s.cliHost.type==="local"&&(h.push(p,f),v.push(Ye.l10n.t("Check the license for details."))),u===!1&&h.push(m);let g=v.join(" "),y=s.cliHost.type==="remote"?Ye.l10n.t("Docker version 17.12.0 or later required on remote host."):Ye.l10n.t("Docker version 17.12.0 or later required."),x=await ut.window.showErrorMessage(y,{modal:!0,detail:g},...h);if(x===p)return II(s.output).then(console.error),ld(r,"dockerDesktop","install"),!1;if(x===f)return ut.env.openExternal(ut.Uri.parse("https://aka.ms/docker-subscription-service-agreement")),ld(r,"dockerDesktop","license"),!1;if(x===m)return ld(r,"dockerDesktop","ignore"),!0;ld(r,"dockerDesktop","cancel")}return!1}return u==="wsl1"?(await ut.window.showErrorMessage(Ye.l10n.t("WSL 2 distro required."),{modal:!0,detail:Ye.l10n.t("The WSL distro is running with WSL 1.")},Ye.l10n.t("Read more on docker.com"))&&ut.env.openExternal(ut.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}function ld(e,t,n){e.sendTelemetryEvent("dockerVersionUserChoice",{dialog:t,choice:n})}async function My(e,t,n=!0){var a,c,l,u;let r;try{r=(await GN(e,qn,n,"version","--format","{{json .}}")).stdout.toString()}catch(d){console.error(d);let p=d&&(d.stderr?d.stderr.toString():d.message)||"";Uy(t,"error",void 0,p);let f=p.toLowerCase();return f.indexOf("permission denied")!==-1?f.indexOf("ssh")!==-1?"ssh":"permission":f.indexOf("enoent")!==-1||f.indexOf("not found")!==-1||f.indexOf("notfound")!==-1?await e.cliHost.isFolder(e.cliHost.cwd)?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):"cwd":e.cliHost.type==="wsl"&&((l=(c=(a=d==null?void 0:d.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let o;try{let d=We(r);o=(u=d==null?void 0:d.Server)==null?void 0:u.ApiVersion}catch{}let i=o&&bb(o);if(!i&&r.toLowerCase().indexOf("error during connect")!==-1)return Uy(t,"error",void 0,r),"daemon";if(!i)return Uy(t,"unparsed",r),!0;let s=!_b(i,[1,35]);return!s&&await DN(e)?(Uy(t,"podman",r),!0):(Uy(t,s?"success":"failure",r),s)}function Uy(e,t,n,r){let o={outcome:t};n&&(o.version=n),r&&(o.errorMessage=r),e.sendTelemetryEvent("dockerVersion",o)}async function xZ(e){try{let t=Li(e,await e.dockerComposeCLI());return await Px({...t,print:!0},"version","--short"),!0}catch(t){return(t==null?void 0:t.code)==="ENOENT"?await ut.window.showErrorMessage(Ye.l10n.t("Docker Compose required"),{modal:!0,detail:e.dockerComposePath!=="docker-compose"?Ye.l10n.t("Command not found: '{0}'.",e.dockerComposePath):void 0},Ye.l10n.t("Documentation"))&&ut.env.openExternal(ut.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")):await ut.window.showErrorMessage(Ye.l10n.t("Docker Compose returned an error."),{modal:!0},Ye.l10n.t("Show Log"))&&ut.commands.executeCommand(_t),!1}}var $g=G(require("vscode"));var RI=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,n){let r=[],o=hd(t.getText());if(!o)return r;let i=Qy(o)||{};return i.configFilePath=t.uri,Po(i)&&this._linksForDockerfile(r,i,o,t),"dockerComposeFile"in i&&await this._linksForDockerCompose(r,i,o,t),r}_tryAddDocumentLinkToBucket(t,n,r,o,i){let s=t.positionAt(n),a=t.positionAt(r);s.compareTo(a)!==0&&i.push(new $g.DocumentLink(new $g.Range(s,a),o))}_linksForDockerfile(t,n,r,o){let i=Ji(r,["build","dockerfile"])||Ji(r,["dockerFile"]);i&&i.type==="string"&&this._tryAddDocumentLinkToBucket(o,i.offset+1,i.offset+i.length-1,Zd(this.fileHost,n),t)}async _linksForDockerCompose(t,n,r,o){let s=(await Nl(this.fileHost,n)).map(c=>$g.Uri.file(c).path),a=Ji(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(o,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,o.uri.with({path:s[c]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(o,a.offset+1,a.offset+a.length-1,o.uri.with({path:s[0]}),t)}};var ee=G(require("vscode")),$e=require("vscode"),Bg=G(require("path"));var jg=require("vscode"),wZ=G(require("path"));function NI(e){let t=$l(e);if(t)return`${wZ.basename(t)}`;{let n=Tx(e);if(n)return n;let r=oc(e);if(r)return WN(r);let o=Ul(e);return o?o.volumeName:e.Config.Image}}function LI(e,t=!1){let n=sc(e);return t?`${n} (${SU(e)})`:n}function SU(e){let t="",n=e.State.Status,r=new Date(e.State.StartedAt),o=new Date(e.State.FinishedAt);if(r.getFullYear()>1&&o.getFullYear()>1){let i=new Date,s=new Date(r>o?e.State.StartedAt:e.State.FinishedAt);t=` ${PU(i,s)}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+t}function AI(e){let t=e.Name;if(e.Labels&&Hg(e)){let r=OI(e);r&&r.gitUrlInfo.repository!=="unknown"&&(t=r.gitUrlInfo.fullRepositoryName)}return t}function FI(e){let t="";if(e.Labels&&Hg(e)){let r=OI(e);if(r&&r.gitUrlInfo.repository!=="unknown"){let o=DU(e),i=IU(e);i?t=`#${i}`:o&&(t=`${o}`)}}return t}function Hg(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true")return!0}return!1}function DU(e){let t=e.Labels;if(t&&Hg(e)&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}function IU(e){let t=e.Labels;if(t&&Hg(e)&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}function OI(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true"){let r=t["vsch.local.repository"];return si(r)}}}var yZ=1e3,EZ=yZ*60,CZ=EZ*60,bZ=CZ*24,YEe=bZ*365;function PU(e,t){let n,r=e.getTime()-t.getTime();return(n=Math.round(r/YEe))>0?n===1?"1 year":jg.l10n.t("{0} years",n):(n=Math.round(r/bZ))>0?n===1?"1 day":jg.l10n.t("{0} days",n):(n=Math.round(r/CZ))>0?n===1?"1 hour":jg.l10n.t("{0} hours",n):(n=Math.round(r/EZ))>0?n===1?"1 minute":jg.l10n.t("{0} minutes",n):(n=Math.round(r/yZ),n===1?"1 second":jg.l10n.t("{0} seconds",n))}var $y=G(require("vscode")),jy=require("vscode");async function _Z(e){let t=(await Promise.all([Nx,Lx,$m,Um,s_].map(async o=>{let{stdout:i}=await ze(e,"ps","-a","-q","--filter","status=exited","--filter",`label=${o}`);return i.toString().split(/\r?\n/).filter(s=>!!s)}))).flat(),n;if(t.length){let i=(await Ws(e,t)).map(a=>({label:NI(a),description:LI(a,!0),container:a}));i.sort((a,c)=>a.label.localeCompare(c.label));let s=await $y.window.showQuickPick(i,{canPickMany:!0,placeHolder:jy.l10n.t("Select stopped dev containers to delete")});if(!s)return;s.length&&(n=new Set(await Al(e)),await ze(e,"rm",...s.map(a=>a.container.Id)))}let r=await DZ(e,n);(!t.length||r==="none")&&await $y.window.showInformationMessage(jy.l10n.t("There are no stopped dev containers or unused dev volumes to delete."),{modal:!0})}async function SZ(e){await DZ(e)==="none"&&await $y.window.showInformationMessage(jy.l10n.t("There are no unused dev volumes to delete."),{modal:!0})}async function DZ(e,t){let n=[...new Set([...t?(await Al(e)).filter(r=>!t.has(r)&&r!=="vscode"):[],...await Al(e,[BN]),...await Al(e,[p_])])];if(n.length){let o=(await Qd(e,n)).map(s=>({label:AI(s),description:FI(s),volume:s}));o.sort((s,a)=>s.label.localeCompare(a.label));let i=await $y.window.showQuickPick(o,{canPickMany:!0,placeHolder:jy.l10n.t("Select unused dev volumes to delete")});if(!i)return"cancel";i.length&&await ze(e,"volume","rm",...i.map(s=>s.volume.Name))}return n.length?"done":"none"}var IZ=$e.l10n.t("Stop Container"),PZ=$e.l10n.t("Reopen Folder locally"),TZ=$e.l10n.t("Close Workspace");var hr=class{static isGroupItem(t){return!!t&&t.type==="Group"}static isContainerItem(t){return!!t&&t.type==="Container"}static isFolderItem(t){return!!t&&t.type==="Folder"}};var UI=class extends hr{constructor(n,r){super();this.label=n;this.groupType=r}type="Group";async asTreeItem(n,r,o,i){return new ee.TreeItem(this.label,ee.TreeItemCollapsibleState.Expanded)}},qg=class extends hr{constructor(n,r=[],o,i=!1){super();this.container=n;this.folders=r;this.parent=o;this.isDevContainer=i}type="Container";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=LI(this.container);let a=this.getContextBase();s.iconPath=$I(r,KEe),s.contextValue="exited"+a;let c=!1;return o&&this.container.Id===o.Id?(s.iconPath=$I(r,GEe),s.contextValue="active"+a,c=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(c,s.iconPath instanceof ee.ThemeIcon?s.iconPath:new ee.ThemeIcon("vm"),s.label),this.folders.length===1&&this.isDevContainer&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,o){switch(this.container.State.Status){case"created":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"paused":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="running"+r;break}case"restarting":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="exited"+r;break}case"exited":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"running":{o.iconPath=new ee.ThemeIcon("vm-running"),o.contextValue="running"+r;break}}}getTimeElapsed(n){return n?SU(n):""}getContainerLabel(){return NI(this.container)}getHover(n,r,o){let i=new ee.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${o} (${sc(this.container)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=m_(this.container);return s&&i.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?i.appendMarkdown($e.l10n.t("$(remote) Connected")):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}_repository;_alreadyCheckedRepository=!1;get repository(){if(!this._alreadyCheckedRepository){let n=oc(this.container);n&&(this._repository=si(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return oi(n,this.container.Id)}},Vc=class extends hr{constructor(n,r,o){super();this.container=n;this.folder=r;this.isDevContainer=o}type="Folder";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(Bg.basename(this.folder.path),ee.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=$I(r,XEe),s.contextValue="attachedFolder",this.isDevContainer&&!oc(this.container)&&!Ul(this.container)&&(s.contextValue="devFolder"),o&&this.container.Id===o.Id&&i===this.folder.path&&(s.iconPath=$I(r,JEe),s.tooltip=$e.l10n.t("Active Folder {0}",String(s.label)),s.contextValue=`active${s.contextValue}`),s}};function VEe(e,t,n,r){if(!(!ee.env.remoteName||ee.env.remoteName!=="attached-container"&&ee.env.remoteName!=="dev-container"))return kZ(e,t,n,r)}function kZ(e,t,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!0);let o=new LU(e,t,r,t.output),i=ee.window.createTreeView("detailsContainers",{treeDataProvider:o});return o.setTitle=s=>{i.title=s},e.subscriptions.push(n.onDidChangeActiveContainer(s=>o.refresh(s))),o}function zEe(e,t){let n=[IZ];return e&&e.Id===t.Id&&ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0&&(n.push(TZ),ee.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(PZ)),n}var TU=class{constructor(t,n){this.dockerParams=t;this.containerId=n}writeEmitter=new ee.EventEmitter;onDidWrite=this.writeEmitter.event;destroyables=[];open(){let{cliHost:t,env:n,output:r}=this.dockerParams;t.exec({cmd:Ps(),args:["logs","-f",this.containerId],env:n,output:r}).then(o=>{this.destroyables.push(o.stdout.on("data",i=>{this.write(i.toString())})),this.destroyables.push(o.stderr.on("data",i=>{this.write(i.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},MI=class{constructor(t,n,r,o,i,s){this.targetsTreeData=t;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=o;this.context=i;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(ee.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(ee.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(ee.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(ee.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(ee.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(ee.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(ee.commands.registerCommand("remote-containers.attachToContainerInCurrentWindow",this.commandAttachToContainerInCurrentWindow,this)),t.push(ee.commands.registerCommand("remote-containers.attachToContainerInNewWindow",this.commandAttachToContainerInNewWindow,this)),t.push(ee.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(ee.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),t.push(ee.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(ee.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(ee.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(ee.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInCurrentWindow",n=>this.commandStartAndOpenFolder(n,{forceReuseWindow:!0}),this)),t.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInNewWindow",n=>this.commandStartAndOpenFolder(n,{forceNewWindow:!0}),this)),t.push(ee.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!hr.isContainerItem(t))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?$e.l10n.t("Stop active container? This will disconnect your current window."):$e.l10n.t("Stop {0}?",t.getContainerLabel()),r=await ee.window.showWarningMessage(n,{modal:!0},...zEe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(r){case IZ:{await Z1(this.dockerParams,t.container),t.container=await oi(this.dockerParams,t.container.Id);break}case TZ:{await ee.commands.executeCommand("workbench.action.closeFolder");break}case PZ:{await ee.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!hr.isContainerItem(t))return;let n=await ii(this.dockerParams,t.container.Id);if(!n)return;let r=$e.l10n.t("Remove"),o=await ee.window.showWarningMessage($e.l10n.t("Remove this container?"),{modal:!0,detail:$e.l10n.t("This action is not reversible and deletes the container permanently.")},r);await this.targetsTreeData.withProgress(t.parent,async()=>{o===r&&(await Z1(this.dockerParams,t.container),await zJ(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let n=m_(t);if(n||(n=P3(t)),n){let r=await Zb(this.dockerParams,n);if((await Al(this.dockerParams)).indexOf(n)>=0){let s;r!=null&&r.Labels&&r.Labels["vsch.local.repository.unique"]==="true"?s=$e.l10n.t("The container is using a volume with a cloned repository."):s=$e.l10n.t("This is the last container using '{0}'.",n);let a=$e.l10n.t("Remove");await ee.window.showInformationMessage(s,{modal:!0,detail:$e.l10n.t("Do you want to remove the volume and the data it contains?")},a)===a&&await Q1(this.dockerParams,n)}}}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){hr.isContainerItem(t)&&await this.targetsTreeData.withProgress(t,async()=>{await pI(this.dockerParams,t.container),t.container=await oi(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){hr.isFolderItem(t)&&(await ee.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){hr.isContainerItem(t)&&(this.detailsTreeData||(this.detailsTreeData=kZ(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t,n){let r,o;hr.isFolderItem(t)?(o=t,r=t.container):qg.isContainerItem(t)&&(o=t.folders[0],r=t.container),r&&(await pI(this.dockerParams,r),o&&sf(o.folder.authority)?await Hy(this.dockerParams,r,this.context,!!(n!=null&&n.forceNewWindow),o.folder.path):await ee.commands.executeCommand("remote-containers.openFolder",o,n))}async commandAttachToContainerInCurrentWindow(t){return this.attachToContainerInternal(t,!1)}async commandAttachToContainerInNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,n){let r;hr.isContainerItem(t)?r=t.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await pI(this.dockerParams,r),await Hy(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(t){let n;(hr.isContainerItem(t)||zc.isImageItem(t)||zc.isVolume(t)||zc.isDevVolume(t))&&(n=await t.inspect(this.dockerParams)),n&&ee.window.showTextDocument(await ee.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await ee.env.openExternal(ee.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(t){zc.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){zc.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){zc.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}static async commandNewContainer(){var r;let t=[...(r=ee.workspace.workspaceFolders)!=null&&r.length?[{label:$e.l10n.t("Open Current Folder in Container"),command:"remote-containers.reopenInContainer"}]:[],{label:$e.l10n.t("Open Folder in Container..."),command:"remote-containers.openFolder"},{label:$e.l10n.t("Open Workspace in Container..."),command:"remote-containers.openWorkspace"},{label:$e.l10n.t("New Dev Container..."),command:"remote-containers.createDevContainer"},{label:$e.l10n.t("Clone Repository in Container Volume..."),command:"remote-containers.openRepositoryInVolume"},{label:$e.l10n.t("Clone GitHub Pull Request in Container Volume..."),command:"remote-containers.openPullRequestInVolume"},{label:$e.l10n.t("Try a Sample..."),command:"remote-containers.trySample"}],n=await ee.window.showQuickPick(t,{placeHolder:$e.l10n.t("Select an action to create a dev container")});if(n)return ee.commands.executeCommand(n.command)}async commandShowContainerLog(t){if(!hr.isContainerItem(t))return;let n=new TU(this.dockerParams,t.container.Id);ee.window.createTerminal({name:t.container.Config.Image,pty:n}).show()}};function RZ(e,t,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!1);let o=new kU(e,t,s,n,r),i=ee.window.createTreeView("targetsContainers",{treeDataProvider:o});o.setMessage=a=>i.message=a,e.subscriptions.push(ee.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await o.getDockerParams(!0),o.refresh(void 0)))),e.subscriptions.push(ee.commands.registerCommand("remote-containers.newContainer",MI.commandNewContainer)),e.subscriptions.push(ee.commands.registerCommand("remote-containers.pruneVolumes",async()=>{let a=await o.getDockerParams(!0);a&&await SZ(a)}));function s(a){let c=VEe(e,a,o,n),l=new FU(e,n,r),u=ee.window.createTreeView("devVolumes",{treeDataProvider:l});e.subscriptions.push(u);let d=new MI(o,c,l,a,e,n);e.subscriptions.push(...d.registerCommands()),e.subscriptions.push(G1(e,n.product)(async()=>{o.refresh(void 0),l.refresh(void 0);let p=await st(e,r);c&&c.updateDockerParameters(p),d.updateDockerParameters(p)}))}}var kU=class{constructor(t,n,r,o,i){this.context=t;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=o;this.output=i}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_onDidChangeActiveContainer=new ee.EventEmitter;onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;dockerParams;refreshDockerParams=!1;needsSSHCredentials=!1;passiveSSHAskpassEnv;eventsProcess;setTreeMessage=()=>{};_currentContainer;currentFolder;devContainers=[];attachContainers=[];otherContainers=[];recentAttachEntries=new Map;recentAttachDevContainerEntries=new Map;recentDevComposeEntries=new Map;containerItems=new Map;action=Promise.resolve();set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=Ll(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,dp(n,!1)),this.output));try{this.dockerParams=await st(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1);let n=X1();await My(this.dockerParams,this.telemetry,n)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let o=this.containerItems.get(n.Actor.ID);this.dockerParams&&o?(async()=>(o.container=await oi(this.dockerParams,o.container.Id),this._onDidChangeTreeData.fire(o)))():this._onDidChangeTreeData.fire(o);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await _N(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}needsDockerStartOrInstallContext=void 0;async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ee.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ee.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}hasContainersContext=void 0;async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let n=ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ee.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new UI($e.l10n.t("Dev Containers"),0)),this.otherContainers.length>0&&n.push(new UI($e.l10n.t("Other Containers"),2)),n}async getChildDevContainer(t,n){let r=await this.getWorkspaceFolderFromContainer(t),o=r?[new Vc(t,r,!0)]:[],i=$l(t);i&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Vc(t,a,!1))):i&&this.recentAttachEntries.has(t.Id)?o.push(...this.recentAttachEntries.get(t.Id).map(a=>new Vc(t,a,!1))):(i=oc(t))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Vc(t,a,!1))):(i=AN(Ul(t)))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Vc(t,a,!1))):i===void 0&&this.recentDevComposeEntries.has(t.Id)&&o.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new Vc(t,a,!1)));let s=new qg(t,o,n,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){let n;if(t.groupType===0){let r=this.devContainers.map(async o=>this.getChildDevContainer(o,t));r.push(...this.attachContainers.map(async o=>{let i=new qg(o,this.recentAttachEntries.get(o.Id).map(s=>new Vc(o,s,!1)),t);return this.setContainerItems(i),i})),n=await Promise.all(r)}else n=this.otherContainers.map(r=>{let o=new qg(r,[],t);return this.setContainerItems(o),o});return n.sort((r,o)=>r.getContainerLabel().localeCompare(o.getContainerLabel()))}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let n=await ef(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await Ws(this.dockerParams,n);return this.getChildGroups(r)}else{if(hr.isGroupItem(t))return this.getChildContainers(t);if(hr.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=ee.workspace.workspaceFolders,n;if(this.dockerParams){if(t&&t.length>0){let r=this.resolverResults.get(t[0].uri.authority);r&&r.dockerContainerId&&(n=await ii(this.dockerParams,r.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await ii(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(t){if($l(t)){this.devContainers.push(t);return}else if(oc(t)){this.devContainers.push(t);return}else if(Ul(t)){this.devContainers.push(t);return}else if(Tx(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t,n){let{cliHost:r,dockerCLI:o,dockerComposePath:i}=this.dockerParams,s=Tt(r.path,t),a=n?be.from({scheme:tt.scheme,path:n}):await l3(r,s,Iy(),qn),c={cliHost:r,dockerPath:o,dockerComposePath:i,appRoot:ee.env.appRoot,extensionPath:this.context.extensionPath,package:await $r(this.context.extensionPath),output:this.output},l=a&&await Ig(c,s.rootFolderPath,a);if(l){let u=ar(this.dockerParams.env);return ee.Uri.parse(Ux(r.authority,t,l.workspace.workspaceFolder,u),!0)}}async getWorkspaceFolderFromContainer(t){let n=$l(t);if(n){let r=I3(t);return this.getWorkspaceFolderFromHostWorkspace(n,r)}else{let r=oc(t),o=m_(t),i=T3(t),s=this.dockerParams;if(r){let c=ar(s.env);return ee.Uri.parse(ls(s.cliHost.authority,r,o,i,!1,c,void 0))}let a=Ul(t);if(a){let c=ar(s.env);return ee.Uri.parse(ls(s.cliHost.authority,void 0,a.volumeName,a.folder,!1,c,void 0))}}}async getWorkspaceFolderFromHostPath(t){let n=this.dockerParams.cliHost,r=await M3(n,t,this.output),o=$3(n,r,t),i=ar(this.dockerParams.env);return ee.Uri.parse(Ux(n.authority,t,o,i),!0)}getWorkspaceFolderFromRepository(t,n,r){let o=this.dockerParams,i=ar(o.env);return ee.Uri.parse(ls(o.cliHost.authority,t,n,r,!1,i,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(t,n){let r=this.dockerParams,o=ar(r.env);return ee.Uri.parse(ls(r.cliHost.authority,void 0,t,n,!1,o,void 0),!0)}async findComposeTargetContainer(t,n){var r;return(r=n.find(o=>$l(o)===t))==null?void 0:r.Id}trySetEntryWithAttachAuthority(t,n,r){let o;if("containerName"in n){let i=r.find(s=>s.Name===n.containerName);i&&(o=i.Id)}else o=n.containerId;o&&(this.recentAttachEntries.has(o)?this.recentAttachEntries.get(o).push(t):this.recentAttachEntries.set(o,[t]))}async trySetEntryWithDevAuthority(t,n,r,o){let i=n.hostPath,s=o[i];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),o[i]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(t):this.recentAttachDevContainerEntries.set(n.hostPath,[t]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(n.repositoryPath,[t]))}trySetEntryWithDevContainerInVolumeAuthority(t,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==t.path){let o=AN(n);this.recentAttachDevContainerEntries.has(o)?this.recentAttachDevContainerEntries.get(o).push(t):this.recentAttachDevContainerEntries.set(o,[t])}}trySetEntryWithVolumeAuthority(t,n){let r=n.volumeName;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(t):this.recentAttachEntries.set(r,[t]))}async trySetEntry(t,n,r){if(!t||!t.folderUri&&!t.workspace.configPath)return;let o=t.folderUri??t.workspace.configPath,i=sf(o.authority);if(i)this.trySetEntryWithAttachAuthority(o,i,n);else{let s=ao(o.authority);s&&(ln(s)?await this.trySetEntryWithDevAuthority(o,s,n,r):ai(s)?this.trySetEntryWithRepoAuthority(o,s):of(s)?this.trySetEntryWithDevContainerInVolumeAuthority(o,s):this.trySetEntryWithVolumeAuthority(o,s))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await ee.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let o of n.workspaces)await this.trySetEntry(o,t,r)}}withProgress(t,n){return this.action=this.action.then(()=>n()),this.refresh(t)}};var zc=class{constructor(t){this.label=t}detail;context;command;type="Default";static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type==="Image"}static isVolume(t){return!!t&&t.type==="Volume"}static isDevVolume(t){return!!t&&t.type==="DevVolume"}},RU=class{constructor(t){this.detail=t}type="Image";context="image";label=$e.l10n.t("Image");inspect(t){return QG(t,this.detail)}},NU=class{constructor(t,n,r){this.label=t;this.detail=n;this.volumeDetails=r}type="Volume";context="volume";async inspect(t){return Zb(t,this.volumeDetails)}},LU=class{constructor(t,n,r,o){this.context=t;this.dockerParams=n;this.telemetry=r;this.output=o}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_container;setTreeTitle=()=>{};updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let n=new ee.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None);return n.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(n.description=t.detail,n.tooltip+=` ${n.description}`),n.contextValue=t.context,n.command=t.command,n}async getAttributes(t,n,r){let o=[];n&&o.push({label:$e.l10n.t("Workspace"),detail:n});let i=oc(t.container);i&&o.push({label:$e.l10n.t("Repository"),detail:i});let s=Ul(t.container);return s&&(o.push({label:$e.l10n.t("Volume"),detail:s.volumeName}),o.push({label:$e.l10n.t("Folder"),detail:s.folder})),o.push({label:$e.l10n.t("Name"),detail:t.container.Name}),o.push(new RU(t.container.Config.Image)),r&&o.push({label:$e.l10n.t("Configuration"),detail:r,command:{title:$e.l10n.t("Open Dev Container File"),command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),o}async getMounts(t){let n=[];return t&&t.Mounts.forEach(r=>{if(r.Type==="volume"){let o=r.Name,i=new NU($e.l10n.t("Volume"),o,o),s={label:$e.l10n.t("Destination"),detail:r.Destination};n.push({label:$e.l10n.t("Volume mount"),detail:[i,s]})}else if(r.Type==="bind"){let o={label:$e.l10n.t("Source"),detail:r.Source},i={label:$e.l10n.t("Destination"),detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:$e.l10n.t("I/O performance"),detail:$e.l10n.t("reduced by bridging OSes"),context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:$e.l10n.t("Bind mount"),detail:[o,i,...s]})}}),n}async getChildrenFromRoot(t){let n=[],r=$l(t.container),o=(t.container.Config.Labels||{})[nf];n.push({label:$e.l10n.t("Attributes"),detail:await this.getAttributes(t,r,o),type:"Title"});let i;this.dockerParams&&(i=await oi(this.dockerParams,t.container.Id));let s=await this.getMounts(i);return s.length>0&&n.push({label:$e.l10n.t("Mounts"),detail:s,type:"Title"}),n}async testContainer(){let t=!0;try{(this.dockerParams?await oi(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle($e.l10n.t("Details (Containers)"))),t}async getChildren(t){if(this._container===void 0)return[];let n=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&n.push(...t.detail),n}async refresh(t){this.dockerParams=await st(this.context,this.output),await My(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},AU=class extends zc{type="DevVolume";volumeDetails;createdAt;constructor(t){super(t.Name),this.volumeDetails=t,this.createdAt=void 0}async asTreeItem(){let t=this.getLabel(),n=new ee.TreeItem(t,ee.TreeItemCollapsibleState.None);return n.iconPath=this.iconPath,n.description=this.getDescription(),this.isUniqueVolume()?n.contextValue="uniqueDevVolume":n.contextValue="devVolume",n}isUniqueVolume(){return Hg(this.volumeDetails)}getLabel(){return AI(this.volumeDetails)}getDescription(){return FI(this.volumeDetails)}getBranchName(){return DU(this.volumeDetails)}getPullRequestId(){return IU(this.volumeDetails)}getRepository(){return OI(this.volumeDetails)}get iconPath(){return new ee.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let t="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let r=new Date,o=new Date(this.volumeDetails.CreatedAt);t=$e.l10n.t("{0} ago",PU(r,o))}return this.createdAt=t,t}async inspect(t){return Zb(t,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ee.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ee.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(t){if(!((await Al(t)).indexOf(this.volumeDetails.Name)>=0)){await ee.window.showInformationMessage($e.l10n.t("Volume '{0}' is in use and cannot be removed.",this.volumeDetails.Name),{modal:!0});return}let o=$e.l10n.t("Remove");await ee.window.showInformationMessage($e.l10n.t("Are you sure you want to remove volume '{0}'?",this.volumeDetails.Name),{modal:!0},o)===o&&await Q1(t,this.volumeDetails.Name)}},FU=class{constructor(t,n,r){this.context=t;this.telemetry=n;this.output=r}dockerParams;_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;eventsProcess;async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){if(!this.dockerParams){this.dockerParams=await st(this.context,this.output,void 0,void 0);let t=X1();await My(this.dockerParams,this.telemetry,t)!==!0&&(this.dockerParams=void 0)}return this.dockerParams}async setHasVolumesContext(t){await ee.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let n=await st(this.context,this.output),r=await ko(n),o=await Qd(n,r),i=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=o.filter(i);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new AU(a))}async resolveTreeItem(t,n){let r=await st(this.context,this.output),o=await this.getAssociatedContainers(r,n),i=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),c=n.getPullRequestId(),l=n.getTimeElapsed();return o.length>0?t.tooltip=this.renderMarkdown(i,s,a,c,l,o.join(", ")):t.tooltip=this.renderMarkdown(i,s,a,c,l,$e.l10n.t("None")),t}async getAssociatedContainers(t,n){let r=[],o=await ef(t,!0),i=await Ws(t,o);for(let s of i)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(sc(s));return r}renderMarkdown(t,n,r,o,i,s){let a=new ee.MarkdownString(void 0,!0);if(n){let c=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=n.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${l}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),o&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${o}](${l}/pull/${o})
`):a.appendMarkdown(`$(git-pull-request-create) #${o}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await _N(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},GEe="vm-active",KEe="vm-default",JEe="folder-active",XEe="folder";function $I(e,t){let n=`${t}.svg`;return{light:ee.Uri.file(e.asAbsolutePath(Bg.join("resources","light",n))),dark:ee.Uri.file(e.asAbsolutePath(Bg.join("resources","dark",n))),highContrast:ee.Uri.file(e.asAbsolutePath(Bg.join("resources","highContrast",n)))}}var WU=require("util");var Gi=G(require("vscode")),ud=require("vscode");async function NZ(e,t,n={},r={}){let o=Qa(t[0],t.slice(1),void 0),i=await ZV(t[0],t.slice(1),void 0,e.loadNativeModule),s=await Ob({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:o,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:a,connectionToken:c,remoteEnv:l,serverDownloaded:u}=await Pl(e,s,n,r);return{params:e,properties:s,config:void 0,resolvedAuthority:{host:Fl,port:a,connectionToken:c,extensionHostEnv:l},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function LZ(e,t,n){var r,o,i;if(await id(e))if(n&&n.name){let s=["get","pod",n.name,"-o","json"];n.namespace&&s.push("--namespace",n.namespace);let{cliHost:a,env:c,output:l}=t,u=(await se({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),p=(await se({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),f=JSON.parse(p),m=((r=f.spec)==null?void 0:r.containers)||[];if(!m.length){t.output.write(`No containers found. Pod details:
${p}`),await Gi.window.showErrorMessage(ud.l10n.t("No containers found."),{modal:!0},ud.l10n.t("Show Log"))&&Gi.commands.executeCommand(_t);return}let h=m.length>1?(o=await Gi.window.showQuickPick(m.map(v=>({label:v.name,detail:v.image,container:v})),{placeHolder:ud.l10n.t("Select container")}))==null?void 0:o.container:m[0];if(h){let v=((i=f.metadata)==null?void 0:i.namespace)||n.namespace,g={remoteAuthority:QEe({context:u,podname:n.name,namespace:v,name:h.name,image:h.image})};/\d$/.test(e.extensionPath)||(g.reuseWindow=!0),await Gi.commands.executeCommand("vscode.newWindow",g)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(n,void 0,"  ")}`),await Gi.window.showErrorMessage(ud.l10n.t("No Pod name found."),{modal:!0},ud.l10n.t("Show Log"))&&Gi.commands.executeCommand(_t)}async function AZ(e,t,n,r,o,i){return await id(e)?{...await ZEe(e,t,n,r,o,i),isTrusted:!0}:(await Gi.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function ZEe(e,t,n,r,o,i){let s;return Gi.window.withProgress({location:Gi.ProgressLocation.Notification,title:Dg,cancellable:!1},async a=>{try{let c=eCe(n),l=process.cwd(),u=ka(),d=await Ro(void 0,void 0,l,qn,u,e.extensionPath,await To(),t.product,o.log,Ts);s=await Sg({authority:n,extensionContext:e,sessionStart:o.sessionStart,progress:a,cliHost:d,env:d.env,cwd:l,wslSettings:u,isLocalContainer:!0,telemetry:t,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),s.setWorkspaceName(`${c.name} in ${c.podname} (${c.image})`);let p=["kubectl","exec","-it",c.podname];return c.context&&p.push("--context",c.context),c.namespace&&p.push("--namespace",c.namespace),p.push("--container",c.name,"--"),await NZ(s,p)}catch(c){let l=c instanceof De?c:new De({description:ud.l10n.t("An error occurred attaching to the container."),originalError:c});throw l.actions=[...Tg,hp,sd,Pg,mp],l}}).then(a=>(Wc(t,"k8s-container","success",o.sessionStart,s,void 0,void 0,a.properties),a),a=>{let c=a instanceof De?a:new De({description:ud.l10n.t("An error occurred attaching to the container."),originalError:a});return Wc(t,"k8s-container","failure",o.sessionStart,s,void 0,void 0,c.containerProperties,c),ad(c,"k8s-container",t,!0,o.log)})}function QEe(e){return`k8s-container+${Buffer.from(JSON.stringify(e),"utf8").toString("hex")}`}function eCe(e){let t=e.substring(e.indexOf("+")+1);try{return JSON.parse(Buffer.from(t,"hex").toString("utf8"))}catch{}return t.split("+").reduce((n,r)=>{let o=r.indexOf("=");return o!==-1&&(n[r.substr(0,o)]=decodeURIComponent(r.substr(o+1))),n},{})}var Nt=G(require("vscode")),Ht=require("vscode"),wp=G(require("fs")),Wg=G(require("os")),xp=G(require("path")),jI=require("child_process"),Yg=require("util");function HI(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function FZ(e,t){let n=e.globalStorageUri,r=ei.joinPath(n,"cli-bin");await Nt.workspace.fs.createDirectory(r);let o="";try{o=(await Nt.workspace.fs.readFile(ei.joinPath(r,"remote-containers-path"))).toString()}catch(l){if((l==null?void 0:l.code)!=="FileNotFound")return}if(o===e.extensionPath)return;let i=ei.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=HI(t),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let l of c)await Nt.workspace.fs.copy(ei.joinPath(i,l.source),ei.joinPath(r,l.destination),{overwrite:!0});process.platform!=="win32"&&await wp.promises.chmod(ei.joinPath(r,a).fsPath,493),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-app-root"),Buffer.from(Nt.env.appRoot,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-quality"),Buffer.from(t.quality??"","utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-machine-id"),Buffer.from(Nt.env.machineId,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function tCe(e,t){let n=HI(t),r="";try{let o=await So("powershell.exe");if(r=(await(0,Yg.promisify)(jI.exec)(`"${o}" -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(e)>=0)return await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI is already in your PATH"),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)}),!0;let s=Ht.l10n.t("Add"),a=Ht.l10n.t("Copy CLI Path");switch(await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be added to your PATH"),{modal:!0},s,a)){case s:let l=(0,Yg.promisify)(jI.exec)(`"${o}"  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${e}', 'User')`),u=Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI has been added to your PATH"),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});await Promise.all([l,u]);break;case a:await Nt.env.clipboard.writeText(e),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});break}return!0}catch{return!1}}async function nCe(e,t){let r=(process.env.PATH??"").split(":"),o=[xp.join(Wg.homedir(),"bin"),xp.join(Wg.homedir(),".local/bin")],i="/usr/local/bin";Wg.platform()==="darwin"&&o.push(i);let s=(0,Yg.promisify)(wp.stat);for(let a of o){if(r.findIndex(m=>m===a)<0)continue;try{await s(a)}catch{continue}let c=HI(t),l=xp.join(a,`devcontainer${c}`);try{let m=await s(l);return console.log(m),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI is already symlinked in {0}",a),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)}),!0}catch(m){if((m==null?void 0:m.code)!=="ENOENT")return!1}let u=Ht.l10n.t("Create"),d=Ht.l10n.t("Copy CLI Path"),p=await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be in your PATH"),{detail:Ht.l10n.t("Create a symlink in {0}?",a),modal:!0},u,d),f=xp.join(e,`devcontainer${c}`);switch(p){case u:if(a===i){if(!await rCe(f,l))break}else await(0,Yg.promisify)(wp.symlink)(f,l);await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI has been symlinked in {0}",a),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break;case d:await Nt.env.clipboard.writeText(e),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break}return!0}return!1}async function rCe(e,t){try{return await wp.promises.symlink(e,t),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;let r=Ht.l10n.t("OK");if(await Nt.window.showInformationMessage(Ht.l10n.t("This will now prompt with 'osascript' for Administrator privileges to install the shell command."),{modal:!0},r)===r){let s=`"${await So("osascript")}" -e "do shell script \\"mkdir -p ${xp.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,Yg.promisify)(jI.exec)(s),!0}return!1}}async function OZ(e,t){let n=e.globalStorageUri,r=ei.joinPath(n,"cli-bin").fsPath;switch(Wg.platform()){case"win32":if(await tCe(r,t))return;break;case"darwin":case"linux":if(await nCe(r,t))return;break}let o=Ht.l10n.t("Copy CLI Path");if(await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be included your PATH"),{modal:!0},o)===o){await Nt.env.clipboard.writeText(r);let s=HI(t);await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${s}`)})}}var vo=G(require("vscode")),Tr=require("vscode"),OU=G(require("path"));var oCe=Tr.l10n.t("Select Dev Container Configuration"),iCe=Tr.l10n.t('[Creating Dev Container (show log)](command:remote-containers.revealLogTerminal "Show details in terminal")'),UZ="alpine:3.16.3";async function MZ(e,t,n){let r=await sCe(e,t,n);if(!r)return;let{volumeAndFolderName:o}=r,i=ar(t.env),s=vo.Uri.parse(ls(t.cliHost.authority,void 0,o,o,!1,i,void 0));await pp({uri:s,type:"folder",label:Tr.l10n.t("{0} [Dev Container]",o)}),await vo.commands.executeCommand("vscode.openFolder",s)}async function sCe(e,t,n){let{output:r}=t,o=ze(t,"pull",UZ),i=await uU({telemetry:n,output:r,openConfigurationCommandId:up,showLogCommandId:_t},oCe,!0);i.askForTrust=!0;let s=await ko(t),a=async()=>{i.skipOptions=!0;let d=await vI(i,void 0,void 0,Promise.resolve(void 0));if(d==="back"||!d)return;let p=d.metadata.template;if(rU.indexOf(p.owner)===-1){let f=`@${p.owner}`,m={label:Tr.l10n.t("Trust {0}",f),description:Tr.l10n.t("from GitHub"),buttons:[{iconPath:new vo.ThemeIcon("info"),tooltip:Tr.l10n.t("Open Documentation")}]},h={label:Tr.l10n.t("Back")},v={label:Tr.l10n.t("Cancel")},g=i.quickPick.onDidTriggerItemButton(()=>{vo.env.openExternal(vo.Uri.parse(p.documentationURL))}),y=await go(i.quickPick,[m,h,v],Tr.l10n.t("The {0} is from the {1} GitHub owner/organization.",p.name,f),void 0,void 0,!0);if(g.dispose(),!y||y===v)return;if(y==="back"||y===h)return a()}return $Z(i,d,s,aCe(d.id,s),a)},c=await a();if(!c){i.quickPick.dispose();return}let{selectedTemplate:l,volumeName:u}=c;return vo.window.withProgress({location:vo.ProgressLocation.Notification,title:iCe,cancellable:!1},async()=>{let d;try{await Nm(t,u,[`${p_}=true`]),await o;let{stdout:p}=await ze(t,...cCe(u,rf()));d=p.toString().trim();let f=OU.posix.join(rf(),u),m=as(t,d,"root"),h=await Ys(t,d,"root",qn),v=ni("container",f,{},m,h,()=>{throw new Error("not implemented")},"node",r);await v.mkdirp(f);let g=Tt(OU.posix,f),y=await cU(i,v,g.configFolderPath,"workspace",l);return i.quickPick.hide(),y?{volumeAndFolderName:u}:void 0}finally{if(d)try{await ze(t,"rm","-f",d)}catch{}}})}function aCe(e,t){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(e)||[])[1]||"devcontainer",o=0;do n=`${r}${o++?`-${o}`:""}`;while(t.indexOf(n)!==-1);return n}async function $Z(e,t,n,r,o){let{quickPick:i}=e;i.placeholder=Tr.l10n.t("Dev container name"),i.selectedItems=[],i.value=r,i.buttons=[vo.QuickInputButtons.Back];let s={label:Tr.l10n.t("Additional Options..."),alwaysShow:!0},a=!1;function c(){a=!1,i.items=[{label:Tr.l10n.t("Create Dev Container"),description:i.value,alwaysShow:!0},s]}function l(f){a=!0,i.items=[{label:f,alwaysShow:!0}]}c();let u=[],d=await new Promise(f=>{u=[i.onDidAccept(()=>{i.value?a||f({volumeName:i.value,options:i.selectedItems[0]===s}):l(Tr.l10n.t("The name cannot be empty."))}),i.onDidHide(()=>f(void 0)),i.onDidChangeValue(m=>{n.indexOf(m)!==-1?l(Tr.l10n.t("A Docker volume with this name already exists.")):m&&!/^[a-zA-Z0-9]/.test(m)?l(Tr.l10n.t("Only alphanumeric characters are allowed as the first character.")):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?l(Tr.l10n.t("Only alphanumeric characters, periods, underscores and hyphens are allowed.")):c()}),i.onDidTriggerButton(()=>f("back"))]});if(u.forEach(f=>f.dispose()),!d)return;if(d==="back")return o();let{volumeName:p}=d;if(d.options){let m=await(async()=>{e.skipOptions=!1;let h=await gp(e,t.metadata.template,Promise.resolve(void 0),async()=>{let v=await $Z(e,t,n,p,o);if(v)return p=v.volumeName,v.selectedTemplate});if(!(h==="back"||!h))return h})();if(!m)return;t=m}return i.busy=!0,i.enabled=!1,{volumeName:p,selectedTemplate:t}}function cCe(e,t){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,UZ,"sleep","infinity"]}F.l10n.bundle&&WZ.config({contents:F.l10n.bundle});var $U=class{constructor(t,n,r){this.context=t;this.output=n;this.telemetry=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let n=VZ.parse(t.query);if(!n.url){F.window.showErrorMessage(oe.l10n.t("Failed to handle the URI '{0}' expected a 'url' query parameter.",t.toString()),{modal:!0});return}let r;if(Array.isArray(n.url)?r=n.url[0]:r=n.url,!await eo(this.context,this.output.log,this.output.onDidInput,this.telemetry,"cloneInVolume"))return;let o=await st(this.context,this.output.log);if(await uR(o.cliHost,r,o.cliHost.type==="local"?await sI(this.output.log):{},this.output.log)===!1){F.commands.executeCommand(_t),await F.window.showErrorMessage(oe.l10n.t("Cannot access the repository '{0}'.",r),{modal:!0});return}await F.commands.executeCommand(oI,n.url)}};async function uCe(e){var R;nX();let t=new Date;tX(e);let n,r=new Promise(C=>n=C);sX(r);let o=await $r(e.extensionPath),i=await Qv(F.env.appRoot);rX(e,i);let s=eX(e,o,i),a=await iX(o,i),c=new _y(e.logPath,t,a);e.subscriptions.push(F.commands.registerCommand(_t,()=>c.show()));let{channel:l,postCreate:u}=QJ(c.log,t);e.subscriptions.push(F.commands.registerCommand(z1,()=>l.show()));let d,p=new Promise(C=>d=C);e.subscriptions.push(F.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:iI(c,u,Qr.results,n,d,async(C,_,b,S)=>HX(e,s,C,_,Qr.onRemoveOnShutdownChanged,b,S)),async getCanonicalURI(C){let _=ao(C.authority);if(_&&ln(_)){let{hostPath:b,settings:S}=_;return Er(b)?Em(b,c.log):Cl(S)?ux(S.host,b):bl(_.parentAuthority)?b.startsWith("/")?Hl(_.parentAuthority,b):C:ic(_.parentAuthority)?b.startsWith("/")?Hl(_.parentAuthority,b):C:F.Uri.file(b)}return C}}),F.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:iI(c,u,Qr.results,n,d,async(C,_,b,S)=>tZ(e,s,C,_,b,S))}),F.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:iI(c,u,Qr.results,n,d,async(C,_,b,S)=>AZ(e,s,C,_,b,S))}),F.window.registerUriHandler(new $U(e,c,s)));let f=async(C,_,b)=>{if(!await eo(e,c.log,c.onDidInput,s,"openInContainer"))return;let S=await st(e,c.log),A;if(hr.isFolderItem(C)?A=C.folder:A=C,A.scheme==="vscode-remote"&&A.authority.startsWith("dev-container+"))return F.commands.executeCommand("vscode.openFolder",A,b);{let L=Tt(S.cliHost.path,Ie(A,S.cliHost.platform));return By(e,L,S,c.onDidInput,s,_,b)}};e.subscriptions.push(F.commands.registerCommand("remote-containers.openFolder",async(C,_)=>C?f(C,!1,_):UU(e,!0,s,!1,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openWorkspace",async(C,_)=>C?f(C,!1,_):UU(e,!1,s,!1,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand(UJ,async C=>Vg(e,s,c.log,c.onDidInput,C))),e.subscriptions.push(F.commands.registerCommand(oI,async C=>Vg(e,s,c.log,c.onDidInput,C,Ai))),e.subscriptions.push(F.commands.registerCommand($J,async()=>{var T,$,H;let _=(await((T=F.extensions.getExtension("vscode.git"))==null?void 0:T.activate())).getAPI(1);if(_.repositories.length===0)return;let b=_.repositories.reduce((Y,J)=>{let ue=J.state.remotes.find(Ne=>{var Pe,Ze;return Ne.name===((Ze=(Pe=J.state.HEAD)==null?void 0:Pe.upstream)==null?void 0:Ze.remote)});return ue!=null&&ue.pushUrl&&Y.push({repository:J,label:ue.pushUrl}),Y},[]),S=b[0];if(b.length>1){let Y=await F.window.showQuickPick(b,{canPickMany:!1,placeHolder:oe.l10n.t("Choose which repository to clone")});if(Y===void 0)return;S=Y}let A=S.label,L=(H=($=S.repository.state.HEAD)==null?void 0:$.upstream)==null?void 0:H.name;return Vg(e,s,c.log,c.onDidInput,{url:A,branch:L},Ai)})),e.subscriptions.push(F.commands.registerCommand(MJ,async()=>{var L;let C=F.workspace.workspaceFolders;if(!C)return;let _=C[0].uri;if(C.length>1){let T=await F.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:oe.l10n.t("Choose a repository to clone in a Container Volume")});_=T==null?void 0:T[0]}let b,S;try{let T=await F.commands.executeCommand("remoteHub.api.getRepositoryContext",_);if(!T)throw new Error("Unable to get active repository context.");b=T.name,S=T.ref}catch{let H=await(await((L=F.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:L.activate())).getMetadata(_);if(!H)throw new Error("Unable to get active repository context.");b=`${H.repo.owner}/${H.repo.name}`,S=(await H.getRevision()).name}let A=`https://github.com/${b}`;return S&&(A=`${A}/tree/${S}`),Vg(e,s,c.log,c.onDidInput,A,Ai)})),e.subscriptions.push(F.commands.registerCommand(jJ,async C=>CCe(e,s,c.log,c.onDidInput,C,Ai))),e.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolume",async(C,_,b)=>JZ(e,C,_,b,s,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async C=>bCe(e,C,s,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async C=>Vg(e,s,c.log,c.onDidInput,void 0,C))),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInContainer",()=>m(!1))),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>m(!0))),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>m("rebuildNoCache")));let m=async C=>{if(!await F.workspace.requestWorkspaceTrust({message:Py})||!await eo(e,c.log,c.onDidInput,s,"reopenInContainer"))return;let b=await st(e,c.log),S=F.workspace.workspaceFile;if(S&&S.scheme==="untitled"){await eI();return}let A=F.workspace.workspaceFolders;if(!S&&A&&A.length){let T=A.length>1?await F.window.showWorkspaceFolderPick({placeHolder:oe.l10n.t("Pick a folder to reopen in a container.")}):A[0];T&&(S=T.uri)}let L=K1(S);if(L){await qy(e,L.repositoryPath,L.volumeName,L.folder,b);return}if(S){let T;if(b.cliHost.type==="wsl"&&S.scheme==="file"){let H=Ie(S,process.platform),Y=Yd(H)||dI()||await lx(b.output)||(()=>{throw new Error("No default WSL distro found.")})();T=await El(Y,H,b.output)}else T=Ie(S,b.cliHost.platform);let $=Tt(b.cliHost.path,T);await By(e,$,b,c.onDidInput,s,C,{forceReuseWindow:!0})}else return UU(e,!0,s,C,c.log,c.onDidInput)};e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenLocally",async()=>{let C=F.workspace.workspaceFolders,_=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(_&&_.scheme==="vscode-remote"){let b=ao(_.authority);if(b&&ln(b)){let S=F.Uri.file(b.hostPath),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",S,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen Locally' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let C=F.workspace.workspaceFolders,_=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(_&&_.scheme==="vscode-remote"){let b=ao(_.authority);if(b&&ln(b)&&Er(b.hostPath)){let S=F.Uri.parse((await Em(b.hostPath,c.log)).toString()),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",S,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in WSL' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let C=F.workspace.workspaceFolders,_=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(_&&_.scheme==="vscode-remote"){let b=ao(_.authority),S=b==null?void 0:b.settings;if(b&&ln(b)&&(bl(b.parentAuthority)||Cl(S))){let A=Cl(S)?ux(S.host,b.hostPath):Hl(b.parentAuthority,b.hostPath),L={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",F.Uri.parse(A.toString()),L)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in SSH' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInTunnel",async()=>{let C=F.workspace.workspaceFolders,_=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(_&&_.scheme==="vscode-remote"){let b=ao(_.authority);if(b&&ln(b)&&ic(b.parentAuthority)){let S=F.Uri.parse(Hl(b.parentAuthority,b.hostPath).toString()),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",S,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in Tunnel' not possible in current context."))}}));let h=async C=>{var L;if(!await id(e))return;let _,b=typeof C=="string"?C:(L=C==null?void 0:C.containerDesc)==null?void 0:L.Id;if(b){if(!await eo(e,c.log,c.onDidInput,s,"attachToContainer"))return;let T=await st(e,c.log);_=await oi(T,b)}else{let T=eo(e,c.log,c.onDidInput,s,"attachToContainer");if(_=await RCe(e,c.log,T),!_)return}let S=await st(e,c.log),A=e.extensionMode===F.ExtensionMode.Development;Hy(S,_,e,!A)};e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainer",h)),e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",h)),e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async C=>LZ(e,await st(e,c.log),C)));let v=async C=>{var b;if(!await eo(e,c.log,c.onDidInput,s,"checkoutPRInVolume"))return;let _=(b=C==null?void 0:C.pullRequestModel)==null?void 0:b.html_url;Vg(e,s,c.log,_,Ai)};e.subscriptions.push(F.commands.registerCommand("remote-containers.checkoutPRInVolume",v)),e.subscriptions.push(F.commands.registerCommand("remote-containers.switchContainer",async()=>{let C=await st(e,c.log),_=Tt(C.cliHost.path,C.cliHost.cwd);if((await GZ(C.cliHost,_,await Yc(e,C.cliHost))).length<2){await F.window.showInformationMessage(oe.l10n.t("No other Dev Container configurations found in folder. Did you mean to open another folder in a container?"),{modal:!0},oe.l10n.t("Open Folder in Container..."))&&F.commands.executeCommand("remote-containers.openFolder");return}await By(e,_,C,c.onDidInput,s,!1)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let C=od();if(C){let _=await st(e,c.log);await qy(e,C.repositoryPath,C.volumeName,C.folder,_,!0);return}return await Promise.all(Qr.onRemoveOnShutdownChangedEmitter.fire(!0)),F.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let C=od();if(C){let _=await st(e,c.log);await qy(e,C.repositoryPath,C.volumeName,C.folder,_,"rebuildNoCache");return}return await Promise.all(Qr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),F.commands.executeCommand("workbench.action.reloadWindow")}));let g=BJ(),y=((R=(F.workspace.workspaceFolders||[])[0])==null?void 0:R.uri)||be.file(process.cwd()),x=g.then(C=>Pa(C,y)),w,E=()=>w||(w=st(e,c.log).then(C=>C.cliHost)),I,D=()=>I||(I=(async()=>{let C=await x,_=await E(),b=F.env.remoteName==="dev-container"&&F.env.remoteAuthority&&ao(F.env.remoteAuthority),A=!b||ln(b)?await Yc(e,_):void 0;return c.log.write("Initializing configuration support..."),jX(e,{fileHost:C,userDataFolderForConfigurations:A,findDevContainerFiles:async L=>mI(_,Tt(C.path,Ie(y,C.platform)),A,L),telemetry:s,output:c.log,openConfigurationCommandId:up,showLogCommandId:_t})})());async function k(){var C;return(C=F.workspace.workspaceFolders)!=null&&C.length?!0:(await F.window.showInformationMessage(oe.l10n.t("Open a folder to create the configuration files in first."),{modal:!0},oe.l10n.t("Open Folder"))&&await F.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder"),!1)}e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{await k()&&await BI(e,await E(),await D(),s,c.log,c.onDidInput)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainerFileWithCopilot",async()=>{await k()&&await BI(e,await E(),await D(),s,c.log,c.onDidInput,{picker:"copilot"})})),e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainer",async()=>{if(!await eo(e,c.log,c.onDidInput,s,"createDevContainer"))return;let C=await st(e,c.log);await MZ(e,C,s)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openDevContainerFile",async(C,_)=>{let b,S=await st(e,c.log),A;if(typeof C=="string"?b=[{type:"unknown",uri:be.file(C),fileHost:Pa(process.platform,be.file(St.dirname(C)))}]:(A=await mI(S.cliHost,Tt(S.cliHost.path,S.cliHost.cwd),await Yc(e,S.cliHost)),b=(await Promise.all(A.map(L=>L.uri.scheme==="file"||L.uri.scheme==="vscode-remote"?L:S.cliHost.toCommonURI(Ie(L.uri,S.cliHost.platform)).then(T=>T&&{type:L.type,uri:T})))).filter(L=>!!L)),b.length){let L=await ap(b);if(!L||L==="cancelled")return;let T=od();if(T){let $=ZJ(T.folder);for(let H of $){try{await F.workspace.openTextDocument(F.Uri.parse(H.toString()))}catch{continue}await F.commands.executeCommand("vscode.open",F.Uri.parse(H.toString()),_);return}return}if(L){if(L.scheme==="file"&&await gr(L.fsPath))return await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),_);if(L.scheme==="file"&&Qr.results.size)return await Ni(is,L,[],nc),await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),_);if(L.scheme==="vscode-remote")return await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),_);if(C===void 0)return await BI(e,await E(),await D(),s,c.log,c.onDidInput)}}else if(C===void 0&&!(A!=null&&A.length))return await BI(e,await E(),await D(),s,c.log,c.onDidInput)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:C,dockerParams:_}=[...Qr.results.values()][0];if(!C||!_)return F.window.showInformationMessage(oe.l10n.t("Named configurations are only available for Docker containers."),{modal:!0});let b=await oi(_,C),S=_I(e.globalStoragePath,b),A=F.Uri.file(S);return await gr(S)?F.commands.executeCommand("vscode.open",A):(await Ni(is,A,[],nc),F.commands.executeCommand("vscode.open",A))})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let C=[...(await JX(e.globalStoragePath)).map(b=>({label:b.name,...b})).sort((b,S)=>b.label.localeCompare(S.label)),...(await ZX(e.globalStoragePath)).map(b=>({label:b.image,...b})).sort((b,S)=>b.label.localeCompare(S.label))],_=await F.window.showQuickPick(C.length?C:[{label:oe.l10n.t("No configuration found.")}],{placeHolder:oe.l10n.t("Choose a configuration file")});if(_&&"uri"in _)return F.commands.executeCommand("vscode.open",F.Uri.parse(_.uri.toString()))})),e.subscriptions.push(F.commands.registerCommand("remote-containers.settings",async()=>F.commands.executeCommand("workbench.action.openSettings",`@ext:${BZ()}`))),e.subscriptions.push(F.commands.registerCommand("remote-containers.getHelp",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(F.commands.registerCommand("remote-containers.getStarted",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(F.commands.registerCommand("remote-containers.reportIssue",async()=>{let C={extensionId:BZ(),issueBody:oe.l10n.t("For bug reports please include the complete log output. (In the VS Code window: `F1` > `Dev Containers: Show Container Log`.)")};return F.commands.executeCommand("vscode.openIssueReporter",C)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.provideFeedback",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),x.then(C=>{e.subscriptions.push(F.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new RI(C)))}),e.subscriptions.push(F.commands.registerCommand("remote-containers.trySample",()=>MCe(e,c,s))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openLogFile",()=>$Ce(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openLastLogFile",()=>jCe(e,"remoteContainers",c.logFilePath))),e.subscriptions.push(F.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>ACe(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>fCe(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.installDocker",()=>II(c.log))),e.subscriptions.push(F.commands.registerCommand("remote-containers.installDockerInWSL",()=>kI(e,c.log,c.onDidInput,s))),e.subscriptions.push(F.commands.registerCommand("remote-containers.cleanUpDevContainers",async()=>_Z(await st(e,c.log)))),RZ(e,Qr.results,s,c.log),FZ(e,i).catch(C=>{c.log.write(`Error ensuring user CLI is configured: ${(C==null?void 0:C.stack)||(C==null?void 0:C.message)||String(C)}`)}),e.subscriptions.push(F.commands.registerCommand("remote-containers.installUserCLI",()=>OZ(e,i))),e.subscriptions.push(F.commands.registerCommand("remote-containers.testConnection",async()=>{await F.commands.executeCommand(_t);let C=[...Qr.results.values()][0];if(!C){c.log.write("Not connected.");return}let{params:_,properties:b}=C;await Sb(_,b)})),(async()=>{hI()&&await p;let C=F.env.remoteName,_=!C||["dev-container","attached-container","wsl","ssh-remote","tunnel","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[],b=await D();e.subscriptions.push(F.languages.registerCompletionItemProvider([..._,{pattern:St.join(SI(e.globalStoragePath),"*.json")},{pattern:St.join(bI(e.globalStoragePath),"*.json")}],b.createCompletionItemProvider())),C!=="codespaces"&&(b.startCodeLensProvider(),b.startHoverProvider(),b.startDiagnosticsCollection()),await XJ(e)||await XZ(e,await E(),s,c.log,c.onDidInput)})().catch(console.error),pCe(e),e.subscriptions.push(F.commands.registerCommand("remote-containers.addExtensionToConfig",async C=>(await D()).addExtensionToConfiguration(C)),F.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>(await D()).configureContainerFeatures()),F.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",async C=>(await D()).addPortLabelToConfiguration(C))),od()&&F.commands.executeCommand("setContext","isRecoveryContainer",!0),WJ(e).catch(C=>c.log.write(`Error remembering local extensions: ${(C==null?void 0:C.stack)||(C==null?void 0:C.message)||String(C)}`))}var HZ="showRecoveryContainerNotification",zZ="showReopenInContainerNotificationReset",dCe=5e3;function fCe(e){return e.globalState.update(zZ,Date.now())}async function pCe(e){setTimeout(async()=>{let t=e.globalState.get(zZ);if(qU(e.globalState.get(HZ),t))return;if(od()){let r=oe.l10n.t("This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry."),o=oe.l10n.t("Reopen in Container"),i=oe.l10n.t("Don't Show Again"),s=await F.window.showInformationMessage(r,o,i);s===o?F.commands.executeCommand("remote-containers.reopenInContainer"):s===i&&await e.globalState.update(HZ,Date.now())}},dCe)}async function mCe(){await Promise.all([...Qr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(n){console.error(n)}}))))}function BZ(){let{name:e,publisher:t}=jZ();return`${t}.${e}`}async function UU(e,t,n,r,o,i){var p;if(!await eo(e,o,i,n,"openInContainer"))return;let s=await st(e,o),a,c=F.workspace.workspaceFolders;if(c&&c[0]){let f=c[0].uri;if(f.scheme==="vscode-remote"){let m=ao(f.authority);if(m&&ln(m)){let h=Tt(s.cliHost.path,m.hostPath);a=F.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote|tunnel)\+/.test(f.authority)&&(a=f)}else f.scheme==="file"&&(a=f)}a||((p=F.env.remoteName)!=null&&p.match(/^(wsl|ssh-remote|tunnel)$/)?a=F.Uri.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:await s.cliHost.homedir()}):a=F.Uri.file(YZ.homedir()));let l=t?{defaultUri:a,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:oe.l10n.t("Open")}:{defaultUri:a,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{[oe.l10n.t("Code Workspace")]:["code-workspace"]},openLabel:oe.l10n.t("Open")},u=await F.window.showOpenDialog(l),d=u&&u[0];if(d){let f=t?d:d.with({path:St.posix.dirname(d.path)}),m=await st(e,s.output,f,J1()==="always"),h=Ie(d,m.cliHost.platform),v=Tt(m.cliHost.path,h);await By(e,v,m,i,n,r)}}async function By(e,t,n,r,o,i,s){try{await hCe(e,t,n,r,o,i,s)}catch(a){await ad(a,"ui",o,!1,n.output)}}async function hCe(e,t,n,r,o,i,s){var k;let{cliHost:a}=n;if(Er(t.rootFolderPath)){if(!await eo(e,n.output,r,o,"openInContainer",t.rootFolderPath))return;n=await st(e,n.output,t.rootFolderPath),a=n.cliHost,t=Tt(a.path,t.isWorkspaceFile?a.path.join(a.cwd,St.basename(t.workspaceOrFolderPath)):a.cwd)}let c=await jC(a,t);if(c){let N=oe.l10n.t("Continue");if(await F.window.showInformationMessage(oe.l10n.t("The workspace could fail to open in a container: {0}",c),{modal:!0},N)!==N)return}let l=await xCe(e,a,t);if(l==="cancelled")return;let u=l&&(l.scheme==="file"?await ct(l.fsPath):await a.readFile(Ie(l,a.platform))).toString(),d=!!(u&&((k=We(u))!=null&&k.initializeCommand)),{dockerCLI:p,dockerComposePath:f}=n,m={cliHost:a,dockerPath:p,dockerComposePath:f,appRoot:F.env.appRoot,extensionPath:e.extensionPath,package:await $r(e.extensionPath),output:n.output},h=l&&await(d?Ig(m,t.rootFolderPath,l):await nU(m,t.rootFolderPath,l)||Ig(m,t.rootFolderPath,l));if(h==="canceled")return;if(!h&&l){let N=Ie(l,a.platform),R=await a.toCommonURI(N);R&&F.window.showTextDocument(F.Uri.parse(R.toString()));let C=oe.l10n.t("Show Log");await F.window.showErrorMessage(oe.l10n.t("Failed to read Dev Container configuration '{0}' file.",a.path.relative(t.configFolderPath,N)),{modal:!0},C)===C&&F.commands.executeCommand(_t);return}let v=h&&!zb(h.configuration);if(!h||v){let N=await yI({fileHost:a,userDataFolderForConfigurations:await Yc(e,a),telemetry:o,output:n.output,openConfigurationCommandId:up,showLogCommandId:_t},t,void 0,h==null?void 0:h.configuration.configFilePath);if(!N||(l=be.file(N).with({scheme:tt.scheme}),h=await nU(m,t.rootFolderPath,l),!h||h==="canceled"))return}if(!await oX(e,n,h.configuration)||!await yCe(n,"mergedConfiguration"in h?h.mergedConfiguration:h.configuration))return;let g=h.configuration,y=h.workspace.workspaceFolder,x=a.type==="wsl"?(await a.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,w=(l==null?void 0:l.scheme)===tt.scheme&&a.type==="wsl"&&!Er(x)&&await a.toCommonURI(Ie(l,a.platform))||l;if(Po(g)){let N=Zd(a,g);if(!g.initializeCommand&&!await sr(a).readDocument(N))return Wy(oe.l10n.t('"{0}" does not exist.',N.fsPath),a,g.configFilePath);if(g.workspaceFolder&&!St.posix.isAbsolute(g.workspaceFolder))return Wy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),a,g.configFilePath)}else if(!("image"in g))if("dockerComposeFile"in g){let N=a.type==="wsl"?t.isWorkspaceFile?St.dirname(x):x:t.rootFolderPath;if(!await xZ(n)||!await NCe(N,w,n,g))return}else{let N=g.configFilePath;return Wy(oe.l10n.t('Configuration "{0}" not valid.',a.path.relative(t.rootFolderPath,Ie(N,a.platform))),a,N)}t.isWorkspaceFile&&(y=St.posix.join(y,a.path.basename(t.workspaceOrFolderPath)));let E=ar(n.env),I=(a.type==="local"||a.type==="wsl")&&Cl(E),D=F.Uri.parse(Ux(F.env.remoteAuthority,x,y,E,I,w));await pp({uri:D,type:t.isWorkspaceFile?"workspace":"folder",label:oe.l10n.t("{0} [Dev Container]",`${yy(a.platform,t.workspaceOrFolderPath,await a.homedir())}${Mm(F.env.remoteAuthority,E)}`)}),await eU(e,i?D.authority:!1),await Dy(e,i==="rebuildNoCache"?D.authority:!1),await F.commands.executeCommand("vscode.openFolder",D,s)}async function GZ(e,t,n){let r=await wCe(e,t.rootFolderPath),i=(r==null?void 0:r.scheme)==="file"&&process.platform==="win32"&&Er(r.fsPath)&&!F.workspace.getConfiguration("security").get("allowedUNCHosts",[]).includes(r.authority)?vCe(e,t):gCe(r,e,t);return(await Promise.all([i.then(s=>s.map(a=>({type:"workspace",uri:a,fileHost:e}))),tU(e,t).then(s=>s.map(a=>({type:"repositoryConfig",uri:a,fileHost:Pa(process.platform,a.with({path:St.posix.dirname(a.path)}))}))),n?tI(e,t,n).then(s=>s.map(a=>({type:"userData",uri:a,fileHost:e}))):[]])).flat()}async function gCe(e,t,n){return Promise.all((await qc(e)).map(async o=>{if(!e){let i=St.posix.relative(F.workspace.workspaceFolders[0].uri.path,o.path),s=t.platform==="win32"?"/"+n.rootFolderPath.replace(/\\/g,"/"):n.rootFolderPath;return be.from({scheme:tt.scheme,path:St.posix.join(s,i)})}return o.scheme===so.scheme?be.from({scheme:tt.scheme,path:o.path}):t.type==="wsl"&&o.scheme==="file"?be.from({scheme:tt.scheme,path:await l_(o,t)}):o}))}async function vCe(e,t){let n=e.path.join(t.rootFolderPath,".devcontainer"),r=[...Rl(e.path,t.rootFolderPath),...(await e.readDirWithTypes(n)).filter(([,o])=>(o&2)!==0).map(([o])=>e.path.join(n,o,"devcontainer.json"))];return(await Promise.all(r.map(o=>e.isFile(o).then(i=>i?be.from({scheme:tt.scheme,path:o}):void 0)))).filter(Boolean)}async function xCe(e,t,n){let r=await GZ(t,n,await Yc(e,t)),o;if(F.env.remoteAuthority){let i=ao(F.env.remoteAuthority);i&&ln(i)&&(o=i.configFile)}return ap(r,o)}function wCe(e,t){switch(e.type){case"local":return be.file(t);case"wsl":return F.env.remoteName==="wsl"?be.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:t}):e.toCommonURI(t);case"remote":return F.env.remoteName==="ssh-remote"||F.env.remoteName==="tunnel"?Rn(e.platform,be.from({scheme:"vscode-remote",authority:F.env.remoteAuthority}),t):void 0;default:return}}async function yCe(e,{hostRequirements:t}){var r,o;let n=t&&ECe(t);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let i=await ze(e,"info","--format","{{json .}}"),s=JSON.parse(i.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,c=s.MemTotal&&n.memory&&n.memory>s.MemTotal,l=((o=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:o.path)==="nvidia-container-runtime";if(a||c){let u=[];s.NCPU&&u.push(oe.l10n.t("CPUs {0}",s.NCPU.toLocaleString())),s.MemTotal&&u.push(oe.l10n.t("RAM {0}",MU(s.MemTotal))),l&&u.push(oe.l10n.t("GPU"));let d=[];n.cpus&&d.push(oe.l10n.t("CPUs {0}",n.cpus.toLocaleString())),n.memory&&d.push(oe.l10n.t("RAM {0}",MU(n.memory))),n.storage&&d.push(oe.l10n.t("disk {0}",MU(n.storage))),n.gpu&&n.gpu!=="optional"&&d.push(oe.l10n.t("GPU"));let p=oe.l10n.t(`Docker daemon: {0}
devcontainer.json: {1}`,u.join(", "),d.join(", "));if(!await F.window.showInformationMessage(oe.l10n.t("Not all host requirements in devcontainer.json are met by the Docker daemon."),{modal:!0,detail:p},oe.l10n.t("Continue")))return!1}}return!0}function ECe(e){return{cpus:e.cpus||0,memory:qZ(e.memory||"0"),storage:qZ(e.storage||"0"),gpu:e.gpu}}function qZ(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,n,r]=t,o=parseInt(n,10),i=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return o*i}return 0}function MU(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),n=e/Math.pow(2,10*t),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),o=Math.round(n*r)/r,i=[" bytes","kb","mb","gb","tb"][t];return`${o.toLocaleString()}${i}`}async function Vg(e,t,n,r,o,i){if(!await Ty(e))return;let s=null;if(!await eo(e,n,r,t,"cloneInVolume"))return;let a=await st(e,n);if(typeof o=="string")s=o;else{let c;if(o!==void 0?c=o:c=await F.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:l=>oe.l10n.t("Clone a repository from {0} in a Container Volume",l.name),urlLabel:oe.l10n.t("Clone git repository from URL"),branch:!0}),c){s=(typeof c=="string"?c:c.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let l=Gs(s);if(await uR(a.cliHost,l.repositoryUrl,a.cliHost.type==="local"?await sI(a.output):{},a.output)===!1){F.commands.executeCommand(_t),await F.window.showInformationMessage(oe.l10n.t("Cannot access the repository '{0}'.",l.repositoryUrl),{modal:!0});return}typeof c!="string"&&c.branch&&(s=`${s}/tree/${c.branch}`)}}s&&await KZ(e,a,s,i)}async function KZ(e,t,n,r){if(r||(r=await SCe(t)),r){let o=YU(n);r!==Ai&&(o=await ICe(n)),o&&await qy(e,n,r,o,t)}}async function CCe(e,t,n,r,o,i){if(!await Ty(e))return;let s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await eo(e,n,r,t,"checkoutPRInVolume"))return;let a=await st(e,n),c={placeHolder:oe.l10n.t("e.g. https://github.com/microsoft/vscode/pull/123"),prompt:oe.l10n.t("Enter a GitHub pull request url"),validateInput:d=>s.test(d)?void 0:oe.l10n.t("Invalid pull request url")},l;if(o?l=o:l=await F.window.showInputBox(c),!l)return;let u=Gs(l);if(u.repository==="unknown"||!u.pullRequestId){await F.window.showInformationMessage(oe.l10n.t("Invalid pull request URL '{0}'.",l),{modal:!0});return}await KZ(e,a,l,i)}async function JZ(e,t,n,r,o,i,s){if(!await eo(e,i,s,o,"inspectVolume"))return;let a=await st(e,i);t||(t=await _Ce(a)),t&&(n&&r?await kCe(t,n,r,a):await TCe(t,a))}async function bCe(e,t,n,r,o){await eo(e,r,o,n,"inspectVolume")&&t&&t.volumeName&&await JZ(e,t.volumeName,void 0,void 0,n,r,o)}var Yy=class{get detail(){return""}},jU=class extends Yy{get label(){return oe.l10n.t("$(plus) Create a new volume...")}get description(){return""}get volumeName(){return""}get detail(){return oe.l10n.t("Use this volume to store several cloned repositories.")}get alwaysShow(){return!0}},HU=class extends Yy{volume;constructor(t){super(),this.volume=t}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let t=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",t.toDateString())}get volumeName(){return this.volume.Name}},BU=class extends Yy{volume;constructor(t){super(),this.volume=t}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let t=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",t.toDateString())}get volumeName(){return this.volume.Name}};async function _Ce(e){let t=await ko(e),r=(await Qd(e,t)).map(a=>new BU(a)),o=oe.l10n.t("Select the volume to inspect with Visual Studio Code"),i=F.window.createQuickPick();i.items=r,i.placeholder=o,i.show();let s=await new Promise(a=>{i.onDidAccept(()=>a(i.activeItems[0])),i.onDidHide(()=>a(void 0))});return i.hide(),s?s.volume.Name:null}async function SCe(e){let t=await ko(e,["vsch.local.repository.unique=false"]),r=(await Qd(e,t)).map(u=>new HU(u)),o=new jU,i=[o,...r],s=oe.l10n.t("Select the volume for the cloned repository"),a=F.window.createQuickPick();a.items=i,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===o?l=await DCe(e):l=c.volumeName,l}async function DCe(e){let t="",n="vsc-remote-containers",r=await ko(e);r.find(s=>s===n)||(t=n);let o={prompt:oe.l10n.t("Enter the volume name."),value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?oe.l10n.t("Volume names should be at least two characters and the first character must be alphanumeric."):oe.l10n.t("Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric.")},i=await F.window.showInputBox(o);return i?r.find(s=>s===i)?(await F.window.showErrorMessage(oe.l10n.t("Volume already exists"),{modal:!0}),null):i:null}async function ICe(e){let t={prompt:oe.l10n.t("Enter the target folder name."),value:YU(e),ignoreFocusOut:!0},n=await F.window.showInputBox(t);return n||null}function YU(e){return si(e).repositoryName}async function PCe(){return(await F.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function qy(e,t,n,r,o,i=!1){let s=ar(o.env),a=f_(t),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof Fx){F.window.showErrorMessage(u.description);return}let d=await PCe();try{c=await a.parseUrl(d)}catch{F.window.showErrorMessage(oe.l10n.t("Cannot access '{0}'.",t),{modal:!0});return}}let l=F.Uri.parse(ls(o.cliHost.authority,t,n,r,!1,s,c));n===Ai&&(n=oe.l10n.t("a unique volume")),await pp({uri:l,type:"folder",label:oe.l10n.t("{0} in {1} [Dev Container]",r,n)}),await eU(e,i?l.authority:!1),await Dy(e,i==="rebuildNoCache"?l.authority:!1),await F.commands.executeCommand("vscode.openFolder",l)}async function TCe(e,t){let n=ar(t.env),r=F.Uri.parse(ls(t.cliHost.authority,void 0,e,void 0,!0,n,void 0));await pp({uri:r,type:"folder",label:oe.l10n.t("Volume {0} [Dev Container]",e)}),await F.commands.executeCommand("vscode.openFolder",r)}async function kCe(e,t,n,r){let o=ar(r.env),i=F.Uri.parse(ls(r.cliHost.authority,t,e,n,!0,o,void 0));await pp({uri:i,type:"folder",label:oe.l10n.t("{0} in {1} [Inspect Dev Container]",n,e)}),await F.commands.executeCommand("vscode.openFolder",i)}async function Hy(e,t,n,r,o){var c;if(!await id(n))return;let i,s=e.cliHost;if(s.type==="wsl"){let l=await s.toCommonURI(s.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let a=O3(e.cliHost.authority,t.Name,ar(e.env),i);if(o=o||((c=await GX(n.globalStoragePath,t))==null?void 0:c.workspaceFolder),o){let l=F.Uri.parse(`vscode-remote://${a}${o}`),u={};r?u.forceNewWindow=!0:u.forceReuseWindow=!0,await F.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:a};r||(l.reuseWindow=!0),await F.commands.executeCommand("vscode.newWindow",l)}}async function RCe(e,t,n){let r=!0,o=(async()=>{if(!await n)throw new Error("cancel");r=!1;let i=await st(e,t),s=await ef(i),a=await Ws(i,s),c=[];if(a.forEach(l=>{l.State.Status==="running"&&c.push({label:l.Name,description:`${l.Config.Image} ${l.Id}`,containerInfo:l})}),c.length===0)throw F.window.showErrorMessage(oe.l10n.t("There are no running containers to attach to."),{modal:!0}),new Error("cancel");return c.sort((l,u)=>l.label.localeCompare(u.label))})();try{let i={placeHolder:oe.l10n.t("Select the container to attach VS Code")},s=await F.window.showQuickPick(o,i);if(!s&&r){if(!await n)throw new Error("cancel");s=await F.window.showQuickPick(o,i)}return s?s.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function NCe(e,t,n,r){if(!r.workspaceFolder)return Wy(oe.l10n.t("Workspace folder not specified in devcontainer.json."),n.cliHost,r.configFilePath),!1;if(!St.posix.isAbsolute(r.workspaceFolder))return Wy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),n.cliHost,r.configFilePath),!1;if(r.initializeCommand)return!0;let o=await Nl(n.cliHost,r,n.cliHost.env,n.cliHost.cwd),i=RN(e,{buildCLIHost:n.cliHost,configFile:t});return!(await Ol(n,i)&&!await LCe(n.cliHost,o))}async function LCe(e,t){let n=[];for(let r=0;r<t.length;r++)await e.isFile(t[r])||n.push(t[r]);return n.length>0?(F.window.showErrorMessage(oe.l10n.t("The following referenced docker compose files do not exist: {0}",n.join(", ")),{modal:!0}),!1):!0}async function Wy(e,t,n){if(await F.window.showErrorMessage(e,{modal:!0},oe.l10n.t("Open devcontainer.json"))){let o=Ie(n,t.platform),i=await t.toCommonURI(o);i&&F.window.showTextDocument(F.Uri.parse(i.toString()))}}async function BI(e,t,n,r,o,i,s){await n.createConfiguration(s)&&await XZ(e,t,r,o,i)}async function XZ(e,t,n,r,o){if([void 0,"wsl","ssh-remote","tunnel"].indexOf(F.env.remoteName)===-1)return;let i=F.workspace.workspaceFile,s=F.workspace.workspaceFolders,a=i||s&&s.length&&s[0].uri||void 0;if(a&&a.scheme!=="vscode-vfs"){let c;if(t.type==="wsl"&&a.scheme==="file"){let p=Ie(a,process.platform),f=Yd(p)||dI()||await lx(r)||(()=>{throw new Error("No default WSL distro found.")})();c=await El(f,p,r)}else c=Ie(a,t.platform);let l=Tt(t.path,c),d=(await mI(t,l,await Yc(e,t))).sort((p,f)=>{if(p.type!==f.type)return p.type.localeCompare(f.type);let m=St.posix.dirname(p.uri.path),h=St.posix.dirname(f.uri.path);return m.localeCompare(h)})[0];d&&(await Sy(t,r)).canConnectToContainer&&await FCe(e,d,l,t,n,r,o)}}var qI="showReopenInContainerNotification",ZZ="showReopenInContainerNotificationReset";function ACe(e){return e.globalState.update(ZZ,Date.now())}async function FCe(e,t,n,r,o,i,s){let a=e.globalState.get(ZZ);if(qU(e.globalState.get(qI),a)||qU(e.workspaceState.get(qI),a))return;let c=d3(r,n,t.uri),l,u="";if(r.platform!=="linux"&&F.env.remoteName!=="wsl"&&!(r.platform==="win32"&&Er(n.rootFolderPath))&&F.env.remoteName!=="ssh-remote"){let x=await st(e,i);if(l=await lY(x.cliHost,n,x.output),l&&c){let w=await Xv(x.cliHost,n.rootFolderPath,x.output);w&&await dY(x.cliHost,n,x.cliHost.path.relative(w,Ie(t.uri,x.cliHost.platform)),x.output)||(l=void 0)}if(l){let{cliHost:w,dockerCLI:E,dockerComposePath:I}=x,D={cliHost:w,dockerPath:E,dockerComposePath:I,appRoot:F.env.appRoot,extensionPath:e.extensionPath,package:await $r(e.extensionPath),output:i},k=await Ig(D,n.rootFolderPath,t.uri);(!k||!Po(k.configuration)&&!("image"in k.configuration))&&(l=void 0)}l&&(u=oe.l10n.t(" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo)."))}F.env.remoteName==="wsl"&&n.rootFolderPath.match(/^\/mnt\/[a-z]\//)&&(u=oe.l10n.t(" This workspace is on the Windows file system (/mnt/). For best performance, we recommend moving the workspace to the Linux file system (~/home)."));let d;c?n.isWorkspaceFile?d=oe.l10n.t("Workspace contains a Dev Container configuration file."):d=oe.l10n.t("Folder contains a Dev Container configuration file."):d=oe.l10n.t("There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.");let p=oe.l10n.t("Reopen in Container"),f=oe.l10n.t("Clone in Volume"),m=oe.l10n.t("Don't Show Again..."),h=n.isWorkspaceFile?oe.l10n.t("{0} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u):oe.l10n.t("{0} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u),v=l?[p,f,m]:[p,m];OCe(o,t.type);let g=await F.window.showInformationMessage(h,...v);if(UCe(o,g===p?"reopen":g===f?"openRepository":g===m?"dontShowAgain":"cancel",t.type),g===p){if(!await F.workspace.requestWorkspaceTrust({message:Py})||!await eo(e,i,s,o,"reopenInContainer"))return;let w=await st(e,i);if(w.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:E}=await jR(n.workspaceOrFolderPath,ka(),i);n=Tt(w.cliHost.path,E)}await By(e,n,w,s,o,!1,{forceReuseWindow:!0})}else if(g===f){let x=await st(e,i),w=await uY(x.cliHost,n,x.output),E=oe.l10n.t("OK"),I=oe.l10n.t("Cancel");(!w||E===await F.window.showInformationMessage(oe.l10n.t("Local changes not pushed to the Git remote will not be available in the Docker volume."),E,I))&&await F.window.withProgress({location:F.ProgressLocation.Notification,title:oe.l10n.t("Clone in Volume")},async(D,k)=>{D.report({message:oe.l10n.t("Follow the prompts at the top of the window.")}),await F.commands.executeCommand(oI,l)})}else if(g===m){let x=n.isWorkspaceFile?oe.l10n.t("Any Workspace"):oe.l10n.t("Any Folder"),w=n.isWorkspaceFile?oe.l10n.t("Current Workspace"):oe.l10n.t("Current Folder"),E=n.isWorkspaceFile?oe.l10n.t("Don't show again for the current workspace or for any workspace?"):oe.l10n.t("Don't show again for the current folder or for any folder?"),I=await F.window.showInformationMessage(E,x,w);I===x?await e.globalState.update(qI,Date.now()):I===w&&await e.workspaceState.update(qI,Date.now())}}function OCe(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function UCe(e,t,n){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:n})}function qU(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function MCe(e,t,n){if(!await eo(e,t.log,t.onDidInput,n,"trySample"))return;let r=await st(e,t.log),o=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],i={placeHolder:oe.l10n.t("Select a sample repository to clone in a container volume")},s=await F.window.showQuickPick(o,i);s&&s.detail&&await qy(e,s.detail,Ai,YU(s.detail),r)}async function $Ce(e){let t=await Promise.all((await QZ(e)).map(async r=>{let o=await(0,WU.promisify)(YI.stat)(r.path),i=r.time;return{label:r.prefix,description:`${zg(i.getFullYear())}-${zg(i.getMonth()+1)}-${zg(i.getDate())} ${zg(i.getHours())}:${zg(i.getMinutes())}:${zg(i.getSeconds())} - ${o.size} bytes`,path:r.path}}));t.length||t.push({label:oe.l10n.t("No log files found.")});let n=await F.window.showQuickPick(t,{placeHolder:oe.l10n.t("Choose a log file")});n&&n.path&&await F.window.showTextDocument(F.Uri.file(n.path))}function zg(e,t=2){return e.toString().padStart(t,"0")}async function jCe(e,t,n){let r=(await QZ(e)).find(o=>o.name.startsWith(t)&&o.path!==n);r?await F.window.showTextDocument(F.Uri.file(r.path)):await F.window.showInformationMessage(oe.l10n.t("No previous log file found."),{modal:!0})}async function QZ(e){let t=[],n=St.basename(e.logPath),r=St.dirname(St.dirname(St.dirname(e.logPath))),o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;o.test(St.basename(r))&&(r=St.dirname(r));for(let i of(await WI(r)).sort().reverse()){let s=o.exec(i);if(s){let a=St.join(r,i);for(let c of await WI(a)){let l=St.join(a,c),u=c.startsWith("window");for(let d of u?await WI(l):[c]){let p=St.join(u?l:a,d),f=St.join(p,n);for(let m of(await WI(f)).sort()){let h=St.join(f,m),v=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),g=v?new Date(`${v[1]}-${v[2]}-${v[3]}T${v[4]}:${v[5]}:${v[6]}.${v[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);t.push({name:m,path:h,time:g,prefix:v?m.substr(0,v.index-1):m.substr(0,m.length-4)})}}}}}return t.sort((i,s)=>i.time>s.time?-1:i.time<s.time?1:i.path.localeCompare(s.path)),t}async function WI(e){try{return await(0,WU.promisify)(YI.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=extension.js.map
