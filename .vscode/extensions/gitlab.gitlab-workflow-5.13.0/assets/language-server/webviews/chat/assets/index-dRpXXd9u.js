(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();class w0{solve(n){return n<=1?n:this.solve(n-1)+this.solve(n-2)}}const R0=new Error("Index must be non-negative");class T0{#e=new Map;#n=1;constructor(){this.#e.set(0,0),this.#e.set(1,1)}solve(n){if(n<0)throw R0;if(this.#e.has(n))return this.#e.get(n);let i=this.#e.get(this.#n-1),o=this.#e.get(this.#n);for(let a=this.#n+1;a<=n;a++){const c=i+o;i=o,o=c,this.#e.set(a,c)}return this.#n=n,this.#e.get(n)}}class D0{debug(){}info(){}warn(){}error(){}}var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),i}var fs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fs.exports;(function(t,n){(function(){var i,o="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",_="Invalid `variable` option passed into `_.template`",D="__lodash_hash_undefined__",C=500,k="__lodash_placeholder__",L=1,M=2,$=4,X=1,Le=2,ve=1,Y=2,S=4,R=8,I=16,be=32,De=64,Ce=128,Wt=256,Bt=512,Xn=30,nt="...",Er=800,q=16,ee=1,ne=2,z=3,me=1/0,kt=9007199254740991,Gr=17976931348623157e292,En=NaN,Qe=4294967295,gn=Qe-1,kn=Qe>>>1,pn=[["ary",Ce],["bind",ve],["bindKey",Y],["curry",R],["curryRight",I],["flip",Bt],["partial",be],["partialRight",De],["rearg",Wt]],Rt="[object Arguments]",Ht="[object Array]",Qn="[object AsyncFunction]",lt="[object Boolean]",ft="[object Date]",On="[object DOMException]",rt="[object Error]",ge="[object Function]",Ot="[object GeneratorFunction]",he="[object Map]",it="[object Number]",Zn="[object Null]",yt="[object Object]",er="[object Promise]",kr="[object Proxy]",rn="[object RegExp]",Ie="[object Set]",on="[object String]",An="[object Symbol]",Jr="[object Undefined]",mn="[object WeakMap]",Kr="[object WeakSet]",sn="[object ArrayBuffer]",$t="[object DataView]",At="[object Float32Array]",Nn="[object Float64Array]",tr="[object Int8Array]",nr="[object Int16Array]",qn="[object Int32Array]",Mn="[object Uint8Array]",rr="[object Uint8ClampedArray]",ir="[object Uint16Array]",or="[object Uint32Array]",Yr=/\b__p \+= '';/g,Xr=/\b(__p \+=) '' \+/g,Qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,Or=/[&<>"']/g,Zr=RegExp(Tt.source),Ln=RegExp(Or.source),ei=/<%-([\s\S]+?)%>/g,sr=/<%([\s\S]+?)%>/g,Ar=/<%=([\s\S]+?)%>/g,an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yn=/^\w*$/,ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(ar.source),In=/^\s+/,h=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xe=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,m=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,O=/[()=,{}\[\]\/\s]/,F=/\\(\\)?/g,H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,Re=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,le=/^0o[0-7]+$/i,ke=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,ot=/['\n\r\u2028\u2029\\]/g,_t="\\ud800-\\udfff",ea="\\u0300-\\u036f",pp="\\ufe20-\\ufe2f",mp="\\u20d0-\\u20ff",nl=ea+pp+mp,rl="\\u2700-\\u27bf",il="a-z\\xdf-\\xf6\\xf8-\\xff",yp="\\xac\\xb1\\xd7\\xf7",_p="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vp="\\u2000-\\u206f",bp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ol="A-Z\\xc0-\\xd6\\xd8-\\xde",sl="\\ufe0e\\ufe0f",al=yp+_p+vp+bp,ta="['’]",wp="["+_t+"]",ul="["+al+"]",go="["+nl+"]",cl="\\d+",Rp="["+rl+"]",ll="["+il+"]",fl="[^"+_t+al+cl+rl+il+ol+"]",na="\\ud83c[\\udffb-\\udfff]",Tp="(?:"+go+"|"+na+")",dl="[^"+_t+"]",ra="(?:\\ud83c[\\udde6-\\uddff]){2}",ia="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+ol+"]",hl="\\u200d",gl="(?:"+ll+"|"+fl+")",Dp="(?:"+ni+"|"+fl+")",pl="(?:"+ta+"(?:d|ll|m|re|s|t|ve))?",ml="(?:"+ta+"(?:D|LL|M|RE|S|T|VE))?",yl=Tp+"?",_l="["+sl+"]?",Sp="(?:"+hl+"(?:"+[dl,ra,ia].join("|")+")"+_l+yl+")*",Cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vl=_l+yl+Sp,Ep="(?:"+[Rp,ra,ia].join("|")+")"+vl,kp="(?:"+[dl+go+"?",go,ra,ia,wp].join("|")+")",Op=RegExp(ta,"g"),Ap=RegExp(go,"g"),oa=RegExp(na+"(?="+na+")|"+kp+vl,"g"),Np=RegExp([ni+"?"+ll+"+"+pl+"(?="+[ul,ni,"$"].join("|")+")",Dp+"+"+ml+"(?="+[ul,ni+gl,"$"].join("|")+")",ni+"?"+gl+"+"+pl,ni+"+"+ml,Pp,Cp,cl,Ep].join("|"),"g"),qp=RegExp("["+hl+_t+nl+sl+"]"),Mp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ip=-1,Oe={};Oe[At]=Oe[Nn]=Oe[tr]=Oe[nr]=Oe[qn]=Oe[Mn]=Oe[rr]=Oe[ir]=Oe[or]=!0,Oe[Rt]=Oe[Ht]=Oe[sn]=Oe[lt]=Oe[$t]=Oe[ft]=Oe[rt]=Oe[ge]=Oe[he]=Oe[it]=Oe[yt]=Oe[rn]=Oe[Ie]=Oe[on]=Oe[mn]=!1;var Ee={};Ee[Rt]=Ee[Ht]=Ee[sn]=Ee[$t]=Ee[lt]=Ee[ft]=Ee[At]=Ee[Nn]=Ee[tr]=Ee[nr]=Ee[qn]=Ee[he]=Ee[it]=Ee[yt]=Ee[rn]=Ee[Ie]=Ee[on]=Ee[An]=Ee[Mn]=Ee[rr]=Ee[ir]=Ee[or]=!0,Ee[rt]=Ee[ge]=Ee[mn]=!1;var Fp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hp=parseFloat,$p=parseInt,bl=typeof Ae=="object"&&Ae&&Ae.Object===Object&&Ae,jp=typeof self=="object"&&self&&self.Object===Object&&self,st=bl||jp||Function("return this")(),sa=n&&!n.nodeType&&n,Nr=sa&&!0&&t&&!t.nodeType&&t,wl=Nr&&Nr.exports===sa,aa=wl&&bl.process,jt=function(){try{var v=Nr&&Nr.require&&Nr.require("util").types;return v||aa&&aa.binding&&aa.binding("util")}catch{}}(),Rl=jt&&jt.isArrayBuffer,Tl=jt&&jt.isDate,Dl=jt&&jt.isMap,Sl=jt&&jt.isRegExp,Cl=jt&&jt.isSet,Pl=jt&&jt.isTypedArray;function Nt(v,P,T){switch(T.length){case 0:return v.call(P);case 1:return v.call(P,T[0]);case 2:return v.call(P,T[0],T[1]);case 3:return v.call(P,T[0],T[1],T[2])}return v.apply(P,T)}function Up(v,P,T,B){for(var Q=-1,_e=v==null?0:v.length;++Q<_e;){var Ze=v[Q];P(B,Ze,T(Ze),v)}return B}function Ut(v,P){for(var T=-1,B=v==null?0:v.length;++T<B&&P(v[T],T,v)!==!1;);return v}function zp(v,P){for(var T=v==null?0:v.length;T--&&P(v[T],T,v)!==!1;);return v}function El(v,P){for(var T=-1,B=v==null?0:v.length;++T<B;)if(!P(v[T],T,v))return!1;return!0}function ur(v,P){for(var T=-1,B=v==null?0:v.length,Q=0,_e=[];++T<B;){var Ze=v[T];P(Ze,T,v)&&(_e[Q++]=Ze)}return _e}function po(v,P){var T=v==null?0:v.length;return!!T&&ri(v,P,0)>-1}function ua(v,P,T){for(var B=-1,Q=v==null?0:v.length;++B<Q;)if(T(P,v[B]))return!0;return!1}function Me(v,P){for(var T=-1,B=v==null?0:v.length,Q=Array(B);++T<B;)Q[T]=P(v[T],T,v);return Q}function cr(v,P){for(var T=-1,B=P.length,Q=v.length;++T<B;)v[Q+T]=P[T];return v}function ca(v,P,T,B){var Q=-1,_e=v==null?0:v.length;for(B&&_e&&(T=v[++Q]);++Q<_e;)T=P(T,v[Q],Q,v);return T}function Vp(v,P,T,B){var Q=v==null?0:v.length;for(B&&Q&&(T=v[--Q]);Q--;)T=P(T,v[Q],Q,v);return T}function la(v,P){for(var T=-1,B=v==null?0:v.length;++T<B;)if(P(v[T],T,v))return!0;return!1}var Gp=fa("length");function Jp(v){return v.split("")}function Kp(v){return v.match(m)||[]}function kl(v,P,T){var B;return T(v,function(Q,_e,Ze){if(P(Q,_e,Ze))return B=_e,!1}),B}function mo(v,P,T,B){for(var Q=v.length,_e=T+(B?1:-1);B?_e--:++_e<Q;)if(P(v[_e],_e,v))return _e;return-1}function ri(v,P,T){return P===P?am(v,P,T):mo(v,Ol,T)}function Yp(v,P,T,B){for(var Q=T-1,_e=v.length;++Q<_e;)if(B(v[Q],P))return Q;return-1}function Ol(v){return v!==v}function Al(v,P){var T=v==null?0:v.length;return T?ha(v,P)/T:En}function fa(v){return function(P){return P==null?i:P[v]}}function da(v){return function(P){return v==null?i:v[P]}}function Nl(v,P,T,B,Q){return Q(v,function(_e,Ze,Pe){T=B?(B=!1,_e):P(T,_e,Ze,Pe)}),T}function Xp(v,P){var T=v.length;for(v.sort(P);T--;)v[T]=v[T].value;return v}function ha(v,P){for(var T,B=-1,Q=v.length;++B<Q;){var _e=P(v[B]);_e!==i&&(T=T===i?_e:T+_e)}return T}function ga(v,P){for(var T=-1,B=Array(v);++T<v;)B[T]=P(T);return B}function Qp(v,P){return Me(P,function(T){return[T,v[T]]})}function ql(v){return v&&v.slice(0,Fl(v)+1).replace(In,"")}function qt(v){return function(P){return v(P)}}function pa(v,P){return Me(P,function(T){return v[T]})}function Ii(v,P){return v.has(P)}function Ml(v,P){for(var T=-1,B=v.length;++T<B&&ri(P,v[T],0)>-1;);return T}function Ll(v,P){for(var T=v.length;T--&&ri(P,v[T],0)>-1;);return T}function Zp(v,P){for(var T=v.length,B=0;T--;)v[T]===P&&++B;return B}var em=da(Fp),tm=da(xp);function nm(v){return"\\"+Bp[v]}function rm(v,P){return v==null?i:v[P]}function ii(v){return qp.test(v)}function im(v){return Mp.test(v)}function om(v){for(var P,T=[];!(P=v.next()).done;)T.push(P.value);return T}function ma(v){var P=-1,T=Array(v.size);return v.forEach(function(B,Q){T[++P]=[Q,B]}),T}function Il(v,P){return function(T){return v(P(T))}}function lr(v,P){for(var T=-1,B=v.length,Q=0,_e=[];++T<B;){var Ze=v[T];(Ze===P||Ze===k)&&(v[T]=k,_e[Q++]=T)}return _e}function yo(v){var P=-1,T=Array(v.size);return v.forEach(function(B){T[++P]=B}),T}function sm(v){var P=-1,T=Array(v.size);return v.forEach(function(B){T[++P]=[B,B]}),T}function am(v,P,T){for(var B=T-1,Q=v.length;++B<Q;)if(v[B]===P)return B;return-1}function um(v,P,T){for(var B=T+1;B--;)if(v[B]===P)return B;return B}function oi(v){return ii(v)?lm(v):Gp(v)}function un(v){return ii(v)?fm(v):Jp(v)}function Fl(v){for(var P=v.length;P--&&h.test(v.charAt(P)););return P}var cm=da(Wp);function lm(v){for(var P=oa.lastIndex=0;oa.test(v);)++P;return P}function fm(v){return v.match(oa)||[]}function dm(v){return v.match(Np)||[]}var hm=function v(P){P=P==null?st:si.defaults(st.Object(),P,si.pick(st,Lp));var T=P.Array,B=P.Date,Q=P.Error,_e=P.Function,Ze=P.Math,Pe=P.Object,ya=P.RegExp,gm=P.String,zt=P.TypeError,_o=T.prototype,pm=_e.prototype,ai=Pe.prototype,vo=P["__core-js_shared__"],bo=pm.toString,Te=ai.hasOwnProperty,mm=0,xl=function(){var e=/[^.]+$/.exec(vo&&vo.keys&&vo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wo=ai.toString,ym=bo.call(Pe),_m=st._,vm=ya("^"+bo.call(Te).replace(ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ro=wl?P.Buffer:i,fr=P.Symbol,To=P.Uint8Array,Wl=Ro?Ro.allocUnsafe:i,Do=Il(Pe.getPrototypeOf,Pe),Bl=Pe.create,Hl=ai.propertyIsEnumerable,So=_o.splice,$l=fr?fr.isConcatSpreadable:i,Fi=fr?fr.iterator:i,qr=fr?fr.toStringTag:i,Co=function(){try{var e=xr(Pe,"defineProperty");return e({},"",{}),e}catch{}}(),bm=P.clearTimeout!==st.clearTimeout&&P.clearTimeout,wm=B&&B.now!==st.Date.now&&B.now,Rm=P.setTimeout!==st.setTimeout&&P.setTimeout,Po=Ze.ceil,Eo=Ze.floor,_a=Pe.getOwnPropertySymbols,Tm=Ro?Ro.isBuffer:i,jl=P.isFinite,Dm=_o.join,Sm=Il(Pe.keys,Pe),et=Ze.max,dt=Ze.min,Cm=B.now,Pm=P.parseInt,Ul=Ze.random,Em=_o.reverse,va=xr(P,"DataView"),xi=xr(P,"Map"),ba=xr(P,"Promise"),ui=xr(P,"Set"),Wi=xr(P,"WeakMap"),Bi=xr(Pe,"create"),ko=Wi&&new Wi,ci={},km=Wr(va),Om=Wr(xi),Am=Wr(ba),Nm=Wr(ui),qm=Wr(Wi),Oo=fr?fr.prototype:i,Hi=Oo?Oo.valueOf:i,zl=Oo?Oo.toString:i;function f(e){if($e(e)&&!te(e)&&!(e instanceof ue)){if(e instanceof Vt)return e;if(Te.call(e,"__wrapped__"))return Gf(e)}return new Vt(e)}var li=function(){function e(){}return function(r){if(!Be(r))return{};if(Bl)return Bl(r);e.prototype=r;var s=new e;return e.prototype=i,s}}();function Ao(){}function Vt(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=i}f.templateSettings={escape:ei,evaluate:sr,interpolate:Ar,variable:"",imports:{_:f}},f.prototype=Ao.prototype,f.prototype.constructor=f,Vt.prototype=li(Ao.prototype),Vt.prototype.constructor=Vt;function ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qe,this.__views__=[]}function Mm(){var e=new ue(this.__wrapped__);return e.__actions__=Dt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Dt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Dt(this.__views__),e}function Lm(){if(this.__filtered__){var e=new ue(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Im(){var e=this.__wrapped__.value(),r=this.__dir__,s=te(e),u=r<0,l=s?e.length:0,d=Jy(0,l,this.__views__),p=d.start,y=d.end,b=y-p,E=u?y:p-1,A=this.__iteratees__,N=A.length,W=0,j=dt(b,this.__takeCount__);if(!s||!u&&l==b&&j==b)return mf(e,this.__actions__);var G=[];e:for(;b--&&W<j;){E+=r;for(var ie=-1,J=e[E];++ie<N;){var ae=A[ie],fe=ae.iteratee,It=ae.type,wt=fe(J);if(It==ne)J=wt;else if(!wt){if(It==ee)continue e;break e}}G[W++]=J}return G}ue.prototype=li(Ao.prototype),ue.prototype.constructor=ue;function Mr(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var u=e[r];this.set(u[0],u[1])}}function Fm(){this.__data__=Bi?Bi(null):{},this.size=0}function xm(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Wm(e){var r=this.__data__;if(Bi){var s=r[e];return s===D?i:s}return Te.call(r,e)?r[e]:i}function Bm(e){var r=this.__data__;return Bi?r[e]!==i:Te.call(r,e)}function Hm(e,r){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Bi&&r===i?D:r,this}Mr.prototype.clear=Fm,Mr.prototype.delete=xm,Mr.prototype.get=Wm,Mr.prototype.has=Bm,Mr.prototype.set=Hm;function Fn(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var u=e[r];this.set(u[0],u[1])}}function $m(){this.__data__=[],this.size=0}function jm(e){var r=this.__data__,s=No(r,e);if(s<0)return!1;var u=r.length-1;return s==u?r.pop():So.call(r,s,1),--this.size,!0}function Um(e){var r=this.__data__,s=No(r,e);return s<0?i:r[s][1]}function zm(e){return No(this.__data__,e)>-1}function Vm(e,r){var s=this.__data__,u=No(s,e);return u<0?(++this.size,s.push([e,r])):s[u][1]=r,this}Fn.prototype.clear=$m,Fn.prototype.delete=jm,Fn.prototype.get=Um,Fn.prototype.has=zm,Fn.prototype.set=Vm;function xn(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var u=e[r];this.set(u[0],u[1])}}function Gm(){this.size=0,this.__data__={hash:new Mr,map:new(xi||Fn),string:new Mr}}function Jm(e){var r=Uo(this,e).delete(e);return this.size-=r?1:0,r}function Km(e){return Uo(this,e).get(e)}function Ym(e){return Uo(this,e).has(e)}function Xm(e,r){var s=Uo(this,e),u=s.size;return s.set(e,r),this.size+=s.size==u?0:1,this}xn.prototype.clear=Gm,xn.prototype.delete=Jm,xn.prototype.get=Km,xn.prototype.has=Ym,xn.prototype.set=Xm;function Lr(e){var r=-1,s=e==null?0:e.length;for(this.__data__=new xn;++r<s;)this.add(e[r])}function Qm(e){return this.__data__.set(e,D),this}function Zm(e){return this.__data__.has(e)}Lr.prototype.add=Lr.prototype.push=Qm,Lr.prototype.has=Zm;function cn(e){var r=this.__data__=new Fn(e);this.size=r.size}function ey(){this.__data__=new Fn,this.size=0}function ty(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}function ny(e){return this.__data__.get(e)}function ry(e){return this.__data__.has(e)}function iy(e,r){var s=this.__data__;if(s instanceof Fn){var u=s.__data__;if(!xi||u.length<a-1)return u.push([e,r]),this.size=++s.size,this;s=this.__data__=new xn(u)}return s.set(e,r),this.size=s.size,this}cn.prototype.clear=ey,cn.prototype.delete=ty,cn.prototype.get=ny,cn.prototype.has=ry,cn.prototype.set=iy;function Vl(e,r){var s=te(e),u=!s&&Br(e),l=!s&&!u&&mr(e),d=!s&&!u&&!l&&gi(e),p=s||u||l||d,y=p?ga(e.length,gm):[],b=y.length;for(var E in e)(r||Te.call(e,E))&&!(p&&(E=="length"||l&&(E=="offset"||E=="parent")||d&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||$n(E,b)))&&y.push(E);return y}function Gl(e){var r=e.length;return r?e[Aa(0,r-1)]:i}function oy(e,r){return zo(Dt(e),Ir(r,0,e.length))}function sy(e){return zo(Dt(e))}function wa(e,r,s){(s!==i&&!ln(e[r],s)||s===i&&!(r in e))&&Wn(e,r,s)}function $i(e,r,s){var u=e[r];(!(Te.call(e,r)&&ln(u,s))||s===i&&!(r in e))&&Wn(e,r,s)}function No(e,r){for(var s=e.length;s--;)if(ln(e[s][0],r))return s;return-1}function ay(e,r,s,u){return dr(e,function(l,d,p){r(u,l,s(l),p)}),u}function Jl(e,r){return e&&bn(r,tt(r),e)}function uy(e,r){return e&&bn(r,Ct(r),e)}function Wn(e,r,s){r=="__proto__"&&Co?Co(e,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[r]=s}function Ra(e,r){for(var s=-1,u=r.length,l=T(u),d=e==null;++s<u;)l[s]=d?i:nu(e,r[s]);return l}function Ir(e,r,s){return e===e&&(s!==i&&(e=e<=s?e:s),r!==i&&(e=e>=r?e:r)),e}function Gt(e,r,s,u,l,d){var p,y=r&L,b=r&M,E=r&$;if(s&&(p=l?s(e,u,l,d):s(e)),p!==i)return p;if(!Be(e))return e;var A=te(e);if(A){if(p=Yy(e),!y)return Dt(e,p)}else{var N=ht(e),W=N==ge||N==Ot;if(mr(e))return vf(e,y);if(N==yt||N==Rt||W&&!l){if(p=b||W?{}:xf(e),!y)return b?Wy(e,uy(p,e)):xy(e,Jl(p,e))}else{if(!Ee[N])return l?e:{};p=Xy(e,N,y)}}d||(d=new cn);var j=d.get(e);if(j)return j;d.set(e,p),hd(e)?e.forEach(function(J){p.add(Gt(J,r,s,J,e,d))}):fd(e)&&e.forEach(function(J,ae){p.set(ae,Gt(J,r,s,ae,e,d))});var G=E?b?$a:Ha:b?Ct:tt,ie=A?i:G(e);return Ut(ie||e,function(J,ae){ie&&(ae=J,J=e[ae]),$i(p,ae,Gt(J,r,s,ae,e,d))}),p}function cy(e){var r=tt(e);return function(s){return Kl(s,e,r)}}function Kl(e,r,s){var u=s.length;if(e==null)return!u;for(e=Pe(e);u--;){var l=s[u],d=r[l],p=e[l];if(p===i&&!(l in e)||!d(p))return!1}return!0}function Yl(e,r,s){if(typeof e!="function")throw new zt(g);return Ki(function(){e.apply(i,s)},r)}function ji(e,r,s,u){var l=-1,d=po,p=!0,y=e.length,b=[],E=r.length;if(!y)return b;s&&(r=Me(r,qt(s))),u?(d=ua,p=!1):r.length>=a&&(d=Ii,p=!1,r=new Lr(r));e:for(;++l<y;){var A=e[l],N=s==null?A:s(A);if(A=u||A!==0?A:0,p&&N===N){for(var W=E;W--;)if(r[W]===N)continue e;b.push(A)}else d(r,N,u)||b.push(A)}return b}var dr=Df(vn),Xl=Df(Da,!0);function ly(e,r){var s=!0;return dr(e,function(u,l,d){return s=!!r(u,l,d),s}),s}function qo(e,r,s){for(var u=-1,l=e.length;++u<l;){var d=e[u],p=r(d);if(p!=null&&(y===i?p===p&&!Lt(p):s(p,y)))var y=p,b=d}return b}function fy(e,r,s,u){var l=e.length;for(s=re(s),s<0&&(s=-s>l?0:l+s),u=u===i||u>l?l:re(u),u<0&&(u+=l),u=s>u?0:pd(u);s<u;)e[s++]=r;return e}function Ql(e,r){var s=[];return dr(e,function(u,l,d){r(u,l,d)&&s.push(u)}),s}function at(e,r,s,u,l){var d=-1,p=e.length;for(s||(s=Zy),l||(l=[]);++d<p;){var y=e[d];r>0&&s(y)?r>1?at(y,r-1,s,u,l):cr(l,y):u||(l[l.length]=y)}return l}var Ta=Sf(),Zl=Sf(!0);function vn(e,r){return e&&Ta(e,r,tt)}function Da(e,r){return e&&Zl(e,r,tt)}function Mo(e,r){return ur(r,function(s){return jn(e[s])})}function Fr(e,r){r=gr(r,e);for(var s=0,u=r.length;e!=null&&s<u;)e=e[wn(r[s++])];return s&&s==u?e:i}function ef(e,r,s){var u=r(e);return te(e)?u:cr(u,s(e))}function vt(e){return e==null?e===i?Jr:Zn:qr&&qr in Pe(e)?Gy(e):s_(e)}function Sa(e,r){return e>r}function dy(e,r){return e!=null&&Te.call(e,r)}function hy(e,r){return e!=null&&r in Pe(e)}function gy(e,r,s){return e>=dt(r,s)&&e<et(r,s)}function Ca(e,r,s){for(var u=s?ua:po,l=e[0].length,d=e.length,p=d,y=T(d),b=1/0,E=[];p--;){var A=e[p];p&&r&&(A=Me(A,qt(r))),b=dt(A.length,b),y[p]=!s&&(r||l>=120&&A.length>=120)?new Lr(p&&A):i}A=e[0];var N=-1,W=y[0];e:for(;++N<l&&E.length<b;){var j=A[N],G=r?r(j):j;if(j=s||j!==0?j:0,!(W?Ii(W,G):u(E,G,s))){for(p=d;--p;){var ie=y[p];if(!(ie?Ii(ie,G):u(e[p],G,s)))continue e}W&&W.push(G),E.push(j)}}return E}function py(e,r,s,u){return vn(e,function(l,d,p){r(u,s(l),d,p)}),u}function Ui(e,r,s){r=gr(r,e),e=$f(e,r);var u=e==null?e:e[wn(Kt(r))];return u==null?i:Nt(u,e,s)}function tf(e){return $e(e)&&vt(e)==Rt}function my(e){return $e(e)&&vt(e)==sn}function yy(e){return $e(e)&&vt(e)==ft}function zi(e,r,s,u,l){return e===r?!0:e==null||r==null||!$e(e)&&!$e(r)?e!==e&&r!==r:_y(e,r,s,u,zi,l)}function _y(e,r,s,u,l,d){var p=te(e),y=te(r),b=p?Ht:ht(e),E=y?Ht:ht(r);b=b==Rt?yt:b,E=E==Rt?yt:E;var A=b==yt,N=E==yt,W=b==E;if(W&&mr(e)){if(!mr(r))return!1;p=!0,A=!1}if(W&&!A)return d||(d=new cn),p||gi(e)?Lf(e,r,s,u,l,d):zy(e,r,b,s,u,l,d);if(!(s&X)){var j=A&&Te.call(e,"__wrapped__"),G=N&&Te.call(r,"__wrapped__");if(j||G){var ie=j?e.value():e,J=G?r.value():r;return d||(d=new cn),l(ie,J,s,u,d)}}return W?(d||(d=new cn),Vy(e,r,s,u,l,d)):!1}function vy(e){return $e(e)&&ht(e)==he}function Pa(e,r,s,u){var l=s.length,d=l,p=!u;if(e==null)return!d;for(e=Pe(e);l--;){var y=s[l];if(p&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++l<d;){y=s[l];var b=y[0],E=e[b],A=y[1];if(p&&y[2]){if(E===i&&!(b in e))return!1}else{var N=new cn;if(u)var W=u(E,A,b,e,r,N);if(!(W===i?zi(A,E,X|Le,u,N):W))return!1}}return!0}function nf(e){if(!Be(e)||t_(e))return!1;var r=jn(e)?vm:We;return r.test(Wr(e))}function by(e){return $e(e)&&vt(e)==rn}function wy(e){return $e(e)&&ht(e)==Ie}function Ry(e){return $e(e)&&Xo(e.length)&&!!Oe[vt(e)]}function rf(e){return typeof e=="function"?e:e==null?Pt:typeof e=="object"?te(e)?af(e[0],e[1]):sf(e):Cd(e)}function Ea(e){if(!Ji(e))return Sm(e);var r=[];for(var s in Pe(e))Te.call(e,s)&&s!="constructor"&&r.push(s);return r}function Ty(e){if(!Be(e))return o_(e);var r=Ji(e),s=[];for(var u in e)u=="constructor"&&(r||!Te.call(e,u))||s.push(u);return s}function ka(e,r){return e<r}function of(e,r){var s=-1,u=St(e)?T(e.length):[];return dr(e,function(l,d,p){u[++s]=r(l,d,p)}),u}function sf(e){var r=Ua(e);return r.length==1&&r[0][2]?Bf(r[0][0],r[0][1]):function(s){return s===e||Pa(s,e,r)}}function af(e,r){return Va(e)&&Wf(r)?Bf(wn(e),r):function(s){var u=nu(s,e);return u===i&&u===r?ru(s,e):zi(r,u,X|Le)}}function Lo(e,r,s,u,l){e!==r&&Ta(r,function(d,p){if(l||(l=new cn),Be(d))Dy(e,r,p,s,Lo,u,l);else{var y=u?u(Ja(e,p),d,p+"",e,r,l):i;y===i&&(y=d),wa(e,p,y)}},Ct)}function Dy(e,r,s,u,l,d,p){var y=Ja(e,s),b=Ja(r,s),E=p.get(b);if(E){wa(e,s,E);return}var A=d?d(y,b,s+"",e,r,p):i,N=A===i;if(N){var W=te(b),j=!W&&mr(b),G=!W&&!j&&gi(b);A=b,W||j||G?te(y)?A=y:Ve(y)?A=Dt(y):j?(N=!1,A=vf(b,!0)):G?(N=!1,A=bf(b,!0)):A=[]:Yi(b)||Br(b)?(A=y,Br(y)?A=md(y):(!Be(y)||jn(y))&&(A=xf(b))):N=!1}N&&(p.set(b,A),l(A,b,u,d,p),p.delete(b)),wa(e,s,A)}function uf(e,r){var s=e.length;if(s)return r+=r<0?s:0,$n(r,s)?e[r]:i}function cf(e,r,s){r.length?r=Me(r,function(d){return te(d)?function(p){return Fr(p,d.length===1?d[0]:d)}:d}):r=[Pt];var u=-1;r=Me(r,qt(V()));var l=of(e,function(d,p,y){var b=Me(r,function(E){return E(d)});return{criteria:b,index:++u,value:d}});return Xp(l,function(d,p){return Fy(d,p,s)})}function Sy(e,r){return lf(e,r,function(s,u){return ru(e,u)})}function lf(e,r,s){for(var u=-1,l=r.length,d={};++u<l;){var p=r[u],y=Fr(e,p);s(y,p)&&Vi(d,gr(p,e),y)}return d}function Cy(e){return function(r){return Fr(r,e)}}function Oa(e,r,s,u){var l=u?Yp:ri,d=-1,p=r.length,y=e;for(e===r&&(r=Dt(r)),s&&(y=Me(e,qt(s)));++d<p;)for(var b=0,E=r[d],A=s?s(E):E;(b=l(y,A,b,u))>-1;)y!==e&&So.call(y,b,1),So.call(e,b,1);return e}function ff(e,r){for(var s=e?r.length:0,u=s-1;s--;){var l=r[s];if(s==u||l!==d){var d=l;$n(l)?So.call(e,l,1):Ma(e,l)}}return e}function Aa(e,r){return e+Eo(Ul()*(r-e+1))}function Py(e,r,s,u){for(var l=-1,d=et(Po((r-e)/(s||1)),0),p=T(d);d--;)p[u?d:++l]=e,e+=s;return p}function Na(e,r){var s="";if(!e||r<1||r>kt)return s;do r%2&&(s+=e),r=Eo(r/2),r&&(e+=e);while(r);return s}function oe(e,r){return Ka(Hf(e,r,Pt),e+"")}function Ey(e){return Gl(pi(e))}function ky(e,r){var s=pi(e);return zo(s,Ir(r,0,s.length))}function Vi(e,r,s,u){if(!Be(e))return e;r=gr(r,e);for(var l=-1,d=r.length,p=d-1,y=e;y!=null&&++l<d;){var b=wn(r[l]),E=s;if(b==="__proto__"||b==="constructor"||b==="prototype")return e;if(l!=p){var A=y[b];E=u?u(A,b,y):i,E===i&&(E=Be(A)?A:$n(r[l+1])?[]:{})}$i(y,b,E),y=y[b]}return e}var df=ko?function(e,r){return ko.set(e,r),e}:Pt,Oy=Co?function(e,r){return Co(e,"toString",{configurable:!0,enumerable:!1,value:ou(r),writable:!0})}:Pt;function Ay(e){return zo(pi(e))}function Jt(e,r,s){var u=-1,l=e.length;r<0&&(r=-r>l?0:l+r),s=s>l?l:s,s<0&&(s+=l),l=r>s?0:s-r>>>0,r>>>=0;for(var d=T(l);++u<l;)d[u]=e[u+r];return d}function Ny(e,r){var s;return dr(e,function(u,l,d){return s=r(u,l,d),!s}),!!s}function Io(e,r,s){var u=0,l=e==null?u:e.length;if(typeof r=="number"&&r===r&&l<=kn){for(;u<l;){var d=u+l>>>1,p=e[d];p!==null&&!Lt(p)&&(s?p<=r:p<r)?u=d+1:l=d}return l}return qa(e,r,Pt,s)}function qa(e,r,s,u){var l=0,d=e==null?0:e.length;if(d===0)return 0;r=s(r);for(var p=r!==r,y=r===null,b=Lt(r),E=r===i;l<d;){var A=Eo((l+d)/2),N=s(e[A]),W=N!==i,j=N===null,G=N===N,ie=Lt(N);if(p)var J=u||G;else E?J=G&&(u||W):y?J=G&&W&&(u||!j):b?J=G&&W&&!j&&(u||!ie):j||ie?J=!1:J=u?N<=r:N<r;J?l=A+1:d=A}return dt(d,gn)}function hf(e,r){for(var s=-1,u=e.length,l=0,d=[];++s<u;){var p=e[s],y=r?r(p):p;if(!s||!ln(y,b)){var b=y;d[l++]=p===0?0:p}}return d}function gf(e){return typeof e=="number"?e:Lt(e)?En:+e}function Mt(e){if(typeof e=="string")return e;if(te(e))return Me(e,Mt)+"";if(Lt(e))return zl?zl.call(e):"";var r=e+"";return r=="0"&&1/e==-me?"-0":r}function hr(e,r,s){var u=-1,l=po,d=e.length,p=!0,y=[],b=y;if(s)p=!1,l=ua;else if(d>=a){var E=r?null:jy(e);if(E)return yo(E);p=!1,l=Ii,b=new Lr}else b=r?[]:y;e:for(;++u<d;){var A=e[u],N=r?r(A):A;if(A=s||A!==0?A:0,p&&N===N){for(var W=b.length;W--;)if(b[W]===N)continue e;r&&b.push(N),y.push(A)}else l(b,N,s)||(b!==y&&b.push(N),y.push(A))}return y}function Ma(e,r){return r=gr(r,e),e=$f(e,r),e==null||delete e[wn(Kt(r))]}function pf(e,r,s,u){return Vi(e,r,s(Fr(e,r)),u)}function Fo(e,r,s,u){for(var l=e.length,d=u?l:-1;(u?d--:++d<l)&&r(e[d],d,e););return s?Jt(e,u?0:d,u?d+1:l):Jt(e,u?d+1:0,u?l:d)}function mf(e,r){var s=e;return s instanceof ue&&(s=s.value()),ca(r,function(u,l){return l.func.apply(l.thisArg,cr([u],l.args))},s)}function La(e,r,s){var u=e.length;if(u<2)return u?hr(e[0]):[];for(var l=-1,d=T(u);++l<u;)for(var p=e[l],y=-1;++y<u;)y!=l&&(d[l]=ji(d[l]||p,e[y],r,s));return hr(at(d,1),r,s)}function yf(e,r,s){for(var u=-1,l=e.length,d=r.length,p={};++u<l;){var y=u<d?r[u]:i;s(p,e[u],y)}return p}function Ia(e){return Ve(e)?e:[]}function Fa(e){return typeof e=="function"?e:Pt}function gr(e,r){return te(e)?e:Va(e,r)?[e]:Vf(we(e))}var qy=oe;function pr(e,r,s){var u=e.length;return s=s===i?u:s,!r&&s>=u?e:Jt(e,r,s)}var _f=bm||function(e){return st.clearTimeout(e)};function vf(e,r){if(r)return e.slice();var s=e.length,u=Wl?Wl(s):new e.constructor(s);return e.copy(u),u}function xa(e){var r=new e.constructor(e.byteLength);return new To(r).set(new To(e)),r}function My(e,r){var s=r?xa(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Ly(e){var r=new e.constructor(e.source,Se.exec(e));return r.lastIndex=e.lastIndex,r}function Iy(e){return Hi?Pe(Hi.call(e)):{}}function bf(e,r){var s=r?xa(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function wf(e,r){if(e!==r){var s=e!==i,u=e===null,l=e===e,d=Lt(e),p=r!==i,y=r===null,b=r===r,E=Lt(r);if(!y&&!E&&!d&&e>r||d&&p&&b&&!y&&!E||u&&p&&b||!s&&b||!l)return 1;if(!u&&!d&&!E&&e<r||E&&s&&l&&!u&&!d||y&&s&&l||!p&&l||!b)return-1}return 0}function Fy(e,r,s){for(var u=-1,l=e.criteria,d=r.criteria,p=l.length,y=s.length;++u<p;){var b=wf(l[u],d[u]);if(b){if(u>=y)return b;var E=s[u];return b*(E=="desc"?-1:1)}}return e.index-r.index}function Rf(e,r,s,u){for(var l=-1,d=e.length,p=s.length,y=-1,b=r.length,E=et(d-p,0),A=T(b+E),N=!u;++y<b;)A[y]=r[y];for(;++l<p;)(N||l<d)&&(A[s[l]]=e[l]);for(;E--;)A[y++]=e[l++];return A}function Tf(e,r,s,u){for(var l=-1,d=e.length,p=-1,y=s.length,b=-1,E=r.length,A=et(d-y,0),N=T(A+E),W=!u;++l<A;)N[l]=e[l];for(var j=l;++b<E;)N[j+b]=r[b];for(;++p<y;)(W||l<d)&&(N[j+s[p]]=e[l++]);return N}function Dt(e,r){var s=-1,u=e.length;for(r||(r=T(u));++s<u;)r[s]=e[s];return r}function bn(e,r,s,u){var l=!s;s||(s={});for(var d=-1,p=r.length;++d<p;){var y=r[d],b=u?u(s[y],e[y],y,s,e):i;b===i&&(b=e[y]),l?Wn(s,y,b):$i(s,y,b)}return s}function xy(e,r){return bn(e,za(e),r)}function Wy(e,r){return bn(e,If(e),r)}function xo(e,r){return function(s,u){var l=te(s)?Up:ay,d=r?r():{};return l(s,e,V(u,2),d)}}function fi(e){return oe(function(r,s){var u=-1,l=s.length,d=l>1?s[l-1]:i,p=l>2?s[2]:i;for(d=e.length>3&&typeof d=="function"?(l--,d):i,p&&bt(s[0],s[1],p)&&(d=l<3?i:d,l=1),r=Pe(r);++u<l;){var y=s[u];y&&e(r,y,u,d)}return r})}function Df(e,r){return function(s,u){if(s==null)return s;if(!St(s))return e(s,u);for(var l=s.length,d=r?l:-1,p=Pe(s);(r?d--:++d<l)&&u(p[d],d,p)!==!1;);return s}}function Sf(e){return function(r,s,u){for(var l=-1,d=Pe(r),p=u(r),y=p.length;y--;){var b=p[e?y:++l];if(s(d[b],b,d)===!1)break}return r}}function By(e,r,s){var u=r&ve,l=Gi(e);function d(){var p=this&&this!==st&&this instanceof d?l:e;return p.apply(u?s:this,arguments)}return d}function Cf(e){return function(r){r=we(r);var s=ii(r)?un(r):i,u=s?s[0]:r.charAt(0),l=s?pr(s,1).join(""):r.slice(1);return u[e]()+l}}function di(e){return function(r){return ca(Dd(Td(r).replace(Op,"")),e,"")}}function Gi(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var s=li(e.prototype),u=e.apply(s,r);return Be(u)?u:s}}function Hy(e,r,s){var u=Gi(e);function l(){for(var d=arguments.length,p=T(d),y=d,b=hi(l);y--;)p[y]=arguments[y];var E=d<3&&p[0]!==b&&p[d-1]!==b?[]:lr(p,b);if(d-=E.length,d<s)return Af(e,r,Wo,l.placeholder,i,p,E,i,i,s-d);var A=this&&this!==st&&this instanceof l?u:e;return Nt(A,this,p)}return l}function Pf(e){return function(r,s,u){var l=Pe(r);if(!St(r)){var d=V(s,3);r=tt(r),s=function(y){return d(l[y],y,l)}}var p=e(r,s,u);return p>-1?l[d?r[p]:p]:i}}function Ef(e){return Hn(function(r){var s=r.length,u=s,l=Vt.prototype.thru;for(e&&r.reverse();u--;){var d=r[u];if(typeof d!="function")throw new zt(g);if(l&&!p&&jo(d)=="wrapper")var p=new Vt([],!0)}for(u=p?u:s;++u<s;){d=r[u];var y=jo(d),b=y=="wrapper"?ja(d):i;b&&Ga(b[0])&&b[1]==(Ce|R|be|Wt)&&!b[4].length&&b[9]==1?p=p[jo(b[0])].apply(p,b[3]):p=d.length==1&&Ga(d)?p[y]():p.thru(d)}return function(){var E=arguments,A=E[0];if(p&&E.length==1&&te(A))return p.plant(A).value();for(var N=0,W=s?r[N].apply(this,E):A;++N<s;)W=r[N].call(this,W);return W}})}function Wo(e,r,s,u,l,d,p,y,b,E){var A=r&Ce,N=r&ve,W=r&Y,j=r&(R|I),G=r&Bt,ie=W?i:Gi(e);function J(){for(var ae=arguments.length,fe=T(ae),It=ae;It--;)fe[It]=arguments[It];if(j)var wt=hi(J),Ft=Zp(fe,wt);if(u&&(fe=Rf(fe,u,l,j)),d&&(fe=Tf(fe,d,p,j)),ae-=Ft,j&&ae<E){var Ge=lr(fe,wt);return Af(e,r,Wo,J.placeholder,s,fe,Ge,y,b,E-ae)}var fn=N?s:this,zn=W?fn[e]:e;return ae=fe.length,y?fe=a_(fe,y):G&&ae>1&&fe.reverse(),A&&b<ae&&(fe.length=b),this&&this!==st&&this instanceof J&&(zn=ie||Gi(zn)),zn.apply(fn,fe)}return J}function kf(e,r){return function(s,u){return py(s,e,r(u),{})}}function Bo(e,r){return function(s,u){var l;if(s===i&&u===i)return r;if(s!==i&&(l=s),u!==i){if(l===i)return u;typeof s=="string"||typeof u=="string"?(s=Mt(s),u=Mt(u)):(s=gf(s),u=gf(u)),l=e(s,u)}return l}}function Wa(e){return Hn(function(r){return r=Me(r,qt(V())),oe(function(s){var u=this;return e(r,function(l){return Nt(l,u,s)})})})}function Ho(e,r){r=r===i?" ":Mt(r);var s=r.length;if(s<2)return s?Na(r,e):r;var u=Na(r,Po(e/oi(r)));return ii(r)?pr(un(u),0,e).join(""):u.slice(0,e)}function $y(e,r,s,u){var l=r&ve,d=Gi(e);function p(){for(var y=-1,b=arguments.length,E=-1,A=u.length,N=T(A+b),W=this&&this!==st&&this instanceof p?d:e;++E<A;)N[E]=u[E];for(;b--;)N[E++]=arguments[++y];return Nt(W,l?s:this,N)}return p}function Of(e){return function(r,s,u){return u&&typeof u!="number"&&bt(r,s,u)&&(s=u=i),r=Un(r),s===i?(s=r,r=0):s=Un(s),u=u===i?r<s?1:-1:Un(u),Py(r,s,u,e)}}function $o(e){return function(r,s){return typeof r=="string"&&typeof s=="string"||(r=Yt(r),s=Yt(s)),e(r,s)}}function Af(e,r,s,u,l,d,p,y,b,E){var A=r&R,N=A?p:i,W=A?i:p,j=A?d:i,G=A?i:d;r|=A?be:De,r&=~(A?De:be),r&S||(r&=~(ve|Y));var ie=[e,r,l,j,N,G,W,y,b,E],J=s.apply(i,ie);return Ga(e)&&jf(J,ie),J.placeholder=u,Uf(J,e,r)}function Ba(e){var r=Ze[e];return function(s,u){if(s=Yt(s),u=u==null?0:dt(re(u),292),u&&jl(s)){var l=(we(s)+"e").split("e"),d=r(l[0]+"e"+(+l[1]+u));return l=(we(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-u))}return r(s)}}var jy=ui&&1/yo(new ui([,-0]))[1]==me?function(e){return new ui(e)}:uu;function Nf(e){return function(r){var s=ht(r);return s==he?ma(r):s==Ie?sm(r):Qp(r,e(r))}}function Bn(e,r,s,u,l,d,p,y){var b=r&Y;if(!b&&typeof e!="function")throw new zt(g);var E=u?u.length:0;if(E||(r&=~(be|De),u=l=i),p=p===i?p:et(re(p),0),y=y===i?y:re(y),E-=l?l.length:0,r&De){var A=u,N=l;u=l=i}var W=b?i:ja(e),j=[e,r,s,u,l,A,N,d,p,y];if(W&&i_(j,W),e=j[0],r=j[1],s=j[2],u=j[3],l=j[4],y=j[9]=j[9]===i?b?0:e.length:et(j[9]-E,0),!y&&r&(R|I)&&(r&=~(R|I)),!r||r==ve)var G=By(e,r,s);else r==R||r==I?G=Hy(e,r,y):(r==be||r==(ve|be))&&!l.length?G=$y(e,r,s,u):G=Wo.apply(i,j);var ie=W?df:jf;return Uf(ie(G,j),e,r)}function qf(e,r,s,u){return e===i||ln(e,ai[s])&&!Te.call(u,s)?r:e}function Mf(e,r,s,u,l,d){return Be(e)&&Be(r)&&(d.set(r,e),Lo(e,r,i,Mf,d),d.delete(r)),e}function Uy(e){return Yi(e)?i:e}function Lf(e,r,s,u,l,d){var p=s&X,y=e.length,b=r.length;if(y!=b&&!(p&&b>y))return!1;var E=d.get(e),A=d.get(r);if(E&&A)return E==r&&A==e;var N=-1,W=!0,j=s&Le?new Lr:i;for(d.set(e,r),d.set(r,e);++N<y;){var G=e[N],ie=r[N];if(u)var J=p?u(ie,G,N,r,e,d):u(G,ie,N,e,r,d);if(J!==i){if(J)continue;W=!1;break}if(j){if(!la(r,function(ae,fe){if(!Ii(j,fe)&&(G===ae||l(G,ae,s,u,d)))return j.push(fe)})){W=!1;break}}else if(!(G===ie||l(G,ie,s,u,d))){W=!1;break}}return d.delete(e),d.delete(r),W}function zy(e,r,s,u,l,d,p){switch(s){case $t:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case sn:return!(e.byteLength!=r.byteLength||!d(new To(e),new To(r)));case lt:case ft:case it:return ln(+e,+r);case rt:return e.name==r.name&&e.message==r.message;case rn:case on:return e==r+"";case he:var y=ma;case Ie:var b=u&X;if(y||(y=yo),e.size!=r.size&&!b)return!1;var E=p.get(e);if(E)return E==r;u|=Le,p.set(e,r);var A=Lf(y(e),y(r),u,l,d,p);return p.delete(e),A;case An:if(Hi)return Hi.call(e)==Hi.call(r)}return!1}function Vy(e,r,s,u,l,d){var p=s&X,y=Ha(e),b=y.length,E=Ha(r),A=E.length;if(b!=A&&!p)return!1;for(var N=b;N--;){var W=y[N];if(!(p?W in r:Te.call(r,W)))return!1}var j=d.get(e),G=d.get(r);if(j&&G)return j==r&&G==e;var ie=!0;d.set(e,r),d.set(r,e);for(var J=p;++N<b;){W=y[N];var ae=e[W],fe=r[W];if(u)var It=p?u(fe,ae,W,r,e,d):u(ae,fe,W,e,r,d);if(!(It===i?ae===fe||l(ae,fe,s,u,d):It)){ie=!1;break}J||(J=W=="constructor")}if(ie&&!J){var wt=e.constructor,Ft=r.constructor;wt!=Ft&&"constructor"in e&&"constructor"in r&&!(typeof wt=="function"&&wt instanceof wt&&typeof Ft=="function"&&Ft instanceof Ft)&&(ie=!1)}return d.delete(e),d.delete(r),ie}function Hn(e){return Ka(Hf(e,i,Yf),e+"")}function Ha(e){return ef(e,tt,za)}function $a(e){return ef(e,Ct,If)}var ja=ko?function(e){return ko.get(e)}:uu;function jo(e){for(var r=e.name+"",s=ci[r],u=Te.call(ci,r)?s.length:0;u--;){var l=s[u],d=l.func;if(d==null||d==e)return l.name}return r}function hi(e){var r=Te.call(f,"placeholder")?f:e;return r.placeholder}function V(){var e=f.iteratee||su;return e=e===su?rf:e,arguments.length?e(arguments[0],arguments[1]):e}function Uo(e,r){var s=e.__data__;return e_(r)?s[typeof r=="string"?"string":"hash"]:s.map}function Ua(e){for(var r=tt(e),s=r.length;s--;){var u=r[s],l=e[u];r[s]=[u,l,Wf(l)]}return r}function xr(e,r){var s=rm(e,r);return nf(s)?s:i}function Gy(e){var r=Te.call(e,qr),s=e[qr];try{e[qr]=i;var u=!0}catch{}var l=wo.call(e);return u&&(r?e[qr]=s:delete e[qr]),l}var za=_a?function(e){return e==null?[]:(e=Pe(e),ur(_a(e),function(r){return Hl.call(e,r)}))}:cu,If=_a?function(e){for(var r=[];e;)cr(r,za(e)),e=Do(e);return r}:cu,ht=vt;(va&&ht(new va(new ArrayBuffer(1)))!=$t||xi&&ht(new xi)!=he||ba&&ht(ba.resolve())!=er||ui&&ht(new ui)!=Ie||Wi&&ht(new Wi)!=mn)&&(ht=function(e){var r=vt(e),s=r==yt?e.constructor:i,u=s?Wr(s):"";if(u)switch(u){case km:return $t;case Om:return he;case Am:return er;case Nm:return Ie;case qm:return mn}return r});function Jy(e,r,s){for(var u=-1,l=s.length;++u<l;){var d=s[u],p=d.size;switch(d.type){case"drop":e+=p;break;case"dropRight":r-=p;break;case"take":r=dt(r,e+p);break;case"takeRight":e=et(e,r-p);break}}return{start:e,end:r}}function Ky(e){var r=e.match(xe);return r?r[1].split(K):[]}function Ff(e,r,s){r=gr(r,e);for(var u=-1,l=r.length,d=!1;++u<l;){var p=wn(r[u]);if(!(d=e!=null&&s(e,p)))break;e=e[p]}return d||++u!=l?d:(l=e==null?0:e.length,!!l&&Xo(l)&&$n(p,l)&&(te(e)||Br(e)))}function Yy(e){var r=e.length,s=new e.constructor(r);return r&&typeof e[0]=="string"&&Te.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function xf(e){return typeof e.constructor=="function"&&!Ji(e)?li(Do(e)):{}}function Xy(e,r,s){var u=e.constructor;switch(r){case sn:return xa(e);case lt:case ft:return new u(+e);case $t:return My(e,s);case At:case Nn:case tr:case nr:case qn:case Mn:case rr:case ir:case or:return bf(e,s);case he:return new u;case it:case on:return new u(e);case rn:return Ly(e);case Ie:return new u;case An:return Iy(e)}}function Qy(e,r){var s=r.length;if(!s)return e;var u=s-1;return r[u]=(s>1?"& ":"")+r[u],r=r.join(s>2?", ":" "),e.replace(Fe,`{
/* [wrapped with `+r+`] */
`)}function Zy(e){return te(e)||Br(e)||!!($l&&e&&e[$l])}function $n(e,r){var s=typeof e;return r=r??kt,!!r&&(s=="number"||s!="symbol"&&ke.test(e))&&e>-1&&e%1==0&&e<r}function bt(e,r,s){if(!Be(s))return!1;var u=typeof r;return(u=="number"?St(s)&&$n(r,s.length):u=="string"&&r in s)?ln(s[r],e):!1}function Va(e,r){if(te(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Lt(e)?!0:yn.test(e)||!an.test(e)||r!=null&&e in Pe(r)}function e_(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Ga(e){var r=jo(e),s=f[r];if(typeof s!="function"||!(r in ue.prototype))return!1;if(e===s)return!0;var u=ja(s);return!!u&&e===u[0]}function t_(e){return!!xl&&xl in e}var n_=vo?jn:lu;function Ji(e){var r=e&&e.constructor,s=typeof r=="function"&&r.prototype||ai;return e===s}function Wf(e){return e===e&&!Be(e)}function Bf(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==i||e in Pe(s))}}function r_(e){var r=Ko(e,function(u){return s.size===C&&s.clear(),u}),s=r.cache;return r}function i_(e,r){var s=e[1],u=r[1],l=s|u,d=l<(ve|Y|Ce),p=u==Ce&&s==R||u==Ce&&s==Wt&&e[7].length<=r[8]||u==(Ce|Wt)&&r[7].length<=r[8]&&s==R;if(!(d||p))return e;u&ve&&(e[2]=r[2],l|=s&ve?0:S);var y=r[3];if(y){var b=e[3];e[3]=b?Rf(b,y,r[4]):y,e[4]=b?lr(e[3],k):r[4]}return y=r[5],y&&(b=e[5],e[5]=b?Tf(b,y,r[6]):y,e[6]=b?lr(e[5],k):r[6]),y=r[7],y&&(e[7]=y),u&Ce&&(e[8]=e[8]==null?r[8]:dt(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=l,e}function o_(e){var r=[];if(e!=null)for(var s in Pe(e))r.push(s);return r}function s_(e){return wo.call(e)}function Hf(e,r,s){return r=et(r===i?e.length-1:r,0),function(){for(var u=arguments,l=-1,d=et(u.length-r,0),p=T(d);++l<d;)p[l]=u[r+l];l=-1;for(var y=T(r+1);++l<r;)y[l]=u[l];return y[r]=s(p),Nt(e,this,y)}}function $f(e,r){return r.length<2?e:Fr(e,Jt(r,0,-1))}function a_(e,r){for(var s=e.length,u=dt(r.length,s),l=Dt(e);u--;){var d=r[u];e[u]=$n(d,s)?l[d]:i}return e}function Ja(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var jf=zf(df),Ki=Rm||function(e,r){return st.setTimeout(e,r)},Ka=zf(Oy);function Uf(e,r,s){var u=r+"";return Ka(e,Qy(u,u_(Ky(u),s)))}function zf(e){var r=0,s=0;return function(){var u=Cm(),l=q-(u-s);if(s=u,l>0){if(++r>=Er)return arguments[0]}else r=0;return e.apply(i,arguments)}}function zo(e,r){var s=-1,u=e.length,l=u-1;for(r=r===i?u:r;++s<r;){var d=Aa(s,l),p=e[d];e[d]=e[s],e[s]=p}return e.length=r,e}var Vf=r_(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(ti,function(s,u,l,d){r.push(l?d.replace(F,"$1"):u||s)}),r});function wn(e){if(typeof e=="string"||Lt(e))return e;var r=e+"";return r=="0"&&1/e==-me?"-0":r}function Wr(e){if(e!=null){try{return bo.call(e)}catch{}try{return e+""}catch{}}return""}function u_(e,r){return Ut(pn,function(s){var u="_."+s[0];r&s[1]&&!po(e,u)&&e.push(u)}),e.sort()}function Gf(e){if(e instanceof ue)return e.clone();var r=new Vt(e.__wrapped__,e.__chain__);return r.__actions__=Dt(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function c_(e,r,s){(s?bt(e,r,s):r===i)?r=1:r=et(re(r),0);var u=e==null?0:e.length;if(!u||r<1)return[];for(var l=0,d=0,p=T(Po(u/r));l<u;)p[d++]=Jt(e,l,l+=r);return p}function l_(e){for(var r=-1,s=e==null?0:e.length,u=0,l=[];++r<s;){var d=e[r];d&&(l[u++]=d)}return l}function f_(){var e=arguments.length;if(!e)return[];for(var r=T(e-1),s=arguments[0],u=e;u--;)r[u-1]=arguments[u];return cr(te(s)?Dt(s):[s],at(r,1))}var d_=oe(function(e,r){return Ve(e)?ji(e,at(r,1,Ve,!0)):[]}),h_=oe(function(e,r){var s=Kt(r);return Ve(s)&&(s=i),Ve(e)?ji(e,at(r,1,Ve,!0),V(s,2)):[]}),g_=oe(function(e,r){var s=Kt(r);return Ve(s)&&(s=i),Ve(e)?ji(e,at(r,1,Ve,!0),i,s):[]});function p_(e,r,s){var u=e==null?0:e.length;return u?(r=s||r===i?1:re(r),Jt(e,r<0?0:r,u)):[]}function m_(e,r,s){var u=e==null?0:e.length;return u?(r=s||r===i?1:re(r),r=u-r,Jt(e,0,r<0?0:r)):[]}function y_(e,r){return e&&e.length?Fo(e,V(r,3),!0,!0):[]}function __(e,r){return e&&e.length?Fo(e,V(r,3),!0):[]}function v_(e,r,s,u){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&bt(e,r,s)&&(s=0,u=l),fy(e,r,s,u)):[]}function Jf(e,r,s){var u=e==null?0:e.length;if(!u)return-1;var l=s==null?0:re(s);return l<0&&(l=et(u+l,0)),mo(e,V(r,3),l)}function Kf(e,r,s){var u=e==null?0:e.length;if(!u)return-1;var l=u-1;return s!==i&&(l=re(s),l=s<0?et(u+l,0):dt(l,u-1)),mo(e,V(r,3),l,!0)}function Yf(e){var r=e==null?0:e.length;return r?at(e,1):[]}function b_(e){var r=e==null?0:e.length;return r?at(e,me):[]}function w_(e,r){var s=e==null?0:e.length;return s?(r=r===i?1:re(r),at(e,r)):[]}function R_(e){for(var r=-1,s=e==null?0:e.length,u={};++r<s;){var l=e[r];u[l[0]]=l[1]}return u}function Xf(e){return e&&e.length?e[0]:i}function T_(e,r,s){var u=e==null?0:e.length;if(!u)return-1;var l=s==null?0:re(s);return l<0&&(l=et(u+l,0)),ri(e,r,l)}function D_(e){var r=e==null?0:e.length;return r?Jt(e,0,-1):[]}var S_=oe(function(e){var r=Me(e,Ia);return r.length&&r[0]===e[0]?Ca(r):[]}),C_=oe(function(e){var r=Kt(e),s=Me(e,Ia);return r===Kt(s)?r=i:s.pop(),s.length&&s[0]===e[0]?Ca(s,V(r,2)):[]}),P_=oe(function(e){var r=Kt(e),s=Me(e,Ia);return r=typeof r=="function"?r:i,r&&s.pop(),s.length&&s[0]===e[0]?Ca(s,i,r):[]});function E_(e,r){return e==null?"":Dm.call(e,r)}function Kt(e){var r=e==null?0:e.length;return r?e[r-1]:i}function k_(e,r,s){var u=e==null?0:e.length;if(!u)return-1;var l=u;return s!==i&&(l=re(s),l=l<0?et(u+l,0):dt(l,u-1)),r===r?um(e,r,l):mo(e,Ol,l,!0)}function O_(e,r){return e&&e.length?uf(e,re(r)):i}var A_=oe(Qf);function Qf(e,r){return e&&e.length&&r&&r.length?Oa(e,r):e}function N_(e,r,s){return e&&e.length&&r&&r.length?Oa(e,r,V(s,2)):e}function q_(e,r,s){return e&&e.length&&r&&r.length?Oa(e,r,i,s):e}var M_=Hn(function(e,r){var s=e==null?0:e.length,u=Ra(e,r);return ff(e,Me(r,function(l){return $n(l,s)?+l:l}).sort(wf)),u});function L_(e,r){var s=[];if(!(e&&e.length))return s;var u=-1,l=[],d=e.length;for(r=V(r,3);++u<d;){var p=e[u];r(p,u,e)&&(s.push(p),l.push(u))}return ff(e,l),s}function Ya(e){return e==null?e:Em.call(e)}function I_(e,r,s){var u=e==null?0:e.length;return u?(s&&typeof s!="number"&&bt(e,r,s)?(r=0,s=u):(r=r==null?0:re(r),s=s===i?u:re(s)),Jt(e,r,s)):[]}function F_(e,r){return Io(e,r)}function x_(e,r,s){return qa(e,r,V(s,2))}function W_(e,r){var s=e==null?0:e.length;if(s){var u=Io(e,r);if(u<s&&ln(e[u],r))return u}return-1}function B_(e,r){return Io(e,r,!0)}function H_(e,r,s){return qa(e,r,V(s,2),!0)}function $_(e,r){var s=e==null?0:e.length;if(s){var u=Io(e,r,!0)-1;if(ln(e[u],r))return u}return-1}function j_(e){return e&&e.length?hf(e):[]}function U_(e,r){return e&&e.length?hf(e,V(r,2)):[]}function z_(e){var r=e==null?0:e.length;return r?Jt(e,1,r):[]}function V_(e,r,s){return e&&e.length?(r=s||r===i?1:re(r),Jt(e,0,r<0?0:r)):[]}function G_(e,r,s){var u=e==null?0:e.length;return u?(r=s||r===i?1:re(r),r=u-r,Jt(e,r<0?0:r,u)):[]}function J_(e,r){return e&&e.length?Fo(e,V(r,3),!1,!0):[]}function K_(e,r){return e&&e.length?Fo(e,V(r,3)):[]}var Y_=oe(function(e){return hr(at(e,1,Ve,!0))}),X_=oe(function(e){var r=Kt(e);return Ve(r)&&(r=i),hr(at(e,1,Ve,!0),V(r,2))}),Q_=oe(function(e){var r=Kt(e);return r=typeof r=="function"?r:i,hr(at(e,1,Ve,!0),i,r)});function Z_(e){return e&&e.length?hr(e):[]}function ev(e,r){return e&&e.length?hr(e,V(r,2)):[]}function tv(e,r){return r=typeof r=="function"?r:i,e&&e.length?hr(e,i,r):[]}function Xa(e){if(!(e&&e.length))return[];var r=0;return e=ur(e,function(s){if(Ve(s))return r=et(s.length,r),!0}),ga(r,function(s){return Me(e,fa(s))})}function Zf(e,r){if(!(e&&e.length))return[];var s=Xa(e);return r==null?s:Me(s,function(u){return Nt(r,i,u)})}var nv=oe(function(e,r){return Ve(e)?ji(e,r):[]}),rv=oe(function(e){return La(ur(e,Ve))}),iv=oe(function(e){var r=Kt(e);return Ve(r)&&(r=i),La(ur(e,Ve),V(r,2))}),ov=oe(function(e){var r=Kt(e);return r=typeof r=="function"?r:i,La(ur(e,Ve),i,r)}),sv=oe(Xa);function av(e,r){return yf(e||[],r||[],$i)}function uv(e,r){return yf(e||[],r||[],Vi)}var cv=oe(function(e){var r=e.length,s=r>1?e[r-1]:i;return s=typeof s=="function"?(e.pop(),s):i,Zf(e,s)});function ed(e){var r=f(e);return r.__chain__=!0,r}function lv(e,r){return r(e),e}function Vo(e,r){return r(e)}var fv=Hn(function(e){var r=e.length,s=r?e[0]:0,u=this.__wrapped__,l=function(d){return Ra(d,e)};return r>1||this.__actions__.length||!(u instanceof ue)||!$n(s)?this.thru(l):(u=u.slice(s,+s+(r?1:0)),u.__actions__.push({func:Vo,args:[l],thisArg:i}),new Vt(u,this.__chain__).thru(function(d){return r&&!d.length&&d.push(i),d}))});function dv(){return ed(this)}function hv(){return new Vt(this.value(),this.__chain__)}function gv(){this.__values__===i&&(this.__values__=gd(this.value()));var e=this.__index__>=this.__values__.length,r=e?i:this.__values__[this.__index__++];return{done:e,value:r}}function pv(){return this}function mv(e){for(var r,s=this;s instanceof Ao;){var u=Gf(s);u.__index__=0,u.__values__=i,r?l.__wrapped__=u:r=u;var l=u;s=s.__wrapped__}return l.__wrapped__=e,r}function yv(){var e=this.__wrapped__;if(e instanceof ue){var r=e;return this.__actions__.length&&(r=new ue(this)),r=r.reverse(),r.__actions__.push({func:Vo,args:[Ya],thisArg:i}),new Vt(r,this.__chain__)}return this.thru(Ya)}function _v(){return mf(this.__wrapped__,this.__actions__)}var vv=xo(function(e,r,s){Te.call(e,s)?++e[s]:Wn(e,s,1)});function bv(e,r,s){var u=te(e)?El:ly;return s&&bt(e,r,s)&&(r=i),u(e,V(r,3))}function wv(e,r){var s=te(e)?ur:Ql;return s(e,V(r,3))}var Rv=Pf(Jf),Tv=Pf(Kf);function Dv(e,r){return at(Go(e,r),1)}function Sv(e,r){return at(Go(e,r),me)}function Cv(e,r,s){return s=s===i?1:re(s),at(Go(e,r),s)}function td(e,r){var s=te(e)?Ut:dr;return s(e,V(r,3))}function nd(e,r){var s=te(e)?zp:Xl;return s(e,V(r,3))}var Pv=xo(function(e,r,s){Te.call(e,s)?e[s].push(r):Wn(e,s,[r])});function Ev(e,r,s,u){e=St(e)?e:pi(e),s=s&&!u?re(s):0;var l=e.length;return s<0&&(s=et(l+s,0)),Qo(e)?s<=l&&e.indexOf(r,s)>-1:!!l&&ri(e,r,s)>-1}var kv=oe(function(e,r,s){var u=-1,l=typeof r=="function",d=St(e)?T(e.length):[];return dr(e,function(p){d[++u]=l?Nt(r,p,s):Ui(p,r,s)}),d}),Ov=xo(function(e,r,s){Wn(e,s,r)});function Go(e,r){var s=te(e)?Me:of;return s(e,V(r,3))}function Av(e,r,s,u){return e==null?[]:(te(r)||(r=r==null?[]:[r]),s=u?i:s,te(s)||(s=s==null?[]:[s]),cf(e,r,s))}var Nv=xo(function(e,r,s){e[s?0:1].push(r)},function(){return[[],[]]});function qv(e,r,s){var u=te(e)?ca:Nl,l=arguments.length<3;return u(e,V(r,4),s,l,dr)}function Mv(e,r,s){var u=te(e)?Vp:Nl,l=arguments.length<3;return u(e,V(r,4),s,l,Xl)}function Lv(e,r){var s=te(e)?ur:Ql;return s(e,Yo(V(r,3)))}function Iv(e){var r=te(e)?Gl:Ey;return r(e)}function Fv(e,r,s){(s?bt(e,r,s):r===i)?r=1:r=re(r);var u=te(e)?oy:ky;return u(e,r)}function xv(e){var r=te(e)?sy:Ay;return r(e)}function Wv(e){if(e==null)return 0;if(St(e))return Qo(e)?oi(e):e.length;var r=ht(e);return r==he||r==Ie?e.size:Ea(e).length}function Bv(e,r,s){var u=te(e)?la:Ny;return s&&bt(e,r,s)&&(r=i),u(e,V(r,3))}var Hv=oe(function(e,r){if(e==null)return[];var s=r.length;return s>1&&bt(e,r[0],r[1])?r=[]:s>2&&bt(r[0],r[1],r[2])&&(r=[r[0]]),cf(e,at(r,1),[])}),Jo=wm||function(){return st.Date.now()};function $v(e,r){if(typeof r!="function")throw new zt(g);return e=re(e),function(){if(--e<1)return r.apply(this,arguments)}}function rd(e,r,s){return r=s?i:r,r=e&&r==null?e.length:r,Bn(e,Ce,i,i,i,i,r)}function id(e,r){var s;if(typeof r!="function")throw new zt(g);return e=re(e),function(){return--e>0&&(s=r.apply(this,arguments)),e<=1&&(r=i),s}}var Qa=oe(function(e,r,s){var u=ve;if(s.length){var l=lr(s,hi(Qa));u|=be}return Bn(e,u,r,s,l)}),od=oe(function(e,r,s){var u=ve|Y;if(s.length){var l=lr(s,hi(od));u|=be}return Bn(r,u,e,s,l)});function sd(e,r,s){r=s?i:r;var u=Bn(e,R,i,i,i,i,i,r);return u.placeholder=sd.placeholder,u}function ad(e,r,s){r=s?i:r;var u=Bn(e,I,i,i,i,i,i,r);return u.placeholder=ad.placeholder,u}function ud(e,r,s){var u,l,d,p,y,b,E=0,A=!1,N=!1,W=!0;if(typeof e!="function")throw new zt(g);r=Yt(r)||0,Be(s)&&(A=!!s.leading,N="maxWait"in s,d=N?et(Yt(s.maxWait)||0,r):d,W="trailing"in s?!!s.trailing:W);function j(Ge){var fn=u,zn=l;return u=l=i,E=Ge,p=e.apply(zn,fn),p}function G(Ge){return E=Ge,y=Ki(ae,r),A?j(Ge):p}function ie(Ge){var fn=Ge-b,zn=Ge-E,Pd=r-fn;return N?dt(Pd,d-zn):Pd}function J(Ge){var fn=Ge-b,zn=Ge-E;return b===i||fn>=r||fn<0||N&&zn>=d}function ae(){var Ge=Jo();if(J(Ge))return fe(Ge);y=Ki(ae,ie(Ge))}function fe(Ge){return y=i,W&&u?j(Ge):(u=l=i,p)}function It(){y!==i&&_f(y),E=0,u=b=l=y=i}function wt(){return y===i?p:fe(Jo())}function Ft(){var Ge=Jo(),fn=J(Ge);if(u=arguments,l=this,b=Ge,fn){if(y===i)return G(b);if(N)return _f(y),y=Ki(ae,r),j(b)}return y===i&&(y=Ki(ae,r)),p}return Ft.cancel=It,Ft.flush=wt,Ft}var jv=oe(function(e,r){return Yl(e,1,r)}),Uv=oe(function(e,r,s){return Yl(e,Yt(r)||0,s)});function zv(e){return Bn(e,Bt)}function Ko(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new zt(g);var s=function(){var u=arguments,l=r?r.apply(this,u):u[0],d=s.cache;if(d.has(l))return d.get(l);var p=e.apply(this,u);return s.cache=d.set(l,p)||d,p};return s.cache=new(Ko.Cache||xn),s}Ko.Cache=xn;function Yo(e){if(typeof e!="function")throw new zt(g);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function Vv(e){return id(2,e)}var Gv=qy(function(e,r){r=r.length==1&&te(r[0])?Me(r[0],qt(V())):Me(at(r,1),qt(V()));var s=r.length;return oe(function(u){for(var l=-1,d=dt(u.length,s);++l<d;)u[l]=r[l].call(this,u[l]);return Nt(e,this,u)})}),Za=oe(function(e,r){var s=lr(r,hi(Za));return Bn(e,be,i,r,s)}),cd=oe(function(e,r){var s=lr(r,hi(cd));return Bn(e,De,i,r,s)}),Jv=Hn(function(e,r){return Bn(e,Wt,i,i,i,r)});function Kv(e,r){if(typeof e!="function")throw new zt(g);return r=r===i?r:re(r),oe(e,r)}function Yv(e,r){if(typeof e!="function")throw new zt(g);return r=r==null?0:et(re(r),0),oe(function(s){var u=s[r],l=pr(s,0,r);return u&&cr(l,u),Nt(e,this,l)})}function Xv(e,r,s){var u=!0,l=!0;if(typeof e!="function")throw new zt(g);return Be(s)&&(u="leading"in s?!!s.leading:u,l="trailing"in s?!!s.trailing:l),ud(e,r,{leading:u,maxWait:r,trailing:l})}function Qv(e){return rd(e,1)}function Zv(e,r){return Za(Fa(r),e)}function eb(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function tb(e){return Gt(e,$)}function nb(e,r){return r=typeof r=="function"?r:i,Gt(e,$,r)}function rb(e){return Gt(e,L|$)}function ib(e,r){return r=typeof r=="function"?r:i,Gt(e,L|$,r)}function ob(e,r){return r==null||Kl(e,r,tt(r))}function ln(e,r){return e===r||e!==e&&r!==r}var sb=$o(Sa),ab=$o(function(e,r){return e>=r}),Br=tf(function(){return arguments}())?tf:function(e){return $e(e)&&Te.call(e,"callee")&&!Hl.call(e,"callee")},te=T.isArray,ub=Rl?qt(Rl):my;function St(e){return e!=null&&Xo(e.length)&&!jn(e)}function Ve(e){return $e(e)&&St(e)}function cb(e){return e===!0||e===!1||$e(e)&&vt(e)==lt}var mr=Tm||lu,lb=Tl?qt(Tl):yy;function fb(e){return $e(e)&&e.nodeType===1&&!Yi(e)}function db(e){if(e==null)return!0;if(St(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||mr(e)||gi(e)||Br(e)))return!e.length;var r=ht(e);if(r==he||r==Ie)return!e.size;if(Ji(e))return!Ea(e).length;for(var s in e)if(Te.call(e,s))return!1;return!0}function hb(e,r){return zi(e,r)}function gb(e,r,s){s=typeof s=="function"?s:i;var u=s?s(e,r):i;return u===i?zi(e,r,i,s):!!u}function eu(e){if(!$e(e))return!1;var r=vt(e);return r==rt||r==On||typeof e.message=="string"&&typeof e.name=="string"&&!Yi(e)}function pb(e){return typeof e=="number"&&jl(e)}function jn(e){if(!Be(e))return!1;var r=vt(e);return r==ge||r==Ot||r==Qn||r==kr}function ld(e){return typeof e=="number"&&e==re(e)}function Xo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kt}function Be(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function $e(e){return e!=null&&typeof e=="object"}var fd=Dl?qt(Dl):vy;function mb(e,r){return e===r||Pa(e,r,Ua(r))}function yb(e,r,s){return s=typeof s=="function"?s:i,Pa(e,r,Ua(r),s)}function _b(e){return dd(e)&&e!=+e}function vb(e){if(n_(e))throw new Q(c);return nf(e)}function bb(e){return e===null}function wb(e){return e==null}function dd(e){return typeof e=="number"||$e(e)&&vt(e)==it}function Yi(e){if(!$e(e)||vt(e)!=yt)return!1;var r=Do(e);if(r===null)return!0;var s=Te.call(r,"constructor")&&r.constructor;return typeof s=="function"&&s instanceof s&&bo.call(s)==ym}var tu=Sl?qt(Sl):by;function Rb(e){return ld(e)&&e>=-kt&&e<=kt}var hd=Cl?qt(Cl):wy;function Qo(e){return typeof e=="string"||!te(e)&&$e(e)&&vt(e)==on}function Lt(e){return typeof e=="symbol"||$e(e)&&vt(e)==An}var gi=Pl?qt(Pl):Ry;function Tb(e){return e===i}function Db(e){return $e(e)&&ht(e)==mn}function Sb(e){return $e(e)&&vt(e)==Kr}var Cb=$o(ka),Pb=$o(function(e,r){return e<=r});function gd(e){if(!e)return[];if(St(e))return Qo(e)?un(e):Dt(e);if(Fi&&e[Fi])return om(e[Fi]());var r=ht(e),s=r==he?ma:r==Ie?yo:pi;return s(e)}function Un(e){if(!e)return e===0?e:0;if(e=Yt(e),e===me||e===-me){var r=e<0?-1:1;return r*Gr}return e===e?e:0}function re(e){var r=Un(e),s=r%1;return r===r?s?r-s:r:0}function pd(e){return e?Ir(re(e),0,Qe):0}function Yt(e){if(typeof e=="number")return e;if(Lt(e))return En;if(Be(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Be(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ql(e);var s=Ne.test(e);return s||le.test(e)?$p(e.slice(2),s?2:8):Re.test(e)?En:+e}function md(e){return bn(e,Ct(e))}function Eb(e){return e?Ir(re(e),-kt,kt):e===0?e:0}function we(e){return e==null?"":Mt(e)}var kb=fi(function(e,r){if(Ji(r)||St(r)){bn(r,tt(r),e);return}for(var s in r)Te.call(r,s)&&$i(e,s,r[s])}),yd=fi(function(e,r){bn(r,Ct(r),e)}),Zo=fi(function(e,r,s,u){bn(r,Ct(r),e,u)}),Ob=fi(function(e,r,s,u){bn(r,tt(r),e,u)}),Ab=Hn(Ra);function Nb(e,r){var s=li(e);return r==null?s:Jl(s,r)}var qb=oe(function(e,r){e=Pe(e);var s=-1,u=r.length,l=u>2?r[2]:i;for(l&&bt(r[0],r[1],l)&&(u=1);++s<u;)for(var d=r[s],p=Ct(d),y=-1,b=p.length;++y<b;){var E=p[y],A=e[E];(A===i||ln(A,ai[E])&&!Te.call(e,E))&&(e[E]=d[E])}return e}),Mb=oe(function(e){return e.push(i,Mf),Nt(_d,i,e)});function Lb(e,r){return kl(e,V(r,3),vn)}function Ib(e,r){return kl(e,V(r,3),Da)}function Fb(e,r){return e==null?e:Ta(e,V(r,3),Ct)}function xb(e,r){return e==null?e:Zl(e,V(r,3),Ct)}function Wb(e,r){return e&&vn(e,V(r,3))}function Bb(e,r){return e&&Da(e,V(r,3))}function Hb(e){return e==null?[]:Mo(e,tt(e))}function $b(e){return e==null?[]:Mo(e,Ct(e))}function nu(e,r,s){var u=e==null?i:Fr(e,r);return u===i?s:u}function jb(e,r){return e!=null&&Ff(e,r,dy)}function ru(e,r){return e!=null&&Ff(e,r,hy)}var Ub=kf(function(e,r,s){r!=null&&typeof r.toString!="function"&&(r=wo.call(r)),e[r]=s},ou(Pt)),zb=kf(function(e,r,s){r!=null&&typeof r.toString!="function"&&(r=wo.call(r)),Te.call(e,r)?e[r].push(s):e[r]=[s]},V),Vb=oe(Ui);function tt(e){return St(e)?Vl(e):Ea(e)}function Ct(e){return St(e)?Vl(e,!0):Ty(e)}function Gb(e,r){var s={};return r=V(r,3),vn(e,function(u,l,d){Wn(s,r(u,l,d),u)}),s}function Jb(e,r){var s={};return r=V(r,3),vn(e,function(u,l,d){Wn(s,l,r(u,l,d))}),s}var Kb=fi(function(e,r,s){Lo(e,r,s)}),_d=fi(function(e,r,s,u){Lo(e,r,s,u)}),Yb=Hn(function(e,r){var s={};if(e==null)return s;var u=!1;r=Me(r,function(d){return d=gr(d,e),u||(u=d.length>1),d}),bn(e,$a(e),s),u&&(s=Gt(s,L|M|$,Uy));for(var l=r.length;l--;)Ma(s,r[l]);return s});function Xb(e,r){return vd(e,Yo(V(r)))}var Qb=Hn(function(e,r){return e==null?{}:Sy(e,r)});function vd(e,r){if(e==null)return{};var s=Me($a(e),function(u){return[u]});return r=V(r),lf(e,s,function(u,l){return r(u,l[0])})}function Zb(e,r,s){r=gr(r,e);var u=-1,l=r.length;for(l||(l=1,e=i);++u<l;){var d=e==null?i:e[wn(r[u])];d===i&&(u=l,d=s),e=jn(d)?d.call(e):d}return e}function ew(e,r,s){return e==null?e:Vi(e,r,s)}function tw(e,r,s,u){return u=typeof u=="function"?u:i,e==null?e:Vi(e,r,s,u)}var bd=Nf(tt),wd=Nf(Ct);function nw(e,r,s){var u=te(e),l=u||mr(e)||gi(e);if(r=V(r,4),s==null){var d=e&&e.constructor;l?s=u?new d:[]:Be(e)?s=jn(d)?li(Do(e)):{}:s={}}return(l?Ut:vn)(e,function(p,y,b){return r(s,p,y,b)}),s}function rw(e,r){return e==null?!0:Ma(e,r)}function iw(e,r,s){return e==null?e:pf(e,r,Fa(s))}function ow(e,r,s,u){return u=typeof u=="function"?u:i,e==null?e:pf(e,r,Fa(s),u)}function pi(e){return e==null?[]:pa(e,tt(e))}function sw(e){return e==null?[]:pa(e,Ct(e))}function aw(e,r,s){return s===i&&(s=r,r=i),s!==i&&(s=Yt(s),s=s===s?s:0),r!==i&&(r=Yt(r),r=r===r?r:0),Ir(Yt(e),r,s)}function uw(e,r,s){return r=Un(r),s===i?(s=r,r=0):s=Un(s),e=Yt(e),gy(e,r,s)}function cw(e,r,s){if(s&&typeof s!="boolean"&&bt(e,r,s)&&(r=s=i),s===i&&(typeof r=="boolean"?(s=r,r=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&r===i?(e=0,r=1):(e=Un(e),r===i?(r=e,e=0):r=Un(r)),e>r){var u=e;e=r,r=u}if(s||e%1||r%1){var l=Ul();return dt(e+l*(r-e+Hp("1e-"+((l+"").length-1))),r)}return Aa(e,r)}var lw=di(function(e,r,s){return r=r.toLowerCase(),e+(s?Rd(r):r)});function Rd(e){return iu(we(e).toLowerCase())}function Td(e){return e=we(e),e&&e.replace(ye,em).replace(Ap,"")}function fw(e,r,s){e=we(e),r=Mt(r);var u=e.length;s=s===i?u:Ir(re(s),0,u);var l=s;return s-=r.length,s>=0&&e.slice(s,l)==r}function dw(e){return e=we(e),e&&Ln.test(e)?e.replace(Or,tm):e}function hw(e){return e=we(e),e&&_n.test(e)?e.replace(ar,"\\$&"):e}var gw=di(function(e,r,s){return e+(s?"-":"")+r.toLowerCase()}),pw=di(function(e,r,s){return e+(s?" ":"")+r.toLowerCase()}),mw=Cf("toLowerCase");function yw(e,r,s){e=we(e),r=re(r);var u=r?oi(e):0;if(!r||u>=r)return e;var l=(r-u)/2;return Ho(Eo(l),s)+e+Ho(Po(l),s)}function _w(e,r,s){e=we(e),r=re(r);var u=r?oi(e):0;return r&&u<r?e+Ho(r-u,s):e}function vw(e,r,s){e=we(e),r=re(r);var u=r?oi(e):0;return r&&u<r?Ho(r-u,s)+e:e}function bw(e,r,s){return s||r==null?r=0:r&&(r=+r),Pm(we(e).replace(In,""),r||0)}function ww(e,r,s){return(s?bt(e,r,s):r===i)?r=1:r=re(r),Na(we(e),r)}function Rw(){var e=arguments,r=we(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Tw=di(function(e,r,s){return e+(s?"_":"")+r.toLowerCase()});function Dw(e,r,s){return s&&typeof s!="number"&&bt(e,r,s)&&(r=s=i),s=s===i?Qe:s>>>0,s?(e=we(e),e&&(typeof r=="string"||r!=null&&!tu(r))&&(r=Mt(r),!r&&ii(e))?pr(un(e),0,s):e.split(r,s)):[]}var Sw=di(function(e,r,s){return e+(s?" ":"")+iu(r)});function Cw(e,r,s){return e=we(e),s=s==null?0:Ir(re(s),0,e.length),r=Mt(r),e.slice(s,s+r.length)==r}function Pw(e,r,s){var u=f.templateSettings;s&&bt(e,r,s)&&(r=i),e=we(e),r=Zo({},r,u,qf);var l=Zo({},r.imports,u.imports,qf),d=tt(l),p=pa(l,d),y,b,E=0,A=r.interpolate||qe,N="__p += '",W=ya((r.escape||qe).source+"|"+A.source+"|"+(A===Ar?H:qe).source+"|"+(r.evaluate||qe).source+"|$","g"),j="//# sourceURL="+(Te.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ip+"]")+`
`;e.replace(W,function(J,ae,fe,It,wt,Ft){return fe||(fe=It),N+=e.slice(E,Ft).replace(ot,nm),ae&&(y=!0,N+=`' +
__e(`+ae+`) +
'`),wt&&(b=!0,N+=`';
`+wt+`;
__p += '`),fe&&(N+=`' +
((__t = (`+fe+`)) == null ? '' : __t) +
'`),E=Ft+J.length,J}),N+=`';
`;var G=Te.call(r,"variable")&&r.variable;if(!G)N=`with (obj) {
`+N+`
}
`;else if(O.test(G))throw new Q(_);N=(b?N.replace(Yr,""):N).replace(Xr,"$1").replace(Qr,"$1;"),N="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+N+`return __p
}`;var ie=Sd(function(){return _e(d,j+"return "+N).apply(i,p)});if(ie.source=N,eu(ie))throw ie;return ie}function Ew(e){return we(e).toLowerCase()}function kw(e){return we(e).toUpperCase()}function Ow(e,r,s){if(e=we(e),e&&(s||r===i))return ql(e);if(!e||!(r=Mt(r)))return e;var u=un(e),l=un(r),d=Ml(u,l),p=Ll(u,l)+1;return pr(u,d,p).join("")}function Aw(e,r,s){if(e=we(e),e&&(s||r===i))return e.slice(0,Fl(e)+1);if(!e||!(r=Mt(r)))return e;var u=un(e),l=Ll(u,un(r))+1;return pr(u,0,l).join("")}function Nw(e,r,s){if(e=we(e),e&&(s||r===i))return e.replace(In,"");if(!e||!(r=Mt(r)))return e;var u=un(e),l=Ml(u,un(r));return pr(u,l).join("")}function qw(e,r){var s=Xn,u=nt;if(Be(r)){var l="separator"in r?r.separator:l;s="length"in r?re(r.length):s,u="omission"in r?Mt(r.omission):u}e=we(e);var d=e.length;if(ii(e)){var p=un(e);d=p.length}if(s>=d)return e;var y=s-oi(u);if(y<1)return u;var b=p?pr(p,0,y).join(""):e.slice(0,y);if(l===i)return b+u;if(p&&(y+=b.length-y),tu(l)){if(e.slice(y).search(l)){var E,A=b;for(l.global||(l=ya(l.source,we(Se.exec(l))+"g")),l.lastIndex=0;E=l.exec(A);)var N=E.index;b=b.slice(0,N===i?y:N)}}else if(e.indexOf(Mt(l),y)!=y){var W=b.lastIndexOf(l);W>-1&&(b=b.slice(0,W))}return b+u}function Mw(e){return e=we(e),e&&Zr.test(e)?e.replace(Tt,cm):e}var Lw=di(function(e,r,s){return e+(s?" ":"")+r.toUpperCase()}),iu=Cf("toUpperCase");function Dd(e,r,s){return e=we(e),r=s?i:r,r===i?im(e)?dm(e):Kp(e):e.match(r)||[]}var Sd=oe(function(e,r){try{return Nt(e,i,r)}catch(s){return eu(s)?s:new Q(s)}}),Iw=Hn(function(e,r){return Ut(r,function(s){s=wn(s),Wn(e,s,Qa(e[s],e))}),e});function Fw(e){var r=e==null?0:e.length,s=V();return e=r?Me(e,function(u){if(typeof u[1]!="function")throw new zt(g);return[s(u[0]),u[1]]}):[],oe(function(u){for(var l=-1;++l<r;){var d=e[l];if(Nt(d[0],this,u))return Nt(d[1],this,u)}})}function xw(e){return cy(Gt(e,L))}function ou(e){return function(){return e}}function Ww(e,r){return e==null||e!==e?r:e}var Bw=Ef(),Hw=Ef(!0);function Pt(e){return e}function su(e){return rf(typeof e=="function"?e:Gt(e,L))}function $w(e){return sf(Gt(e,L))}function jw(e,r){return af(e,Gt(r,L))}var Uw=oe(function(e,r){return function(s){return Ui(s,e,r)}}),zw=oe(function(e,r){return function(s){return Ui(e,s,r)}});function au(e,r,s){var u=tt(r),l=Mo(r,u);s==null&&!(Be(r)&&(l.length||!u.length))&&(s=r,r=e,e=this,l=Mo(r,tt(r)));var d=!(Be(s)&&"chain"in s)||!!s.chain,p=jn(e);return Ut(l,function(y){var b=r[y];e[y]=b,p&&(e.prototype[y]=function(){var E=this.__chain__;if(d||E){var A=e(this.__wrapped__),N=A.__actions__=Dt(this.__actions__);return N.push({func:b,args:arguments,thisArg:e}),A.__chain__=E,A}return b.apply(e,cr([this.value()],arguments))})}),e}function Vw(){return st._===this&&(st._=_m),this}function uu(){}function Gw(e){return e=re(e),oe(function(r){return uf(r,e)})}var Jw=Wa(Me),Kw=Wa(El),Yw=Wa(la);function Cd(e){return Va(e)?fa(wn(e)):Cy(e)}function Xw(e){return function(r){return e==null?i:Fr(e,r)}}var Qw=Of(),Zw=Of(!0);function cu(){return[]}function lu(){return!1}function e0(){return{}}function t0(){return""}function n0(){return!0}function r0(e,r){if(e=re(e),e<1||e>kt)return[];var s=Qe,u=dt(e,Qe);r=V(r),e-=Qe;for(var l=ga(u,r);++s<e;)r(s);return l}function i0(e){return te(e)?Me(e,wn):Lt(e)?[e]:Dt(Vf(we(e)))}function o0(e){var r=++mm;return we(e)+r}var s0=Bo(function(e,r){return e+r},0),a0=Ba("ceil"),u0=Bo(function(e,r){return e/r},1),c0=Ba("floor");function l0(e){return e&&e.length?qo(e,Pt,Sa):i}function f0(e,r){return e&&e.length?qo(e,V(r,2),Sa):i}function d0(e){return Al(e,Pt)}function h0(e,r){return Al(e,V(r,2))}function g0(e){return e&&e.length?qo(e,Pt,ka):i}function p0(e,r){return e&&e.length?qo(e,V(r,2),ka):i}var m0=Bo(function(e,r){return e*r},1),y0=Ba("round"),_0=Bo(function(e,r){return e-r},0);function v0(e){return e&&e.length?ha(e,Pt):0}function b0(e,r){return e&&e.length?ha(e,V(r,2)):0}return f.after=$v,f.ary=rd,f.assign=kb,f.assignIn=yd,f.assignInWith=Zo,f.assignWith=Ob,f.at=Ab,f.before=id,f.bind=Qa,f.bindAll=Iw,f.bindKey=od,f.castArray=eb,f.chain=ed,f.chunk=c_,f.compact=l_,f.concat=f_,f.cond=Fw,f.conforms=xw,f.constant=ou,f.countBy=vv,f.create=Nb,f.curry=sd,f.curryRight=ad,f.debounce=ud,f.defaults=qb,f.defaultsDeep=Mb,f.defer=jv,f.delay=Uv,f.difference=d_,f.differenceBy=h_,f.differenceWith=g_,f.drop=p_,f.dropRight=m_,f.dropRightWhile=y_,f.dropWhile=__,f.fill=v_,f.filter=wv,f.flatMap=Dv,f.flatMapDeep=Sv,f.flatMapDepth=Cv,f.flatten=Yf,f.flattenDeep=b_,f.flattenDepth=w_,f.flip=zv,f.flow=Bw,f.flowRight=Hw,f.fromPairs=R_,f.functions=Hb,f.functionsIn=$b,f.groupBy=Pv,f.initial=D_,f.intersection=S_,f.intersectionBy=C_,f.intersectionWith=P_,f.invert=Ub,f.invertBy=zb,f.invokeMap=kv,f.iteratee=su,f.keyBy=Ov,f.keys=tt,f.keysIn=Ct,f.map=Go,f.mapKeys=Gb,f.mapValues=Jb,f.matches=$w,f.matchesProperty=jw,f.memoize=Ko,f.merge=Kb,f.mergeWith=_d,f.method=Uw,f.methodOf=zw,f.mixin=au,f.negate=Yo,f.nthArg=Gw,f.omit=Yb,f.omitBy=Xb,f.once=Vv,f.orderBy=Av,f.over=Jw,f.overArgs=Gv,f.overEvery=Kw,f.overSome=Yw,f.partial=Za,f.partialRight=cd,f.partition=Nv,f.pick=Qb,f.pickBy=vd,f.property=Cd,f.propertyOf=Xw,f.pull=A_,f.pullAll=Qf,f.pullAllBy=N_,f.pullAllWith=q_,f.pullAt=M_,f.range=Qw,f.rangeRight=Zw,f.rearg=Jv,f.reject=Lv,f.remove=L_,f.rest=Kv,f.reverse=Ya,f.sampleSize=Fv,f.set=ew,f.setWith=tw,f.shuffle=xv,f.slice=I_,f.sortBy=Hv,f.sortedUniq=j_,f.sortedUniqBy=U_,f.split=Dw,f.spread=Yv,f.tail=z_,f.take=V_,f.takeRight=G_,f.takeRightWhile=J_,f.takeWhile=K_,f.tap=lv,f.throttle=Xv,f.thru=Vo,f.toArray=gd,f.toPairs=bd,f.toPairsIn=wd,f.toPath=i0,f.toPlainObject=md,f.transform=nw,f.unary=Qv,f.union=Y_,f.unionBy=X_,f.unionWith=Q_,f.uniq=Z_,f.uniqBy=ev,f.uniqWith=tv,f.unset=rw,f.unzip=Xa,f.unzipWith=Zf,f.update=iw,f.updateWith=ow,f.values=pi,f.valuesIn=sw,f.without=nv,f.words=Dd,f.wrap=Zv,f.xor=rv,f.xorBy=iv,f.xorWith=ov,f.zip=sv,f.zipObject=av,f.zipObjectDeep=uv,f.zipWith=cv,f.entries=bd,f.entriesIn=wd,f.extend=yd,f.extendWith=Zo,au(f,f),f.add=s0,f.attempt=Sd,f.camelCase=lw,f.capitalize=Rd,f.ceil=a0,f.clamp=aw,f.clone=tb,f.cloneDeep=rb,f.cloneDeepWith=ib,f.cloneWith=nb,f.conformsTo=ob,f.deburr=Td,f.defaultTo=Ww,f.divide=u0,f.endsWith=fw,f.eq=ln,f.escape=dw,f.escapeRegExp=hw,f.every=bv,f.find=Rv,f.findIndex=Jf,f.findKey=Lb,f.findLast=Tv,f.findLastIndex=Kf,f.findLastKey=Ib,f.floor=c0,f.forEach=td,f.forEachRight=nd,f.forIn=Fb,f.forInRight=xb,f.forOwn=Wb,f.forOwnRight=Bb,f.get=nu,f.gt=sb,f.gte=ab,f.has=jb,f.hasIn=ru,f.head=Xf,f.identity=Pt,f.includes=Ev,f.indexOf=T_,f.inRange=uw,f.invoke=Vb,f.isArguments=Br,f.isArray=te,f.isArrayBuffer=ub,f.isArrayLike=St,f.isArrayLikeObject=Ve,f.isBoolean=cb,f.isBuffer=mr,f.isDate=lb,f.isElement=fb,f.isEmpty=db,f.isEqual=hb,f.isEqualWith=gb,f.isError=eu,f.isFinite=pb,f.isFunction=jn,f.isInteger=ld,f.isLength=Xo,f.isMap=fd,f.isMatch=mb,f.isMatchWith=yb,f.isNaN=_b,f.isNative=vb,f.isNil=wb,f.isNull=bb,f.isNumber=dd,f.isObject=Be,f.isObjectLike=$e,f.isPlainObject=Yi,f.isRegExp=tu,f.isSafeInteger=Rb,f.isSet=hd,f.isString=Qo,f.isSymbol=Lt,f.isTypedArray=gi,f.isUndefined=Tb,f.isWeakMap=Db,f.isWeakSet=Sb,f.join=E_,f.kebabCase=gw,f.last=Kt,f.lastIndexOf=k_,f.lowerCase=pw,f.lowerFirst=mw,f.lt=Cb,f.lte=Pb,f.max=l0,f.maxBy=f0,f.mean=d0,f.meanBy=h0,f.min=g0,f.minBy=p0,f.stubArray=cu,f.stubFalse=lu,f.stubObject=e0,f.stubString=t0,f.stubTrue=n0,f.multiply=m0,f.nth=O_,f.noConflict=Vw,f.noop=uu,f.now=Jo,f.pad=yw,f.padEnd=_w,f.padStart=vw,f.parseInt=bw,f.random=cw,f.reduce=qv,f.reduceRight=Mv,f.repeat=ww,f.replace=Rw,f.result=Zb,f.round=y0,f.runInContext=v,f.sample=Iv,f.size=Wv,f.snakeCase=Tw,f.some=Bv,f.sortedIndex=F_,f.sortedIndexBy=x_,f.sortedIndexOf=W_,f.sortedLastIndex=B_,f.sortedLastIndexBy=H_,f.sortedLastIndexOf=$_,f.startCase=Sw,f.startsWith=Cw,f.subtract=_0,f.sum=v0,f.sumBy=b0,f.template=Pw,f.times=r0,f.toFinite=Un,f.toInteger=re,f.toLength=pd,f.toLower=Ew,f.toNumber=Yt,f.toSafeInteger=Eb,f.toString=we,f.toUpper=kw,f.trim=Ow,f.trimEnd=Aw,f.trimStart=Nw,f.truncate=qw,f.unescape=Mw,f.uniqueId=o0,f.upperCase=Lw,f.upperFirst=iu,f.each=td,f.eachRight=nd,f.first=Xf,au(f,function(){var e={};return vn(f,function(r,s){Te.call(f.prototype,s)||(e[s]=r)}),e}(),{chain:!1}),f.VERSION=o,Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Ut(["drop","take"],function(e,r){ue.prototype[e]=function(s){s=s===i?1:et(re(s),0);var u=this.__filtered__&&!r?new ue(this):this.clone();return u.__filtered__?u.__takeCount__=dt(s,u.__takeCount__):u.__views__.push({size:dt(s,Qe),type:e+(u.__dir__<0?"Right":"")}),u},ue.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Ut(["filter","map","takeWhile"],function(e,r){var s=r+1,u=s==ee||s==z;ue.prototype[e]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:V(l,3),type:s}),d.__filtered__=d.__filtered__||u,d}}),Ut(["head","last"],function(e,r){var s="take"+(r?"Right":"");ue.prototype[e]=function(){return this[s](1).value()[0]}}),Ut(["initial","tail"],function(e,r){var s="drop"+(r?"":"Right");ue.prototype[e]=function(){return this.__filtered__?new ue(this):this[s](1)}}),ue.prototype.compact=function(){return this.filter(Pt)},ue.prototype.find=function(e){return this.filter(e).head()},ue.prototype.findLast=function(e){return this.reverse().find(e)},ue.prototype.invokeMap=oe(function(e,r){return typeof e=="function"?new ue(this):this.map(function(s){return Ui(s,e,r)})}),ue.prototype.reject=function(e){return this.filter(Yo(V(e)))},ue.prototype.slice=function(e,r){e=re(e);var s=this;return s.__filtered__&&(e>0||r<0)?new ue(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),r!==i&&(r=re(r),s=r<0?s.dropRight(-r):s.take(r-e)),s)},ue.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ue.prototype.toArray=function(){return this.take(Qe)},vn(ue.prototype,function(e,r){var s=/^(?:filter|find|map|reject)|While$/.test(r),u=/^(?:head|last)$/.test(r),l=f[u?"take"+(r=="last"?"Right":""):r],d=u||/^find/.test(r);l&&(f.prototype[r]=function(){var p=this.__wrapped__,y=u?[1]:arguments,b=p instanceof ue,E=y[0],A=b||te(p),N=function(ae){var fe=l.apply(f,cr([ae],y));return u&&W?fe[0]:fe};A&&s&&typeof E=="function"&&E.length!=1&&(b=A=!1);var W=this.__chain__,j=!!this.__actions__.length,G=d&&!W,ie=b&&!j;if(!d&&A){p=ie?p:new ue(this);var J=e.apply(p,y);return J.__actions__.push({func:Vo,args:[N],thisArg:i}),new Vt(J,W)}return G&&ie?e.apply(this,y):(J=this.thru(N),G?u?J.value()[0]:J.value():J)})}),Ut(["pop","push","shift","sort","splice","unshift"],function(e){var r=_o[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(u&&!this.__chain__){var d=this.value();return r.apply(te(d)?d:[],l)}return this[s](function(p){return r.apply(te(p)?p:[],l)})}}),vn(ue.prototype,function(e,r){var s=f[r];if(s){var u=s.name+"";Te.call(ci,u)||(ci[u]=[]),ci[u].push({name:r,func:s})}}),ci[Wo(i,Y).name]=[{name:"wrapper",func:i}],ue.prototype.clone=Mm,ue.prototype.reverse=Lm,ue.prototype.value=Im,f.prototype.at=fv,f.prototype.chain=dv,f.prototype.commit=hv,f.prototype.next=gv,f.prototype.plant=mv,f.prototype.reverse=yv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=_v,f.prototype.first=f.prototype.head,Fi&&(f.prototype[Fi]=pv),f},si=hm();Nr?((Nr.exports=si)._=si,sa._=si):st._=si}).call(Ae)})(fs,fs.exports);fs.exports;const C0=()=>Math.random().toString(36).substring(2,15),jc=t=>`${t}-${C0()}`,P0=t=>typeof t=="object"&&t!==null&&"styles"in t;jc("ThemeProvider");jc("ThemePublisher");const E0="__gl_onThemeUpdated";var Tg={},Tu={},Gn={},Ke={},Vr={},Uc={},ds={},U={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.stringArray=Ye.array=Ye.func=Ye.error=Ye.number=Ye.string=Ye.boolean=void 0;function k0(t){return t===!0||t===!1}Ye.boolean=k0;function Dg(t){return typeof t=="string"||t instanceof String}Ye.string=Dg;function O0(t){return typeof t=="number"||t instanceof Number}Ye.number=O0;function A0(t){return t instanceof Error}Ye.error=A0;function N0(t){return typeof t=="function"}Ye.func=N0;function Sg(t){return Array.isArray(t)}Ye.array=Sg;function q0(t){return Sg(t)&&t.every(n=>Dg(n))}Ye.stringArray=q0;Object.defineProperty(U,"__esModule",{value:!0});U.Message=U.NotificationType9=U.NotificationType8=U.NotificationType7=U.NotificationType6=U.NotificationType5=U.NotificationType4=U.NotificationType3=U.NotificationType2=U.NotificationType1=U.NotificationType0=U.NotificationType=U.RequestType9=U.RequestType8=U.RequestType7=U.RequestType6=U.RequestType5=U.RequestType4=U.RequestType3=U.RequestType2=U.RequestType1=U.RequestType=U.RequestType0=U.AbstractMessageSignature=U.ParameterStructures=U.ResponseError=U.ErrorCodes=void 0;const $r=Ye;var Du;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Du||(U.ErrorCodes=Du={}));class zc extends Error{constructor(n,i,o){super(i),this.code=$r.number(n)?n:Du.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,zc.prototype)}toJson(){const n={code:this.code,message:this.message};return this.data!==void 0&&(n.data=this.data),n}}U.ResponseError=zc;class mt{constructor(n){this.kind=n}static is(n){return n===mt.auto||n===mt.byName||n===mt.byPosition}toString(){return this.kind}}U.ParameterStructures=mt;mt.auto=new mt("auto");mt.byPosition=new mt("byPosition");mt.byName=new mt("byName");class He{constructor(n,i){this.method=n,this.numberOfParams=i}get parameterStructures(){return mt.auto}}U.AbstractMessageSignature=He;class M0 extends He{constructor(n){super(n,0)}}U.RequestType0=M0;class L0 extends He{constructor(n,i=mt.auto){super(n,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}}U.RequestType=L0;class I0 extends He{constructor(n,i=mt.auto){super(n,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}}U.RequestType1=I0;class F0 extends He{constructor(n){super(n,2)}}U.RequestType2=F0;class x0 extends He{constructor(n){super(n,3)}}U.RequestType3=x0;class W0 extends He{constructor(n){super(n,4)}}U.RequestType4=W0;class B0 extends He{constructor(n){super(n,5)}}U.RequestType5=B0;class H0 extends He{constructor(n){super(n,6)}}U.RequestType6=H0;class $0 extends He{constructor(n){super(n,7)}}U.RequestType7=$0;class j0 extends He{constructor(n){super(n,8)}}U.RequestType8=j0;class U0 extends He{constructor(n){super(n,9)}}U.RequestType9=U0;class z0 extends He{constructor(n,i=mt.auto){super(n,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}}U.NotificationType=z0;class V0 extends He{constructor(n){super(n,0)}}U.NotificationType0=V0;class G0 extends He{constructor(n,i=mt.auto){super(n,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}}U.NotificationType1=G0;class J0 extends He{constructor(n){super(n,2)}}U.NotificationType2=J0;class K0 extends He{constructor(n){super(n,3)}}U.NotificationType3=K0;class Y0 extends He{constructor(n){super(n,4)}}U.NotificationType4=Y0;class X0 extends He{constructor(n){super(n,5)}}U.NotificationType5=X0;class Q0 extends He{constructor(n){super(n,6)}}U.NotificationType6=Q0;class Z0 extends He{constructor(n){super(n,7)}}U.NotificationType7=Z0;class eR extends He{constructor(n){super(n,8)}}U.NotificationType8=eR;class tR extends He{constructor(n){super(n,9)}}U.NotificationType9=tR;var Ed;(function(t){function n(a){const c=a;return c&&$r.string(c.method)&&($r.string(c.id)||$r.number(c.id))}t.isRequest=n;function i(a){const c=a;return c&&$r.string(c.method)&&a.id===void 0}t.isNotification=i;function o(a){const c=a;return c&&(c.result!==void 0||!!c.error)&&($r.string(c.id)||$r.number(c.id)||c.id===null)}t.isResponse=o})(Ed||(U.Message=Ed={}));var Jn={},kd;Object.defineProperty(Jn,"__esModule",{value:!0});Jn.LRUCache=Jn.LinkedMap=Jn.Touch=void 0;var gt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(gt||(Jn.Touch=gt={}));class Cg{constructor(){this[kd]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(n){return this._map.has(n)}get(n,i=gt.None){const o=this._map.get(n);if(o)return i!==gt.None&&this.touch(o,i),o.value}set(n,i,o=gt.None){let a=this._map.get(n);if(a)a.value=i,o!==gt.None&&this.touch(a,o);else{switch(a={key:n,value:i,next:void 0,previous:void 0},o){case gt.None:this.addItemLast(a);break;case gt.First:this.addItemFirst(a);break;case gt.Last:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(n,a),this._size++}return this}delete(n){return!!this.remove(n)}remove(n){const i=this._map.get(n);if(i)return this._map.delete(n),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const n=this._head;return this._map.delete(n.key),this.removeItem(n),this._size--,n.value}forEach(n,i){const o=this._state;let a=this._head;for(;a;){if(i?n.bind(i)(a.value,a.key,this):n(a.value,a.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const n=this._state;let i=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const a={value:i.key,done:!1};return i=i.next,a}else return{value:void 0,done:!0}}};return o}values(){const n=this._state;let i=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const a={value:i.value,done:!1};return i=i.next,a}else return{value:void 0,done:!0}}};return o}entries(){const n=this._state;let i=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const a={value:[i.key,i.value],done:!1};return i=i.next,a}else return{value:void 0,done:!0}}};return o}[(kd=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(n){if(n>=this.size)return;if(n===0){this.clear();return}let i=this._head,o=this.size;for(;i&&o>n;)this._map.delete(i.key),i=i.next,o--;this._head=i,this._size=o,i&&(i.previous=void 0),this._state++}addItemFirst(n){if(!this._head&&!this._tail)this._tail=n;else if(this._head)n.next=this._head,this._head.previous=n;else throw new Error("Invalid list");this._head=n,this._state++}addItemLast(n){if(!this._head&&!this._tail)this._head=n;else if(this._tail)n.previous=this._tail,this._tail.next=n;else throw new Error("Invalid list");this._tail=n,this._state++}removeItem(n){if(n===this._head&&n===this._tail)this._head=void 0,this._tail=void 0;else if(n===this._head){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this._head=n.next}else if(n===this._tail){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this._tail=n.previous}else{const i=n.next,o=n.previous;if(!i||!o)throw new Error("Invalid list");i.previous=o,o.next=i}n.next=void 0,n.previous=void 0,this._state++}touch(n,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==gt.First&&i!==gt.Last)){if(i===gt.First){if(n===this._head)return;const o=n.next,a=n.previous;n===this._tail?(a.next=void 0,this._tail=a):(o.previous=a,a.next=o),n.previous=void 0,n.next=this._head,this._head.previous=n,this._head=n,this._state++}else if(i===gt.Last){if(n===this._tail)return;const o=n.next,a=n.previous;n===this._head?(o.previous=void 0,this._head=o):(o.previous=a,a.next=o),n.next=void 0,n.previous=this._tail,this._tail.next=n,this._tail=n,this._state++}}}toJSON(){const n=[];return this.forEach((i,o)=>{n.push([o,i])}),n}fromJSON(n){this.clear();for(const[i,o]of n)this.set(i,o)}}Jn.LinkedMap=Cg;class nR extends Cg{constructor(n,i=1){super(),this._limit=n,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(n){this._limit=n,this.checkTrim()}get ratio(){return this._ratio}set ratio(n){this._ratio=Math.min(Math.max(0,n),1),this.checkTrim()}get(n,i=gt.AsNew){return super.get(n,i)}peek(n){return super.get(n,gt.None)}set(n,i){return super.set(n,i,gt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}Jn.LRUCache=nR;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Disposable=void 0;var Od;(function(t){function n(i){return{dispose:i}}t.create=n})(Od||(Ps.Disposable=Od={}));var Sn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});let Su;function Cu(){if(Su===void 0)throw new Error("No runtime abstraction layer installed");return Su}(function(t){function n(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");Su=i}t.install=n})(Cu||(Cu={}));Yn.default=Cu;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Emitter=Sn.Event=void 0;const rR=Yn;var Ad;(function(t){const n={dispose(){}};t.None=function(){return n}})(Ad||(Sn.Event=Ad={}));class iR{add(n,i=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(n),this._contexts.push(i),Array.isArray(o)&&o.push({dispose:()=>this.remove(n,i)})}remove(n,i=null){if(!this._callbacks)return;let o=!1;for(let a=0,c=this._callbacks.length;a<c;a++)if(this._callbacks[a]===n)if(this._contexts[a]===i){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...n){if(!this._callbacks)return[];const i=[],o=this._callbacks.slice(0),a=this._contexts.slice(0);for(let c=0,g=o.length;c<g;c++)try{i.push(o[c].apply(a[c],n))}catch(_){(0,rR.default)().console.error(_)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let Pg=class Eg{constructor(n){this._options=n}get event(){return this._event||(this._event=(n,i,o)=>{this._callbacks||(this._callbacks=new iR),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(n,i);const a={dispose:()=>{this._callbacks&&(this._callbacks.remove(n,i),a.dispose=Eg._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(a),a}),this._event}fire(n){this._callbacks&&this._callbacks.invoke.call(this._callbacks,n)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Sn.Emitter=Pg;Pg._noop=function(){};var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.CancellationTokenSource=Cr.CancellationToken=void 0;const oR=Yn,sR=Ye,Pu=Sn;var hs;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Pu.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Pu.Event.None});function n(i){const o=i;return o&&(o===t.None||o===t.Cancelled||sR.boolean(o.isCancellationRequested)&&!!o.onCancellationRequested)}t.is=n})(hs||(Cr.CancellationToken=hs={}));const aR=Object.freeze(function(t,n){const i=(0,oR.default)().timer.setTimeout(t.bind(n),0);return{dispose(){i.dispose()}}});class Nd{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?aR:(this._emitter||(this._emitter=new Pu.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class uR{get token(){return this._token||(this._token=new Nd),this._token}cancel(){this._token?this._token.cancel():this._token=hs.Cancelled}dispose(){this._token?this._token instanceof Nd&&this._token.dispose():this._token=hs.None}}Cr.CancellationTokenSource=uR;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.SharedArrayReceiverStrategy=bi.SharedArraySenderStrategy=void 0;const cR=Cr;var to;(function(t){t.Continue=0,t.Cancelled=1})(to||(to={}));class lR{constructor(){this.buffers=new Map}enableCancellation(n){if(n.id===null)return;const i=new SharedArrayBuffer(4),o=new Int32Array(i,0,1);o[0]=to.Continue,this.buffers.set(n.id,i),n.$cancellationData=i}async sendCancellation(n,i){const o=this.buffers.get(i);if(o===void 0)return;const a=new Int32Array(o,0,1);Atomics.store(a,0,to.Cancelled)}cleanup(n){this.buffers.delete(n)}dispose(){this.buffers.clear()}}bi.SharedArraySenderStrategy=lR;class fR{constructor(n){this.data=new Int32Array(n,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===to.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class dR{constructor(n){this.token=new fR(n)}cancel(){}dispose(){}}class hR{constructor(){this.kind="request"}createCancellationTokenSource(n){const i=n.$cancellationData;return i===void 0?new cR.CancellationTokenSource:new dR(i)}}bi.SharedArrayReceiverStrategy=hR;var yr={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.Semaphore=void 0;const gR=Yn;class pR{constructor(n=1){if(n<=0)throw new Error("Capacity must be greater than 0");this._capacity=n,this._active=0,this._waiting=[]}lock(n){return new Promise((i,o)=>{this._waiting.push({thunk:n,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,gR.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const n=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=n.thunk();i instanceof Promise?i.then(o=>{this._active--,n.resolve(o),this.runNext()},o=>{this._active--,n.reject(o),this.runNext()}):(this._active--,n.resolve(i),this.runNext())}catch(i){this._active--,n.reject(i),this.runNext()}}}fo.Semaphore=pR;Object.defineProperty(yr,"__esModule",{value:!0});yr.ReadableStreamMessageReader=yr.AbstractMessageReader=yr.MessageReader=void 0;const Eu=Yn,yi=Ye,fu=Sn,mR=fo;var qd;(function(t){function n(i){let o=i;return o&&yi.func(o.listen)&&yi.func(o.dispose)&&yi.func(o.onError)&&yi.func(o.onClose)&&yi.func(o.onPartialMessage)}t.is=n})(qd||(yr.MessageReader=qd={}));class kg{constructor(){this.errorEmitter=new fu.Emitter,this.closeEmitter=new fu.Emitter,this.partialMessageEmitter=new fu.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(n){this.errorEmitter.fire(this.asError(n))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(n){this.partialMessageEmitter.fire(n)}asError(n){return n instanceof Error?n:new Error(`Reader received error. Reason: ${yi.string(n.message)?n.message:"unknown"}`)}}yr.AbstractMessageReader=kg;var ku;(function(t){function n(i){let o,a;const c=new Map;let g;const _=new Map;if(i===void 0||typeof i=="string")o=i??"utf-8";else{if(o=i.charset??"utf-8",i.contentDecoder!==void 0&&(a=i.contentDecoder,c.set(a.name,a)),i.contentDecoders!==void 0)for(const D of i.contentDecoders)c.set(D.name,D);if(i.contentTypeDecoder!==void 0&&(g=i.contentTypeDecoder,_.set(g.name,g)),i.contentTypeDecoders!==void 0)for(const D of i.contentTypeDecoders)_.set(D.name,D)}return g===void 0&&(g=(0,Eu.default)().applicationJson.decoder,_.set(g.name,g)),{charset:o,contentDecoder:a,contentDecoders:c,contentTypeDecoder:g,contentTypeDecoders:_}}t.fromOptions=n})(ku||(ku={}));class yR extends kg{constructor(n,i){super(),this.readable=n,this.options=ku.fromOptions(i),this.buffer=(0,Eu.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new mR.Semaphore(1)}set partialMessageTimeout(n){this._partialMessageTimeout=n}get partialMessageTimeout(){return this._partialMessageTimeout}listen(n){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=n;const i=this.readable.onData(o=>{this.onData(o)});return this.readable.onError(o=>this.fireError(o)),this.readable.onClose(()=>this.fireClose()),i}onData(n){try{for(this.buffer.append(n);;){if(this.nextMessageLength===-1){const o=this.buffer.tryReadHeaders(!0);if(!o)return;const a=o.get("content-length");if(!a){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(o))}`));return}const c=parseInt(a);if(isNaN(c)){this.fireError(new Error(`Content-Length value must be a number. Got ${a}`));return}this.nextMessageLength=c}const i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const o=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(i):i,a=await this.options.contentTypeDecoder.decode(o,this.options);this.callback(a)}).catch(o=>{this.fireError(o)})}}catch(i){this.fireError(i)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Eu.default)().timer.setTimeout((n,i)=>{this.partialMessageTimer=void 0,n===this.messageToken&&(this.firePartialMessage({messageToken:n,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}yr.ReadableStreamMessageReader=yR;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.WriteableStreamMessageWriter=_r.AbstractMessageWriter=_r.MessageWriter=void 0;const Md=Yn,Zi=Ye,_R=fo,Ld=Sn,vR="Content-Length: ",Id=`\r
`;var Fd;(function(t){function n(i){let o=i;return o&&Zi.func(o.dispose)&&Zi.func(o.onClose)&&Zi.func(o.onError)&&Zi.func(o.write)}t.is=n})(Fd||(_r.MessageWriter=Fd={}));class Og{constructor(){this.errorEmitter=new Ld.Emitter,this.closeEmitter=new Ld.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(n,i,o){this.errorEmitter.fire([this.asError(n),i,o])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(n){return n instanceof Error?n:new Error(`Writer received error. Reason: ${Zi.string(n.message)?n.message:"unknown"}`)}}_r.AbstractMessageWriter=Og;var Ou;(function(t){function n(i){return i===void 0||typeof i=="string"?{charset:i??"utf-8",contentTypeEncoder:(0,Md.default)().applicationJson.encoder}:{charset:i.charset??"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:i.contentTypeEncoder??(0,Md.default)().applicationJson.encoder}}t.fromOptions=n})(Ou||(Ou={}));class bR extends Og{constructor(n,i){super(),this.writable=n,this.options=Ou.fromOptions(i),this.errorCount=0,this.writeSemaphore=new _R.Semaphore(1),this.writable.onError(o=>this.fireError(o)),this.writable.onClose(()=>this.fireClose())}async write(n){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(n,this.options).then(o=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(o):o).then(o=>{const a=[];return a.push(vR,o.byteLength.toString(),Id),a.push(Id),this.doWrite(n,a,o)},o=>{throw this.fireError(o),o}))}async doWrite(n,i,o){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(o)}catch(a){return this.handleError(a,n),Promise.reject(a)}}handleError(n,i){this.errorCount++,this.fireError(n,i,this.errorCount)}end(){this.writable.end()}}_r.WriteableStreamMessageWriter=bR;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.AbstractMessageBuffer=void 0;const wR=13,RR=10,TR=`\r
`;class DR{constructor(n="utf-8"){this._encoding=n,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(n){const i=typeof n=="string"?this.fromString(n,this._encoding):n;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(n=!1){if(this._chunks.length===0)return;let i=0,o=0,a=0,c=0;e:for(;o<this._chunks.length;){const C=this._chunks[o];for(a=0;a<C.length;){switch(C[a]){case wR:switch(i){case 0:i=1;break;case 2:i=3;break;default:i=0}break;case RR:switch(i){case 1:i=2;break;case 3:i=4,a++;break e;default:i=0}break;default:i=0}a++}c+=C.byteLength,o++}if(i!==4)return;const g=this._read(c+a),_=new Map,D=this.toString(g,"ascii").split(TR);if(D.length<2)return _;for(let C=0;C<D.length-2;C++){const k=D[C],L=k.indexOf(":");if(L===-1)throw new Error(`Message header must separate key and value using ':'
${k}`);const M=k.substr(0,L),$=k.substr(L+1).trim();_.set(n?M.toLowerCase():M,$)}return _}tryReadBody(n){if(!(this._totalLength<n))return this._read(n)}get numberOfBytes(){return this._totalLength}_read(n){if(n===0)return this.emptyBuffer();if(n>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===n){const c=this._chunks[0];return this._chunks.shift(),this._totalLength-=n,this.asNative(c)}if(this._chunks[0].byteLength>n){const c=this._chunks[0],g=this.asNative(c,n);return this._chunks[0]=c.slice(n),this._totalLength-=n,g}const i=this.allocNative(n);let o=0,a=0;for(;n>0;){const c=this._chunks[a];if(c.byteLength>n){const g=c.slice(0,n);i.set(g,o),o+=n,this._chunks[a]=c.slice(n),this._totalLength-=n,n-=n}else i.set(c,o),o+=c.byteLength,this._chunks.shift(),this._totalLength-=c.byteLength,n-=c.byteLength}return i}}Es.AbstractMessageBuffer=DR;var Ag={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const n=Yn,i=Ye,o=U,a=Jn,c=Sn,g=Cr;var _;(function(q){q.type=new o.NotificationType("$/cancelRequest")})(_||(_={}));var D;(function(q){function ee(ne){return typeof ne=="string"||typeof ne=="number"}q.is=ee})(D||(t.ProgressToken=D={}));var C;(function(q){q.type=new o.NotificationType("$/progress")})(C||(C={}));class k{constructor(){}}t.ProgressType=k;var L;(function(q){function ee(ne){return i.func(ne)}q.is=ee})(L||(L={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var M;(function(q){q[q.Off=0]="Off",q[q.Messages=1]="Messages",q[q.Compact=2]="Compact",q[q.Verbose=3]="Verbose"})(M||(t.Trace=M={}));var $;(function(q){q.Off="off",q.Messages="messages",q.Compact="compact",q.Verbose="verbose"})($||(t.TraceValues=$={})),function(q){function ee(z){if(!i.string(z))return q.Off;switch(z=z.toLowerCase(),z){case"off":return q.Off;case"messages":return q.Messages;case"compact":return q.Compact;case"verbose":return q.Verbose;default:return q.Off}}q.fromString=ee;function ne(z){switch(z){case q.Off:return"off";case q.Messages:return"messages";case q.Compact:return"compact";case q.Verbose:return"verbose";default:return"off"}}q.toString=ne}(M||(t.Trace=M={}));var X;(function(q){q.Text="text",q.JSON="json"})(X||(t.TraceFormat=X={})),function(q){function ee(ne){return i.string(ne)?(ne=ne.toLowerCase(),ne==="json"?q.JSON:q.Text):q.Text}q.fromString=ee}(X||(t.TraceFormat=X={}));var Le;(function(q){q.type=new o.NotificationType("$/setTrace")})(Le||(t.SetTraceNotification=Le={}));var ve;(function(q){q.type=new o.NotificationType("$/logTrace")})(ve||(t.LogTraceNotification=ve={}));var Y;(function(q){q[q.Closed=1]="Closed",q[q.Disposed=2]="Disposed",q[q.AlreadyListening=3]="AlreadyListening"})(Y||(t.ConnectionErrors=Y={}));class S extends Error{constructor(ee,ne){super(ne),this.code=ee,Object.setPrototypeOf(this,S.prototype)}}t.ConnectionError=S;var R;(function(q){function ee(ne){const z=ne;return z&&i.func(z.cancelUndispatched)}q.is=ee})(R||(t.ConnectionStrategy=R={}));var I;(function(q){function ee(ne){const z=ne;return z&&(z.kind===void 0||z.kind==="id")&&i.func(z.createCancellationTokenSource)&&(z.dispose===void 0||i.func(z.dispose))}q.is=ee})(I||(t.IdCancellationReceiverStrategy=I={}));var be;(function(q){function ee(ne){const z=ne;return z&&z.kind==="request"&&i.func(z.createCancellationTokenSource)&&(z.dispose===void 0||i.func(z.dispose))}q.is=ee})(be||(t.RequestCancellationReceiverStrategy=be={}));var De;(function(q){q.Message=Object.freeze({createCancellationTokenSource(ne){return new g.CancellationTokenSource}});function ee(ne){return I.is(ne)||be.is(ne)}q.is=ee})(De||(t.CancellationReceiverStrategy=De={}));var Ce;(function(q){q.Message=Object.freeze({sendCancellation(ne,z){return ne.sendNotification(_.type,{id:z})},cleanup(ne){}});function ee(ne){const z=ne;return z&&i.func(z.sendCancellation)&&i.func(z.cleanup)}q.is=ee})(Ce||(t.CancellationSenderStrategy=Ce={}));var Wt;(function(q){q.Message=Object.freeze({receiver:De.Message,sender:Ce.Message});function ee(ne){const z=ne;return z&&De.is(z.receiver)&&Ce.is(z.sender)}q.is=ee})(Wt||(t.CancellationStrategy=Wt={}));var Bt;(function(q){function ee(ne){const z=ne;return z&&i.func(z.handleMessage)}q.is=ee})(Bt||(t.MessageStrategy=Bt={}));var Xn;(function(q){function ee(ne){const z=ne;return z&&(Wt.is(z.cancellationStrategy)||R.is(z.connectionStrategy)||Bt.is(z.messageStrategy))}q.is=ee})(Xn||(t.ConnectionOptions=Xn={}));var nt;(function(q){q[q.New=1]="New",q[q.Listening=2]="Listening",q[q.Closed=3]="Closed",q[q.Disposed=4]="Disposed"})(nt||(nt={}));function Er(q,ee,ne,z){const me=ne!==void 0?ne:t.NullLogger;let kt=0,Gr=0,En=0;const Qe="2.0";let gn;const kn=new Map;let pn;const Rt=new Map,Ht=new Map;let Qn,lt=new a.LinkedMap,ft=new Map,On=new Set,rt=new Map,ge=M.Off,Ot=X.Text,he,it=nt.New;const Zn=new c.Emitter,yt=new c.Emitter,er=new c.Emitter,kr=new c.Emitter,rn=new c.Emitter,Ie=z&&z.cancellationStrategy?z.cancellationStrategy:Wt.Message;function on(m){if(m===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+m.toString()}function An(m){return m===null?"res-unknown-"+(++En).toString():"res-"+m.toString()}function Jr(){return"not-"+(++Gr).toString()}function mn(m,O){o.Message.isRequest(O)?m.set(on(O.id),O):o.Message.isResponse(O)?m.set(An(O.id),O):m.set(Jr(),O)}function Kr(m){}function sn(){return it===nt.Listening}function $t(){return it===nt.Closed}function At(){return it===nt.Disposed}function Nn(){(it===nt.New||it===nt.Listening)&&(it=nt.Closed,yt.fire(void 0))}function tr(m){Zn.fire([m,void 0,void 0])}function nr(m){Zn.fire(m)}q.onClose(Nn),q.onError(tr),ee.onClose(Nn),ee.onError(nr);function qn(){Qn||lt.size===0||(Qn=(0,n.default)().timer.setImmediate(()=>{Qn=void 0,rr()}))}function Mn(m){o.Message.isRequest(m)?or(m):o.Message.isNotification(m)?Xr(m):o.Message.isResponse(m)?Yr(m):Qr(m)}function rr(){if(lt.size===0)return;const m=lt.shift();try{const O=z?.messageStrategy;Bt.is(O)?O.handleMessage(m,Mn):Mn(m)}finally{qn()}}const ir=m=>{try{if(o.Message.isNotification(m)&&m.method===_.type.method){const O=m.params.id,F=on(O),H=lt.get(F);if(o.Message.isRequest(H)){const Re=z?.connectionStrategy,Ne=Re&&Re.cancelUndispatched?Re.cancelUndispatched(H,Kr):void 0;if(Ne&&(Ne.error!==void 0||Ne.result!==void 0)){lt.delete(F),rt.delete(O),Ne.id=H.id,Ln(Ne,m.method,Date.now()),ee.write(Ne).catch(()=>me.error("Sending response for canceled message failed."));return}}const Se=rt.get(O);if(Se!==void 0){Se.cancel(),sr(m);return}else On.add(O)}mn(lt,m)}finally{qn()}};function or(m){if(At())return;function O(le,ke,ye){const qe={jsonrpc:Qe,id:m.id};le instanceof o.ResponseError?qe.error=le.toJson():qe.result=le===void 0?null:le,Ln(qe,ke,ye),ee.write(qe).catch(()=>me.error("Sending response failed."))}function F(le,ke,ye){const qe={jsonrpc:Qe,id:m.id,error:le.toJson()};Ln(qe,ke,ye),ee.write(qe).catch(()=>me.error("Sending response failed."))}function H(le,ke,ye){le===void 0&&(le=null);const qe={jsonrpc:Qe,id:m.id,result:le};Ln(qe,ke,ye),ee.write(qe).catch(()=>me.error("Sending response failed."))}ei(m);const Se=kn.get(m.method);let Re,Ne;Se&&(Re=Se.type,Ne=Se.handler);const We=Date.now();if(Ne||gn){const le=m.id??String(Date.now()),ke=I.is(Ie.receiver)?Ie.receiver.createCancellationTokenSource(le):Ie.receiver.createCancellationTokenSource(m);m.id!==null&&On.has(m.id)&&ke.cancel(),m.id!==null&&rt.set(le,ke);try{let ye;if(Ne)if(m.params===void 0){if(Re!==void 0&&Re.numberOfParams!==0){F(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${m.method} defines ${Re.numberOfParams} params but received none.`),m.method,We);return}ye=Ne(ke.token)}else if(Array.isArray(m.params)){if(Re!==void 0&&Re.parameterStructures===o.ParameterStructures.byName){F(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${m.method} defines parameters by name but received parameters by position`),m.method,We);return}ye=Ne(...m.params,ke.token)}else{if(Re!==void 0&&Re.parameterStructures===o.ParameterStructures.byPosition){F(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${m.method} defines parameters by position but received parameters by name`),m.method,We);return}ye=Ne(m.params,ke.token)}else gn&&(ye=gn(m.method,m.params,ke.token));const qe=ye;ye?qe.then?qe.then(ot=>{rt.delete(le),O(ot,m.method,We)},ot=>{rt.delete(le),ot instanceof o.ResponseError?F(ot,m.method,We):ot&&i.string(ot.message)?F(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${m.method} failed with message: ${ot.message}`),m.method,We):F(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${m.method} failed unexpectedly without providing any details.`),m.method,We)}):(rt.delete(le),O(ye,m.method,We)):(rt.delete(le),H(ye,m.method,We))}catch(ye){rt.delete(le),ye instanceof o.ResponseError?O(ye,m.method,We):ye&&i.string(ye.message)?F(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${m.method} failed with message: ${ye.message}`),m.method,We):F(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${m.method} failed unexpectedly without providing any details.`),m.method,We)}}else F(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${m.method}`),m.method,We)}function Yr(m){if(!At())if(m.id===null)m.error?me.error(`Received response message without id: Error is: 
${JSON.stringify(m.error,void 0,4)}`):me.error("Received response message without id. No further error information provided.");else{const O=m.id,F=ft.get(O);if(Ar(m,F),F!==void 0){ft.delete(O);try{if(m.error){const H=m.error;F.reject(new o.ResponseError(H.code,H.message,H.data))}else if(m.result!==void 0)F.resolve(m.result);else throw new Error("Should never happen.")}catch(H){H.message?me.error(`Response handler '${F.method}' failed with message: ${H.message}`):me.error(`Response handler '${F.method}' failed unexpectedly.`)}}}}function Xr(m){if(At())return;let O,F;if(m.method===_.type.method){const H=m.params.id;On.delete(H),sr(m);return}else{const H=Rt.get(m.method);H&&(F=H.handler,O=H.type)}if(F||pn)try{if(sr(m),F)if(m.params===void 0)O!==void 0&&O.numberOfParams!==0&&O.parameterStructures!==o.ParameterStructures.byName&&me.error(`Notification ${m.method} defines ${O.numberOfParams} params but received none.`),F();else if(Array.isArray(m.params)){const H=m.params;m.method===C.type.method&&H.length===2&&D.is(H[0])?F({token:H[0],value:H[1]}):(O!==void 0&&(O.parameterStructures===o.ParameterStructures.byName&&me.error(`Notification ${m.method} defines parameters by name but received parameters by position`),O.numberOfParams!==m.params.length&&me.error(`Notification ${m.method} defines ${O.numberOfParams} params but received ${H.length} arguments`)),F(...H))}else O!==void 0&&O.parameterStructures===o.ParameterStructures.byPosition&&me.error(`Notification ${m.method} defines parameters by position but received parameters by name`),F(m.params);else pn&&pn(m.method,m.params)}catch(H){H.message?me.error(`Notification handler '${m.method}' failed with message: ${H.message}`):me.error(`Notification handler '${m.method}' failed unexpectedly.`)}else er.fire(m)}function Qr(m){if(!m){me.error("Received empty message.");return}me.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(m,null,4)}`);const O=m;if(i.string(O.id)||i.number(O.id)){const F=O.id,H=ft.get(F);H&&H.reject(new Error("The received response has neither a result nor an error property."))}}function Tt(m){if(m!=null)switch(ge){case M.Verbose:return JSON.stringify(m,null,4);case M.Compact:return JSON.stringify(m);default:return}}function Or(m){if(!(ge===M.Off||!he))if(Ot===X.Text){let O;(ge===M.Verbose||ge===M.Compact)&&m.params&&(O=`Params: ${Tt(m.params)}

`),he.log(`Sending request '${m.method} - (${m.id})'.`,O)}else an("send-request",m)}function Zr(m){if(!(ge===M.Off||!he))if(Ot===X.Text){let O;(ge===M.Verbose||ge===M.Compact)&&(m.params?O=`Params: ${Tt(m.params)}

`:O=`No parameters provided.

`),he.log(`Sending notification '${m.method}'.`,O)}else an("send-notification",m)}function Ln(m,O,F){if(!(ge===M.Off||!he))if(Ot===X.Text){let H;(ge===M.Verbose||ge===M.Compact)&&(m.error&&m.error.data?H=`Error data: ${Tt(m.error.data)}

`:m.result?H=`Result: ${Tt(m.result)}

`:m.error===void 0&&(H=`No result returned.

`)),he.log(`Sending response '${O} - (${m.id})'. Processing request took ${Date.now()-F}ms`,H)}else an("send-response",m)}function ei(m){if(!(ge===M.Off||!he))if(Ot===X.Text){let O;(ge===M.Verbose||ge===M.Compact)&&m.params&&(O=`Params: ${Tt(m.params)}

`),he.log(`Received request '${m.method} - (${m.id})'.`,O)}else an("receive-request",m)}function sr(m){if(!(ge===M.Off||!he||m.method===ve.type.method))if(Ot===X.Text){let O;(ge===M.Verbose||ge===M.Compact)&&(m.params?O=`Params: ${Tt(m.params)}

`:O=`No parameters provided.

`),he.log(`Received notification '${m.method}'.`,O)}else an("receive-notification",m)}function Ar(m,O){if(!(ge===M.Off||!he))if(Ot===X.Text){let F;if((ge===M.Verbose||ge===M.Compact)&&(m.error&&m.error.data?F=`Error data: ${Tt(m.error.data)}

`:m.result?F=`Result: ${Tt(m.result)}

`:m.error===void 0&&(F=`No result returned.

`)),O){const H=m.error?` Request failed: ${m.error.message} (${m.error.code}).`:"";he.log(`Received response '${O.method} - (${m.id})' in ${Date.now()-O.timerStart}ms.${H}`,F)}else he.log(`Received response ${m.id} without active response promise.`,F)}else an("receive-response",m)}function an(m,O){if(!he||ge===M.Off)return;const F={isLSPMessage:!0,type:m,message:O,timestamp:Date.now()};he.log(F)}function yn(){if($t())throw new S(Y.Closed,"Connection is closed.");if(At())throw new S(Y.Disposed,"Connection is disposed.")}function ti(){if(sn())throw new S(Y.AlreadyListening,"Connection is already listening")}function ar(){if(!sn())throw new Error("Call listen() first.")}function _n(m){return m===void 0?null:m}function In(m){if(m!==null)return m}function h(m){return m!=null&&!Array.isArray(m)&&typeof m=="object"}function Fe(m,O){switch(m){case o.ParameterStructures.auto:return h(O)?In(O):[_n(O)];case o.ParameterStructures.byName:if(!h(O))throw new Error("Received parameters by name but param is not an object literal.");return In(O);case o.ParameterStructures.byPosition:return[_n(O)];default:throw new Error(`Unknown parameter structure ${m.toString()}`)}}function xe(m,O){let F;const H=m.numberOfParams;switch(H){case 0:F=void 0;break;case 1:F=Fe(m.parameterStructures,O[0]);break;default:F=[];for(let Se=0;Se<O.length&&Se<H;Se++)F.push(_n(O[Se]));if(O.length<H)for(let Se=O.length;Se<H;Se++)F.push(null);break}return F}const K={sendNotification:(m,...O)=>{yn();let F,H;if(i.string(m)){F=m;const Re=O[0];let Ne=0,We=o.ParameterStructures.auto;o.ParameterStructures.is(Re)&&(Ne=1,We=Re);let le=O.length;const ke=le-Ne;switch(ke){case 0:H=void 0;break;case 1:H=Fe(We,O[Ne]);break;default:if(We===o.ParameterStructures.byName)throw new Error(`Received ${ke} parameters for 'by Name' notification parameter structure.`);H=O.slice(Ne,le).map(ye=>_n(ye));break}}else{const Re=O;F=m.method,H=xe(m,Re)}const Se={jsonrpc:Qe,method:F,params:H};return Zr(Se),ee.write(Se).catch(Re=>{throw me.error("Sending notification failed."),Re})},onNotification:(m,O)=>{yn();let F;return i.func(m)?pn=m:O&&(i.string(m)?(F=m,Rt.set(m,{type:void 0,handler:O})):(F=m.method,Rt.set(m.method,{type:m,handler:O}))),{dispose:()=>{F!==void 0?Rt.delete(F):pn=void 0}}},onProgress:(m,O,F)=>{if(Ht.has(O))throw new Error(`Progress handler for token ${O} already registered`);return Ht.set(O,F),{dispose:()=>{Ht.delete(O)}}},sendProgress:(m,O,F)=>K.sendNotification(C.type,{token:O,value:F}),onUnhandledProgress:kr.event,sendRequest:(m,...O)=>{yn(),ar();let F,H,Se;if(i.string(m)){F=m;const le=O[0],ke=O[O.length-1];let ye=0,qe=o.ParameterStructures.auto;o.ParameterStructures.is(le)&&(ye=1,qe=le);let ot=O.length;g.CancellationToken.is(ke)&&(ot=ot-1,Se=ke);const _t=ot-ye;switch(_t){case 0:H=void 0;break;case 1:H=Fe(qe,O[ye]);break;default:if(qe===o.ParameterStructures.byName)throw new Error(`Received ${_t} parameters for 'by Name' request parameter structure.`);H=O.slice(ye,ot).map(ea=>_n(ea));break}}else{const le=O;F=m.method,H=xe(m,le);const ke=m.numberOfParams;Se=g.CancellationToken.is(le[ke])?le[ke]:void 0}const Re=kt++;let Ne;Se&&(Ne=Se.onCancellationRequested(()=>{const le=Ie.sender.sendCancellation(K,Re);return le===void 0?(me.log(`Received no promise from cancellation strategy when cancelling id ${Re}`),Promise.resolve()):le.catch(()=>{me.log(`Sending cancellation messages for id ${Re} failed`)})}));const We={jsonrpc:Qe,id:Re,method:F,params:H};return Or(We),typeof Ie.sender.enableCancellation=="function"&&Ie.sender.enableCancellation(We),new Promise(async(le,ke)=>{const ye=_t=>{le(_t),Ie.sender.cleanup(Re),Ne?.dispose()},qe=_t=>{ke(_t),Ie.sender.cleanup(Re),Ne?.dispose()},ot={method:F,timerStart:Date.now(),resolve:ye,reject:qe};try{await ee.write(We),ft.set(Re,ot)}catch(_t){throw me.error("Sending request failed."),ot.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,_t.message?_t.message:"Unknown reason")),_t}})},onRequest:(m,O)=>{yn();let F=null;return L.is(m)?(F=void 0,gn=m):i.string(m)?(F=null,O!==void 0&&(F=m,kn.set(m,{handler:O,type:void 0}))):O!==void 0&&(F=m.method,kn.set(m.method,{type:m,handler:O})),{dispose:()=>{F!==null&&(F!==void 0?kn.delete(F):gn=void 0)}}},hasPendingResponse:()=>ft.size>0,trace:async(m,O,F)=>{let H=!1,Se=X.Text;F!==void 0&&(i.boolean(F)?H=F:(H=F.sendNotification||!1,Se=F.traceFormat||X.Text)),ge=m,Ot=Se,ge===M.Off?he=void 0:he=O,H&&!$t()&&!At()&&await K.sendNotification(Le.type,{value:M.toString(m)})},onError:Zn.event,onClose:yt.event,onUnhandledNotification:er.event,onDispose:rn.event,end:()=>{ee.end()},dispose:()=>{if(At())return;it=nt.Disposed,rn.fire(void 0);const m=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const O of ft.values())O.reject(m);ft=new Map,rt=new Map,On=new Set,lt=new a.LinkedMap,i.func(ee.dispose)&&ee.dispose(),i.func(q.dispose)&&q.dispose()},listen:()=>{yn(),ti(),it=nt.Listening,q.listen(ir)},inspect:()=>{(0,n.default)().console.log("inspect")}};return K.onNotification(ve.type,m=>{if(ge===M.Off||!he)return;const O=ge===M.Verbose||ge===M.Compact;he.log(m.message,O?m.verbose:void 0)}),K.onNotification(C.type,m=>{const O=Ht.get(m.token);O?O(m.value):kr.fire(m)}),K}t.createMessageConnection=Er})(Ag);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const n=U;Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const i=Jn;Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=Ps;Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const a=Sn;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});const c=Cr;Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return c.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return c.CancellationToken}});const g=bi;Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return g.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return g.SharedArrayReceiverStrategy}});const _=yr;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return _.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return _.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return _.ReadableStreamMessageReader}});const D=_r;Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return D.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return D.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return D.WriteableStreamMessageWriter}});const C=Es;Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return C.AbstractMessageBuffer}});const k=Ag;Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return k.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return k.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return k.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return k.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return k.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return k.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return k.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return k.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return k.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return k.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return k.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return k.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return k.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return k.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return k.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return k.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return k.MessageStrategy}});const L=Yn;t.RAL=L.default})(ds);Object.defineProperty(Uc,"__esModule",{value:!0});const Rn=ds;class ks extends Rn.AbstractMessageBuffer{constructor(n="utf-8"){super(n),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return ks.emptyBuffer}fromString(n,i){return new TextEncoder().encode(n)}toString(n,i){return i==="ascii"?this.asciiDecoder.decode(n):new TextDecoder(i).decode(n)}asNative(n,i){return i===void 0?n:n.slice(0,i)}allocNative(n){return new Uint8Array(n)}}ks.emptyBuffer=new Uint8Array(0);class SR{constructor(n){this.socket=n,this._onData=new Rn.Emitter,this._messageListener=i=>{i.data.arrayBuffer().then(a=>{this._onData.fire(new Uint8Array(a))},()=>{(0,Rn.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(n){return this.socket.addEventListener("close",n),Rn.Disposable.create(()=>this.socket.removeEventListener("close",n))}onError(n){return this.socket.addEventListener("error",n),Rn.Disposable.create(()=>this.socket.removeEventListener("error",n))}onEnd(n){return this.socket.addEventListener("end",n),Rn.Disposable.create(()=>this.socket.removeEventListener("end",n))}onData(n){return this._onData.event(n)}}class CR{constructor(n){this.socket=n}onClose(n){return this.socket.addEventListener("close",n),Rn.Disposable.create(()=>this.socket.removeEventListener("close",n))}onError(n){return this.socket.addEventListener("error",n),Rn.Disposable.create(()=>this.socket.removeEventListener("error",n))}onEnd(n){return this.socket.addEventListener("end",n),Rn.Disposable.create(()=>this.socket.removeEventListener("end",n))}write(n,i){if(typeof n=="string"){if(i!==void 0&&i!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${i}`);this.socket.send(n)}else this.socket.send(n);return Promise.resolve()}end(){this.socket.close()}}const PR=new TextEncoder,Ng=Object.freeze({messageBuffer:Object.freeze({create:t=>new ks(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,n)=>{if(n.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n.charset}`);return Promise.resolve(PR.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,n)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(n.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new SR(t),asWritableStream:t=>new CR(t)}),console,timer:Object.freeze({setTimeout(t,n,...i){const o=setTimeout(t,n,...i);return{dispose:()=>clearTimeout(o)}},setImmediate(t,...n){const i=setTimeout(t,0,...n);return{dispose:()=>clearTimeout(i)}},setInterval(t,n,...i){const o=setInterval(t,n,...i);return{dispose:()=>clearInterval(o)}}})});function Au(){return Ng}(function(t){function n(){Rn.RAL.install(Ng)}t.install=n})(Au||(Au={}));Uc.default=Au;(function(t){var n=Ae&&Ae.__createBinding||(Object.create?function(D,C,k,L){L===void 0&&(L=k);var M=Object.getOwnPropertyDescriptor(C,k);(!M||("get"in M?!C.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return C[k]}}),Object.defineProperty(D,L,M)}:function(D,C,k,L){L===void 0&&(L=k),D[L]=C[k]}),i=Ae&&Ae.__exportStar||function(D,C){for(var k in D)k!=="default"&&!Object.prototype.hasOwnProperty.call(C,k)&&n(C,D,k)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,Uc.default.install();const a=ds;i(ds,t);class c extends a.AbstractMessageReader{constructor(C){super(),this._onData=new a.Emitter,this._messageListener=k=>{this._onData.fire(k.data)},C.addEventListener("error",k=>this.fireError(k)),C.onmessage=this._messageListener}listen(C){return this._onData.event(C)}}t.BrowserMessageReader=c;class g extends a.AbstractMessageWriter{constructor(C){super(),this.port=C,this.errorCount=0,C.addEventListener("error",k=>this.fireError(k))}write(C){try{return this.port.postMessage(C),Promise.resolve()}catch(k){return this.handleError(k,C),Promise.reject(k)}}handleError(C,k){this.errorCount++,this.fireError(C,k,this.errorCount)}end(){}}t.BrowserMessageWriter=g;function _(D,C,k,L){return k===void 0&&(k=a.NullLogger),a.ConnectionStrategy.is(L)&&(L={connectionStrategy:L}),(0,a.createMessageConnection)(D,C,k,L)}t.createMessageConnection=_})(Vr);var xd=Vr,qg={},Nu;(function(t){function n(i){return typeof i=="string"}t.is=n})(Nu||(Nu={}));var gs;(function(t){function n(i){return typeof i=="string"}t.is=n})(gs||(gs={}));var qu;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=n})(qu||(qu={}));var no;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function n(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=n})(no||(no={}));var Qt;(function(t){function n(o,a){return o===Number.MAX_VALUE&&(o=no.MAX_VALUE),a===Number.MAX_VALUE&&(a=no.MAX_VALUE),{line:o,character:a}}t.create=n;function i(o){let a=o;return w.objectLiteral(a)&&w.uinteger(a.line)&&w.uinteger(a.character)}t.is=i})(Qt||(Qt={}));var ze;(function(t){function n(o,a,c,g){if(w.uinteger(o)&&w.uinteger(a)&&w.uinteger(c)&&w.uinteger(g))return{start:Qt.create(o,a),end:Qt.create(c,g)};if(Qt.is(o)&&Qt.is(a))return{start:o,end:a};throw new Error(`Range#create called with invalid arguments[${o}, ${a}, ${c}, ${g}]`)}t.create=n;function i(o){let a=o;return w.objectLiteral(a)&&Qt.is(a.start)&&Qt.is(a.end)}t.is=i})(ze||(ze={}));var ro;(function(t){function n(o,a){return{uri:o,range:a}}t.create=n;function i(o){let a=o;return w.objectLiteral(a)&&ze.is(a.range)&&(w.string(a.uri)||w.undefined(a.uri))}t.is=i})(ro||(ro={}));var Mu;(function(t){function n(o,a,c,g){return{targetUri:o,targetRange:a,targetSelectionRange:c,originSelectionRange:g}}t.create=n;function i(o){let a=o;return w.objectLiteral(a)&&ze.is(a.targetRange)&&w.string(a.targetUri)&&ze.is(a.targetSelectionRange)&&(ze.is(a.originSelectionRange)||w.undefined(a.originSelectionRange))}t.is=i})(Mu||(Mu={}));var ps;(function(t){function n(o,a,c,g){return{red:o,green:a,blue:c,alpha:g}}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&w.numberRange(a.red,0,1)&&w.numberRange(a.green,0,1)&&w.numberRange(a.blue,0,1)&&w.numberRange(a.alpha,0,1)}t.is=i})(ps||(ps={}));var Lu;(function(t){function n(o,a){return{range:o,color:a}}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&ze.is(a.range)&&ps.is(a.color)}t.is=i})(Lu||(Lu={}));var Iu;(function(t){function n(o,a,c){return{label:o,textEdit:a,additionalTextEdits:c}}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&w.string(a.label)&&(w.undefined(a.textEdit)||Tn.is(a))&&(w.undefined(a.additionalTextEdits)||w.typedArray(a.additionalTextEdits,Tn.is))}t.is=i})(Iu||(Iu={}));var Fu;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Fu||(Fu={}));var xu;(function(t){function n(o,a,c,g,_,D){const C={startLine:o,endLine:a};return w.defined(c)&&(C.startCharacter=c),w.defined(g)&&(C.endCharacter=g),w.defined(_)&&(C.kind=_),w.defined(D)&&(C.collapsedText=D),C}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&w.uinteger(a.startLine)&&w.uinteger(a.startLine)&&(w.undefined(a.startCharacter)||w.uinteger(a.startCharacter))&&(w.undefined(a.endCharacter)||w.uinteger(a.endCharacter))&&(w.undefined(a.kind)||w.string(a.kind))}t.is=i})(xu||(xu={}));var ms;(function(t){function n(o,a){return{location:o,message:a}}t.create=n;function i(o){let a=o;return w.defined(a)&&ro.is(a.location)&&w.string(a.message)}t.is=i})(ms||(ms={}));var Wu;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Wu||(Wu={}));var Bu;(function(t){t.Unnecessary=1,t.Deprecated=2})(Bu||(Bu={}));var Hu;(function(t){function n(i){const o=i;return w.objectLiteral(o)&&w.string(o.href)}t.is=n})(Hu||(Hu={}));var io;(function(t){function n(o,a,c,g,_,D){let C={range:o,message:a};return w.defined(c)&&(C.severity=c),w.defined(g)&&(C.code=g),w.defined(_)&&(C.source=_),w.defined(D)&&(C.relatedInformation=D),C}t.create=n;function i(o){var a;let c=o;return w.defined(c)&&ze.is(c.range)&&w.string(c.message)&&(w.number(c.severity)||w.undefined(c.severity))&&(w.integer(c.code)||w.string(c.code)||w.undefined(c.code))&&(w.undefined(c.codeDescription)||w.string((a=c.codeDescription)===null||a===void 0?void 0:a.href))&&(w.string(c.source)||w.undefined(c.source))&&(w.undefined(c.relatedInformation)||w.typedArray(c.relatedInformation,ms.is))}t.is=i})(io||(io={}));var Ur;(function(t){function n(o,a,...c){let g={title:o,command:a};return w.defined(c)&&c.length>0&&(g.arguments=c),g}t.create=n;function i(o){let a=o;return w.defined(a)&&w.string(a.title)&&w.string(a.command)}t.is=i})(Ur||(Ur={}));var Tn;(function(t){function n(c,g){return{range:c,newText:g}}t.replace=n;function i(c,g){return{range:{start:c,end:c},newText:g}}t.insert=i;function o(c){return{range:c,newText:""}}t.del=o;function a(c){const g=c;return w.objectLiteral(g)&&w.string(g.newText)&&ze.is(g.range)}t.is=a})(Tn||(Tn={}));var jr;(function(t){function n(o,a,c){const g={label:o};return a!==void 0&&(g.needsConfirmation=a),c!==void 0&&(g.description=c),g}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&w.string(a.label)&&(w.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(w.string(a.description)||a.description===void 0)}t.is=i})(jr||(jr={}));var ct;(function(t){function n(i){const o=i;return w.string(o)}t.is=n})(ct||(ct={}));var Vn;(function(t){function n(c,g,_){return{range:c,newText:g,annotationId:_}}t.replace=n;function i(c,g,_){return{range:{start:c,end:c},newText:g,annotationId:_}}t.insert=i;function o(c,g){return{range:c,newText:"",annotationId:g}}t.del=o;function a(c){const g=c;return Tn.is(g)&&(jr.is(g.annotationId)||ct.is(g.annotationId))}t.is=a})(Vn||(Vn={}));var oo;(function(t){function n(o,a){return{textDocument:o,edits:a}}t.create=n;function i(o){let a=o;return w.defined(a)&&so.is(a.textDocument)&&Array.isArray(a.edits)}t.is=i})(oo||(oo={}));var wi;(function(t){function n(o,a,c){let g={kind:"create",uri:o};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(g.options=a),c!==void 0&&(g.annotationId=c),g}t.create=n;function i(o){let a=o;return a&&a.kind==="create"&&w.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||w.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||w.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||ct.is(a.annotationId))}t.is=i})(wi||(wi={}));var Ri;(function(t){function n(o,a,c,g){let _={kind:"rename",oldUri:o,newUri:a};return c!==void 0&&(c.overwrite!==void 0||c.ignoreIfExists!==void 0)&&(_.options=c),g!==void 0&&(_.annotationId=g),_}t.create=n;function i(o){let a=o;return a&&a.kind==="rename"&&w.string(a.oldUri)&&w.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||w.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||w.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||ct.is(a.annotationId))}t.is=i})(Ri||(Ri={}));var Ti;(function(t){function n(o,a,c){let g={kind:"delete",uri:o};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(g.options=a),c!==void 0&&(g.annotationId=c),g}t.create=n;function i(o){let a=o;return a&&a.kind==="delete"&&w.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||w.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||w.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||ct.is(a.annotationId))}t.is=i})(Ti||(Ti={}));var ys;(function(t){function n(i){let o=i;return o&&(o.changes!==void 0||o.documentChanges!==void 0)&&(o.documentChanges===void 0||o.documentChanges.every(a=>w.string(a.kind)?wi.is(a)||Ri.is(a)||Ti.is(a):oo.is(a)))}t.is=n})(ys||(ys={}));class es{constructor(n,i){this.edits=n,this.changeAnnotations=i}insert(n,i,o){let a,c;if(o===void 0?a=Tn.insert(n,i):ct.is(o)?(c=o,a=Vn.insert(n,i,o)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(o),a=Vn.insert(n,i,c)),this.edits.push(a),c!==void 0)return c}replace(n,i,o){let a,c;if(o===void 0?a=Tn.replace(n,i):ct.is(o)?(c=o,a=Vn.replace(n,i,o)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(o),a=Vn.replace(n,i,c)),this.edits.push(a),c!==void 0)return c}delete(n,i){let o,a;if(i===void 0?o=Tn.del(n):ct.is(i)?(a=i,o=Vn.del(n,i)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(i),o=Vn.del(n,a)),this.edits.push(o),a!==void 0)return a}add(n){this.edits.push(n)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Wd{constructor(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(n,i){let o;if(ct.is(n)?o=n:(o=this.nextId(),i=n),this._annotations[o]!==void 0)throw new Error(`Id ${o} is already in use.`);if(i===void 0)throw new Error(`No annotation provided for id ${o}`);return this._annotations[o]=i,this._size++,o}nextId(){return this._counter++,this._counter.toString()}}class ER{constructor(n){this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new Wd(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(i=>{if(oo.is(i)){const o=new es(i.edits,this._changeAnnotations);this._textEditChanges[i.textDocument.uri]=o}})):n.changes&&Object.keys(n.changes).forEach(i=>{const o=new es(n.changes[i]);this._textEditChanges[i]=o})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(n){if(so.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const i={uri:n.uri,version:n.version};let o=this._textEditChanges[i.uri];if(!o){const a=[],c={textDocument:i,edits:a};this._workspaceEdit.documentChanges.push(c),o=new es(a,this._changeAnnotations),this._textEditChanges[i.uri]=o}return o}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let i=this._textEditChanges[n];if(!i){let o=[];this._workspaceEdit.changes[n]=o,i=new es(o),this._textEditChanges[n]=i}return i}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Wd,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(n,i,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let a;jr.is(i)||ct.is(i)?a=i:o=i;let c,g;if(a===void 0?c=wi.create(n,o):(g=ct.is(a)?a:this._changeAnnotations.manage(a),c=wi.create(n,o,g)),this._workspaceEdit.documentChanges.push(c),g!==void 0)return g}renameFile(n,i,o,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let c;jr.is(o)||ct.is(o)?c=o:a=o;let g,_;if(c===void 0?g=Ri.create(n,i,a):(_=ct.is(c)?c:this._changeAnnotations.manage(c),g=Ri.create(n,i,a,_)),this._workspaceEdit.documentChanges.push(g),_!==void 0)return _}deleteFile(n,i,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let a;jr.is(i)||ct.is(i)?a=i:o=i;let c,g;if(a===void 0?c=Ti.create(n,o):(g=ct.is(a)?a:this._changeAnnotations.manage(a),c=Ti.create(n,o,g)),this._workspaceEdit.documentChanges.push(c),g!==void 0)return g}}var $u;(function(t){function n(o){return{uri:o}}t.create=n;function i(o){let a=o;return w.defined(a)&&w.string(a.uri)}t.is=i})($u||($u={}));var ju;(function(t){function n(o,a){return{uri:o,version:a}}t.create=n;function i(o){let a=o;return w.defined(a)&&w.string(a.uri)&&w.integer(a.version)}t.is=i})(ju||(ju={}));var so;(function(t){function n(o,a){return{uri:o,version:a}}t.create=n;function i(o){let a=o;return w.defined(a)&&w.string(a.uri)&&(a.version===null||w.integer(a.version))}t.is=i})(so||(so={}));var Uu;(function(t){function n(o,a,c,g){return{uri:o,languageId:a,version:c,text:g}}t.create=n;function i(o){let a=o;return w.defined(a)&&w.string(a.uri)&&w.string(a.languageId)&&w.integer(a.version)&&w.string(a.text)}t.is=i})(Uu||(Uu={}));var _s;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function n(i){const o=i;return o===t.PlainText||o===t.Markdown}t.is=n})(_s||(_s={}));var Di;(function(t){function n(i){const o=i;return w.objectLiteral(i)&&_s.is(o.kind)&&w.string(o.value)}t.is=n})(Di||(Di={}));var zu;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(zu||(zu={}));var Vu;(function(t){t.PlainText=1,t.Snippet=2})(Vu||(Vu={}));var Gu;(function(t){t.Deprecated=1})(Gu||(Gu={}));var Ju;(function(t){function n(o,a,c){return{newText:o,insert:a,replace:c}}t.create=n;function i(o){const a=o;return a&&w.string(a.newText)&&ze.is(a.insert)&&ze.is(a.replace)}t.is=i})(Ju||(Ju={}));var Ku;(function(t){t.asIs=1,t.adjustIndentation=2})(Ku||(Ku={}));var Yu;(function(t){function n(i){const o=i;return o&&(w.string(o.detail)||o.detail===void 0)&&(w.string(o.description)||o.description===void 0)}t.is=n})(Yu||(Yu={}));var Xu;(function(t){function n(i){return{label:i}}t.create=n})(Xu||(Xu={}));var Qu;(function(t){function n(i,o){return{items:i||[],isIncomplete:!!o}}t.create=n})(Qu||(Qu={}));var ao;(function(t){function n(o){return o.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=n;function i(o){const a=o;return w.string(a)||w.objectLiteral(a)&&w.string(a.language)&&w.string(a.value)}t.is=i})(ao||(ao={}));var Zu;(function(t){function n(i){let o=i;return!!o&&w.objectLiteral(o)&&(Di.is(o.contents)||ao.is(o.contents)||w.typedArray(o.contents,ao.is))&&(i.range===void 0||ze.is(i.range))}t.is=n})(Zu||(Zu={}));var ec;(function(t){function n(i,o){return o?{label:i,documentation:o}:{label:i}}t.create=n})(ec||(ec={}));var tc;(function(t){function n(i,o,...a){let c={label:i};return w.defined(o)&&(c.documentation=o),w.defined(a)?c.parameters=a:c.parameters=[],c}t.create=n})(tc||(tc={}));var nc;(function(t){t.Text=1,t.Read=2,t.Write=3})(nc||(nc={}));var rc;(function(t){function n(i,o){let a={range:i};return w.number(o)&&(a.kind=o),a}t.create=n})(rc||(rc={}));var ic;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(ic||(ic={}));var oc;(function(t){t.Deprecated=1})(oc||(oc={}));var sc;(function(t){function n(i,o,a,c,g){let _={name:i,kind:o,location:{uri:c,range:a}};return g&&(_.containerName=g),_}t.create=n})(sc||(sc={}));var ac;(function(t){function n(i,o,a,c){return c!==void 0?{name:i,kind:o,location:{uri:a,range:c}}:{name:i,kind:o,location:{uri:a}}}t.create=n})(ac||(ac={}));var uc;(function(t){function n(o,a,c,g,_,D){let C={name:o,detail:a,kind:c,range:g,selectionRange:_};return D!==void 0&&(C.children=D),C}t.create=n;function i(o){let a=o;return a&&w.string(a.name)&&w.number(a.kind)&&ze.is(a.range)&&ze.is(a.selectionRange)&&(a.detail===void 0||w.string(a.detail))&&(a.deprecated===void 0||w.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}t.is=i})(uc||(uc={}));var cc;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(cc||(cc={}));var uo;(function(t){t.Invoked=1,t.Automatic=2})(uo||(uo={}));var lc;(function(t){function n(o,a,c){let g={diagnostics:o};return a!=null&&(g.only=a),c!=null&&(g.triggerKind=c),g}t.create=n;function i(o){let a=o;return w.defined(a)&&w.typedArray(a.diagnostics,io.is)&&(a.only===void 0||w.typedArray(a.only,w.string))&&(a.triggerKind===void 0||a.triggerKind===uo.Invoked||a.triggerKind===uo.Automatic)}t.is=i})(lc||(lc={}));var fc;(function(t){function n(o,a,c){let g={title:o},_=!0;return typeof a=="string"?(_=!1,g.kind=a):Ur.is(a)?g.command=a:g.edit=a,_&&c!==void 0&&(g.kind=c),g}t.create=n;function i(o){let a=o;return a&&w.string(a.title)&&(a.diagnostics===void 0||w.typedArray(a.diagnostics,io.is))&&(a.kind===void 0||w.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||Ur.is(a.command))&&(a.isPreferred===void 0||w.boolean(a.isPreferred))&&(a.edit===void 0||ys.is(a.edit))}t.is=i})(fc||(fc={}));var dc;(function(t){function n(o,a){let c={range:o};return w.defined(a)&&(c.data=a),c}t.create=n;function i(o){let a=o;return w.defined(a)&&ze.is(a.range)&&(w.undefined(a.command)||Ur.is(a.command))}t.is=i})(dc||(dc={}));var hc;(function(t){function n(o,a){return{tabSize:o,insertSpaces:a}}t.create=n;function i(o){let a=o;return w.defined(a)&&w.uinteger(a.tabSize)&&w.boolean(a.insertSpaces)}t.is=i})(hc||(hc={}));var gc;(function(t){function n(o,a,c){return{range:o,target:a,data:c}}t.create=n;function i(o){let a=o;return w.defined(a)&&ze.is(a.range)&&(w.undefined(a.target)||w.string(a.target))}t.is=i})(gc||(gc={}));var pc;(function(t){function n(o,a){return{range:o,parent:a}}t.create=n;function i(o){let a=o;return w.objectLiteral(a)&&ze.is(a.range)&&(a.parent===void 0||t.is(a.parent))}t.is=i})(pc||(pc={}));var mc;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(mc||(mc={}));var yc;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(yc||(yc={}));var _c;(function(t){function n(i){const o=i;return w.objectLiteral(o)&&(o.resultId===void 0||typeof o.resultId=="string")&&Array.isArray(o.data)&&(o.data.length===0||typeof o.data[0]=="number")}t.is=n})(_c||(_c={}));var vc;(function(t){function n(o,a){return{range:o,text:a}}t.create=n;function i(o){const a=o;return a!=null&&ze.is(a.range)&&w.string(a.text)}t.is=i})(vc||(vc={}));var bc;(function(t){function n(o,a,c){return{range:o,variableName:a,caseSensitiveLookup:c}}t.create=n;function i(o){const a=o;return a!=null&&ze.is(a.range)&&w.boolean(a.caseSensitiveLookup)&&(w.string(a.variableName)||a.variableName===void 0)}t.is=i})(bc||(bc={}));var wc;(function(t){function n(o,a){return{range:o,expression:a}}t.create=n;function i(o){const a=o;return a!=null&&ze.is(a.range)&&(w.string(a.expression)||a.expression===void 0)}t.is=i})(wc||(wc={}));var Rc;(function(t){function n(o,a){return{frameId:o,stoppedLocation:a}}t.create=n;function i(o){const a=o;return w.defined(a)&&ze.is(o.stoppedLocation)}t.is=i})(Rc||(Rc={}));var vs;(function(t){t.Type=1,t.Parameter=2;function n(i){return i===1||i===2}t.is=n})(vs||(vs={}));var bs;(function(t){function n(o){return{value:o}}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&(a.tooltip===void 0||w.string(a.tooltip)||Di.is(a.tooltip))&&(a.location===void 0||ro.is(a.location))&&(a.command===void 0||Ur.is(a.command))}t.is=i})(bs||(bs={}));var Tc;(function(t){function n(o,a,c){const g={position:o,label:a};return c!==void 0&&(g.kind=c),g}t.create=n;function i(o){const a=o;return w.objectLiteral(a)&&Qt.is(a.position)&&(w.string(a.label)||w.typedArray(a.label,bs.is))&&(a.kind===void 0||vs.is(a.kind))&&a.textEdits===void 0||w.typedArray(a.textEdits,Tn.is)&&(a.tooltip===void 0||w.string(a.tooltip)||Di.is(a.tooltip))&&(a.paddingLeft===void 0||w.boolean(a.paddingLeft))&&(a.paddingRight===void 0||w.boolean(a.paddingRight))}t.is=i})(Tc||(Tc={}));var Dc;(function(t){function n(i){return{kind:"snippet",value:i}}t.createSnippet=n})(Dc||(Dc={}));var Sc;(function(t){function n(i,o,a,c){return{insertText:i,filterText:o,range:a,command:c}}t.create=n})(Sc||(Sc={}));var Cc;(function(t){function n(i){return{items:i}}t.create=n})(Cc||(Cc={}));var Pc;(function(t){t.Invoked=0,t.Automatic=1})(Pc||(Pc={}));var Ec;(function(t){function n(i,o){return{range:i,text:o}}t.create=n})(Ec||(Ec={}));var kc;(function(t){function n(i,o){return{triggerKind:i,selectedCompletionInfo:o}}t.create=n})(kc||(kc={}));var Oc;(function(t){function n(i){const o=i;return w.objectLiteral(o)&&gs.is(o.uri)&&w.string(o.name)}t.is=n})(Oc||(Oc={}));const kR=[`
`,`\r
`,"\r"];var Ac;(function(t){function n(c,g,_,D){return new OR(c,g,_,D)}t.create=n;function i(c){let g=c;return!!(w.defined(g)&&w.string(g.uri)&&(w.undefined(g.languageId)||w.string(g.languageId))&&w.uinteger(g.lineCount)&&w.func(g.getText)&&w.func(g.positionAt)&&w.func(g.offsetAt))}t.is=i;function o(c,g){let _=c.getText(),D=a(g,(k,L)=>{let M=k.range.start.line-L.range.start.line;return M===0?k.range.start.character-L.range.start.character:M}),C=_.length;for(let k=D.length-1;k>=0;k--){let L=D[k],M=c.offsetAt(L.range.start),$=c.offsetAt(L.range.end);if($<=C)_=_.substring(0,M)+L.newText+_.substring($,_.length);else throw new Error("Overlapping edit");C=M}return _}t.applyEdits=o;function a(c,g){if(c.length<=1)return c;const _=c.length/2|0,D=c.slice(0,_),C=c.slice(_);a(D,g),a(C,g);let k=0,L=0,M=0;for(;k<D.length&&L<C.length;)g(D[k],C[L])<=0?c[M++]=D[k++]:c[M++]=C[L++];for(;k<D.length;)c[M++]=D[k++];for(;L<C.length;)c[M++]=C[L++];return c}})(Ac||(Ac={}));class OR{constructor(n,i,o,a){this._uri=n,this._languageId=i,this._version=o,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){let i=this.offsetAt(n.start),o=this.offsetAt(n.end);return this._content.substring(i,o)}return this._content}update(n,i){this._content=n.text,this._version=i,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let n=[],i=this._content,o=!0;for(let a=0;a<i.length;a++){o&&(n.push(a),o=!1);let c=i.charAt(a);o=c==="\r"||c===`
`,c==="\r"&&a+1<i.length&&i.charAt(a+1)===`
`&&a++}o&&i.length>0&&n.push(i.length),this._lineOffsets=n}return this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);let i=this.getLineOffsets(),o=0,a=i.length;if(a===0)return Qt.create(0,n);for(;o<a;){let g=Math.floor((o+a)/2);i[g]>n?a=g:o=g+1}let c=o-1;return Qt.create(c,n-i[c])}offsetAt(n){let i=this.getLineOffsets();if(n.line>=i.length)return this._content.length;if(n.line<0)return 0;let o=i[n.line],a=n.line+1<i.length?i[n.line+1]:this._content.length;return Math.max(Math.min(o+n.character,a),o)}get lineCount(){return this.getLineOffsets().length}}var w;(function(t){const n=Object.prototype.toString;function i($){return typeof $<"u"}t.defined=i;function o($){return typeof $>"u"}t.undefined=o;function a($){return $===!0||$===!1}t.boolean=a;function c($){return n.call($)==="[object String]"}t.string=c;function g($){return n.call($)==="[object Number]"}t.number=g;function _($,X,Le){return n.call($)==="[object Number]"&&X<=$&&$<=Le}t.numberRange=_;function D($){return n.call($)==="[object Number]"&&-2147483648<=$&&$<=2147483647}t.integer=D;function C($){return n.call($)==="[object Number]"&&0<=$&&$<=2147483647}t.uinteger=C;function k($){return n.call($)==="[object Function]"}t.func=k;function L($){return $!==null&&typeof $=="object"}t.objectLiteral=L;function M($,X){return Array.isArray($)&&$.every(X)}t.typedArray=M})(w||(w={}));const AR=Object.freeze(Object.defineProperty({__proto__:null,get AnnotatedTextEdit(){return Vn},get ChangeAnnotation(){return jr},get ChangeAnnotationIdentifier(){return ct},get CodeAction(){return fc},get CodeActionContext(){return lc},get CodeActionKind(){return cc},get CodeActionTriggerKind(){return uo},get CodeDescription(){return Hu},get CodeLens(){return dc},get Color(){return ps},get ColorInformation(){return Lu},get ColorPresentation(){return Iu},get Command(){return Ur},get CompletionItem(){return Xu},get CompletionItemKind(){return zu},get CompletionItemLabelDetails(){return Yu},get CompletionItemTag(){return Gu},get CompletionList(){return Qu},get CreateFile(){return wi},get DeleteFile(){return Ti},get Diagnostic(){return io},get DiagnosticRelatedInformation(){return ms},get DiagnosticSeverity(){return Wu},get DiagnosticTag(){return Bu},get DocumentHighlight(){return rc},get DocumentHighlightKind(){return nc},get DocumentLink(){return gc},get DocumentSymbol(){return uc},get DocumentUri(){return Nu},EOL:kR,get FoldingRange(){return xu},get FoldingRangeKind(){return Fu},get FormattingOptions(){return hc},get Hover(){return Zu},get InlayHint(){return Tc},get InlayHintKind(){return vs},get InlayHintLabelPart(){return bs},get InlineCompletionContext(){return kc},get InlineCompletionItem(){return Sc},get InlineCompletionList(){return Cc},get InlineCompletionTriggerKind(){return Pc},get InlineValueContext(){return Rc},get InlineValueEvaluatableExpression(){return wc},get InlineValueText(){return vc},get InlineValueVariableLookup(){return bc},get InsertReplaceEdit(){return Ju},get InsertTextFormat(){return Vu},get InsertTextMode(){return Ku},get Location(){return ro},get LocationLink(){return Mu},get MarkedString(){return ao},get MarkupContent(){return Di},get MarkupKind(){return _s},get OptionalVersionedTextDocumentIdentifier(){return so},get ParameterInformation(){return ec},get Position(){return Qt},get Range(){return ze},get RenameFile(){return Ri},get SelectedCompletionInfo(){return Ec},get SelectionRange(){return pc},get SemanticTokenModifiers(){return yc},get SemanticTokenTypes(){return mc},get SemanticTokens(){return _c},get SignatureInformation(){return tc},get StringValue(){return Dc},get SymbolInformation(){return sc},get SymbolKind(){return ic},get SymbolTag(){return oc},get TextDocument(){return Ac},get TextDocumentEdit(){return oo},get TextDocumentIdentifier(){return $u},get TextDocumentItem(){return Uu},get TextEdit(){return Tn},get URI(){return gs},get VersionedTextDocumentIdentifier(){return ju},WorkspaceChange:ER,get WorkspaceEdit(){return ys},get WorkspaceFolder(){return Oc},get WorkspaceSymbol(){return ac},get integer(){return qu},get uinteger(){return no}},Symbol.toStringTag,{value:"Module"})),Vc=S0(AR);var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.ProtocolNotificationType=ce.ProtocolNotificationType0=ce.ProtocolRequestType=ce.ProtocolRequestType0=ce.RegistrationType=ce.MessageDirection=void 0;const Si=Vr;var Bd;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Bd||(ce.MessageDirection=Bd={}));class NR{constructor(n){this.method=n}}ce.RegistrationType=NR;class qR extends Si.RequestType0{constructor(n){super(n)}}ce.ProtocolRequestType0=qR;class MR extends Si.RequestType{constructor(n){super(n,Si.ParameterStructures.byName)}}ce.ProtocolRequestType=MR;class LR extends Si.NotificationType0{constructor(n){super(n)}}ce.ProtocolNotificationType0=LR;class IR extends Si.NotificationType{constructor(n){super(n,Si.ParameterStructures.byName)}}ce.ProtocolNotificationType=IR;var Mg={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.objectLiteral=Ue.typedArray=Ue.stringArray=Ue.array=Ue.func=Ue.error=Ue.number=Ue.string=Ue.boolean=void 0;function FR(t){return t===!0||t===!1}Ue.boolean=FR;function Lg(t){return typeof t=="string"||t instanceof String}Ue.string=Lg;function xR(t){return typeof t=="number"||t instanceof Number}Ue.number=xR;function WR(t){return t instanceof Error}Ue.error=WR;function BR(t){return typeof t=="function"}Ue.func=BR;function Ig(t){return Array.isArray(t)}Ue.array=Ig;function HR(t){return Ig(t)&&t.every(n=>Lg(n))}Ue.stringArray=HR;function $R(t,n){return Array.isArray(t)&&t.every(n)}Ue.typedArray=$R;function jR(t){return t!==null&&typeof t=="object"}Ue.objectLiteral=jR;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.ImplementationRequest=void 0;const Hd=ce;var $d;(function(t){t.method="textDocument/implementation",t.messageDirection=Hd.MessageDirection.clientToServer,t.type=new Hd.ProtocolRequestType(t.method)})($d||(Os.ImplementationRequest=$d={}));var As={};Object.defineProperty(As,"__esModule",{value:!0});As.TypeDefinitionRequest=void 0;const jd=ce;var Ud;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=jd.MessageDirection.clientToServer,t.type=new jd.ProtocolRequestType(t.method)})(Ud||(As.TypeDefinitionRequest=Ud={}));var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DidChangeWorkspaceFoldersNotification=Ci.WorkspaceFoldersRequest=void 0;const ws=ce;var zd;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=ws.MessageDirection.serverToClient,t.type=new ws.ProtocolRequestType0(t.method)})(zd||(Ci.WorkspaceFoldersRequest=zd={}));var Vd;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolNotificationType(t.method)})(Vd||(Ci.DidChangeWorkspaceFoldersNotification=Vd={}));var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ConfigurationRequest=void 0;const Gd=ce;var Jd;(function(t){t.method="workspace/configuration",t.messageDirection=Gd.MessageDirection.serverToClient,t.type=new Gd.ProtocolRequestType(t.method)})(Jd||(Ns.ConfigurationRequest=Jd={}));var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.ColorPresentationRequest=Pi.DocumentColorRequest=void 0;const Rs=ce;var Kd;(function(t){t.method="textDocument/documentColor",t.messageDirection=Rs.MessageDirection.clientToServer,t.type=new Rs.ProtocolRequestType(t.method)})(Kd||(Pi.DocumentColorRequest=Kd={}));var Yd;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Rs.MessageDirection.clientToServer,t.type=new Rs.ProtocolRequestType(t.method)})(Yd||(Pi.ColorPresentationRequest=Yd={}));var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.FoldingRangeRefreshRequest=Ei.FoldingRangeRequest=void 0;const Ts=ce;var Xd;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Ts.MessageDirection.clientToServer,t.type=new Ts.ProtocolRequestType(t.method)})(Xd||(Ei.FoldingRangeRequest=Xd={}));var Qd;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Ts.MessageDirection.serverToClient,t.type=new Ts.ProtocolRequestType0(t.method)})(Qd||(Ei.FoldingRangeRefreshRequest=Qd={}));var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.DeclarationRequest=void 0;const Zd=ce;var eh;(function(t){t.method="textDocument/declaration",t.messageDirection=Zd.MessageDirection.clientToServer,t.type=new Zd.ProtocolRequestType(t.method)})(eh||(qs.DeclarationRequest=eh={}));var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.SelectionRangeRequest=void 0;const th=ce;var nh;(function(t){t.method="textDocument/selectionRange",t.messageDirection=th.MessageDirection.clientToServer,t.type=new th.ProtocolRequestType(t.method)})(nh||(Ms.SelectionRangeRequest=nh={}));var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.WorkDoneProgressCancelNotification=vr.WorkDoneProgressCreateRequest=vr.WorkDoneProgress=void 0;const UR=Vr,Ds=ce;var rh;(function(t){t.type=new UR.ProgressType;function n(i){return i===t.type}t.is=n})(rh||(vr.WorkDoneProgress=rh={}));var ih;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Ds.MessageDirection.serverToClient,t.type=new Ds.ProtocolRequestType(t.method)})(ih||(vr.WorkDoneProgressCreateRequest=ih={}));var oh;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Ds.MessageDirection.clientToServer,t.type=new Ds.ProtocolNotificationType(t.method)})(oh||(vr.WorkDoneProgressCancelNotification=oh={}));var br={};Object.defineProperty(br,"__esModule",{value:!0});br.CallHierarchyOutgoingCallsRequest=br.CallHierarchyIncomingCallsRequest=br.CallHierarchyPrepareRequest=void 0;const ki=ce;var sh;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(sh||(br.CallHierarchyPrepareRequest=sh={}));var ah;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(ah||(br.CallHierarchyIncomingCallsRequest=ah={}));var uh;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(uh||(br.CallHierarchyOutgoingCallsRequest=uh={}));var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.SemanticTokensRefreshRequest=Et.SemanticTokensRangeRequest=Et.SemanticTokensDeltaRequest=Et.SemanticTokensRequest=Et.SemanticTokensRegistrationType=Et.TokenFormat=void 0;const Kn=ce;var ch;(function(t){t.Relative="relative"})(ch||(Et.TokenFormat=ch={}));var co;(function(t){t.method="textDocument/semanticTokens",t.type=new Kn.RegistrationType(t.method)})(co||(Et.SemanticTokensRegistrationType=co={}));var lh;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Kn.MessageDirection.clientToServer,t.type=new Kn.ProtocolRequestType(t.method),t.registrationMethod=co.method})(lh||(Et.SemanticTokensRequest=lh={}));var fh;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Kn.MessageDirection.clientToServer,t.type=new Kn.ProtocolRequestType(t.method),t.registrationMethod=co.method})(fh||(Et.SemanticTokensDeltaRequest=fh={}));var dh;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Kn.MessageDirection.clientToServer,t.type=new Kn.ProtocolRequestType(t.method),t.registrationMethod=co.method})(dh||(Et.SemanticTokensRangeRequest=dh={}));var hh;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Kn.MessageDirection.serverToClient,t.type=new Kn.ProtocolRequestType0(t.method)})(hh||(Et.SemanticTokensRefreshRequest=hh={}));var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ShowDocumentRequest=void 0;const gh=ce;var ph;(function(t){t.method="window/showDocument",t.messageDirection=gh.MessageDirection.serverToClient,t.type=new gh.ProtocolRequestType(t.method)})(ph||(Ls.ShowDocumentRequest=ph={}));var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.LinkedEditingRangeRequest=void 0;const mh=ce;var yh;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=mh.MessageDirection.clientToServer,t.type=new mh.ProtocolRequestType(t.method)})(yh||(Is.LinkedEditingRangeRequest=yh={}));var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.WillDeleteFilesRequest=pt.DidDeleteFilesNotification=pt.DidRenameFilesNotification=pt.WillRenameFilesRequest=pt.DidCreateFilesNotification=pt.WillCreateFilesRequest=pt.FileOperationPatternKind=void 0;const nn=ce;var _h;(function(t){t.file="file",t.folder="folder"})(_h||(pt.FileOperationPatternKind=_h={}));var vh;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolRequestType(t.method)})(vh||(pt.WillCreateFilesRequest=vh={}));var bh;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolNotificationType(t.method)})(bh||(pt.DidCreateFilesNotification=bh={}));var wh;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolRequestType(t.method)})(wh||(pt.WillRenameFilesRequest=wh={}));var Rh;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolNotificationType(t.method)})(Rh||(pt.DidRenameFilesNotification=Rh={}));var Th;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolNotificationType(t.method)})(Th||(pt.DidDeleteFilesNotification=Th={}));var Dh;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=nn.MessageDirection.clientToServer,t.type=new nn.ProtocolRequestType(t.method)})(Dh||(pt.WillDeleteFilesRequest=Dh={}));var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.MonikerRequest=wr.MonikerKind=wr.UniquenessLevel=void 0;const Sh=ce;var Ch;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Ch||(wr.UniquenessLevel=Ch={}));var Ph;(function(t){t.$import="import",t.$export="export",t.local="local"})(Ph||(wr.MonikerKind=Ph={}));var Eh;(function(t){t.method="textDocument/moniker",t.messageDirection=Sh.MessageDirection.clientToServer,t.type=new Sh.ProtocolRequestType(t.method)})(Eh||(wr.MonikerRequest=Eh={}));var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.TypeHierarchySubtypesRequest=Rr.TypeHierarchySupertypesRequest=Rr.TypeHierarchyPrepareRequest=void 0;const Oi=ce;var kh;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolRequestType(t.method)})(kh||(Rr.TypeHierarchyPrepareRequest=kh={}));var Oh;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolRequestType(t.method)})(Oh||(Rr.TypeHierarchySupertypesRequest=Oh={}));var Ah;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolRequestType(t.method)})(Ah||(Rr.TypeHierarchySubtypesRequest=Ah={}));var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.InlineValueRefreshRequest=Ai.InlineValueRequest=void 0;const Ss=ce;var Nh;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Ss.MessageDirection.clientToServer,t.type=new Ss.ProtocolRequestType(t.method)})(Nh||(Ai.InlineValueRequest=Nh={}));var qh;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Ss.MessageDirection.serverToClient,t.type=new Ss.ProtocolRequestType0(t.method)})(qh||(Ai.InlineValueRefreshRequest=qh={}));var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.InlayHintRefreshRequest=Tr.InlayHintResolveRequest=Tr.InlayHintRequest=void 0;const Ni=ce;var Mh;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Ni.MessageDirection.clientToServer,t.type=new Ni.ProtocolRequestType(t.method)})(Mh||(Tr.InlayHintRequest=Mh={}));var Lh;(function(t){t.method="inlayHint/resolve",t.messageDirection=Ni.MessageDirection.clientToServer,t.type=new Ni.ProtocolRequestType(t.method)})(Lh||(Tr.InlayHintResolveRequest=Lh={}));var Ih;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Ni.MessageDirection.serverToClient,t.type=new Ni.ProtocolRequestType0(t.method)})(Ih||(Tr.InlayHintRefreshRequest=Ih={}));var en={};Object.defineProperty(en,"__esModule",{value:!0});en.DiagnosticRefreshRequest=en.WorkspaceDiagnosticRequest=en.DocumentDiagnosticRequest=en.DocumentDiagnosticReportKind=en.DiagnosticServerCancellationData=void 0;const Fg=Vr,zR=Ue,qi=ce;var Fh;(function(t){function n(i){const o=i;return o&&zR.boolean(o.retriggerRequest)}t.is=n})(Fh||(en.DiagnosticServerCancellationData=Fh={}));var xh;(function(t){t.Full="full",t.Unchanged="unchanged"})(xh||(en.DocumentDiagnosticReportKind=xh={}));var Wh;(function(t){t.method="textDocument/diagnostic",t.messageDirection=qi.MessageDirection.clientToServer,t.type=new qi.ProtocolRequestType(t.method),t.partialResult=new Fg.ProgressType})(Wh||(en.DocumentDiagnosticRequest=Wh={}));var Bh;(function(t){t.method="workspace/diagnostic",t.messageDirection=qi.MessageDirection.clientToServer,t.type=new qi.ProtocolRequestType(t.method),t.partialResult=new Fg.ProgressType})(Bh||(en.WorkspaceDiagnosticRequest=Bh={}));var Hh;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=qi.MessageDirection.serverToClient,t.type=new qi.ProtocolRequestType0(t.method)})(Hh||(en.DiagnosticRefreshRequest=Hh={}));var je={};Object.defineProperty(je,"__esModule",{value:!0});je.DidCloseNotebookDocumentNotification=je.DidSaveNotebookDocumentNotification=je.DidChangeNotebookDocumentNotification=je.NotebookCellArrayChange=je.DidOpenNotebookDocumentNotification=je.NotebookDocumentSyncRegistrationType=je.NotebookDocument=je.NotebookCell=je.ExecutionSummary=je.NotebookCellKind=void 0;const lo=Vc,hn=Ue,Cn=ce;var Nc;(function(t){t.Markup=1,t.Code=2;function n(i){return i===1||i===2}t.is=n})(Nc||(je.NotebookCellKind=Nc={}));var qc;(function(t){function n(a,c){const g={executionOrder:a};return(c===!0||c===!1)&&(g.success=c),g}t.create=n;function i(a){const c=a;return hn.objectLiteral(c)&&lo.uinteger.is(c.executionOrder)&&(c.success===void 0||hn.boolean(c.success))}t.is=i;function o(a,c){return a===c?!0:a==null||c===null||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success}t.equals=o})(qc||(je.ExecutionSummary=qc={}));var Cs;(function(t){function n(c,g){return{kind:c,document:g}}t.create=n;function i(c){const g=c;return hn.objectLiteral(g)&&Nc.is(g.kind)&&lo.DocumentUri.is(g.document)&&(g.metadata===void 0||hn.objectLiteral(g.metadata))}t.is=i;function o(c,g){const _=new Set;return c.document!==g.document&&_.add("document"),c.kind!==g.kind&&_.add("kind"),c.executionSummary!==g.executionSummary&&_.add("executionSummary"),(c.metadata!==void 0||g.metadata!==void 0)&&!a(c.metadata,g.metadata)&&_.add("metadata"),(c.executionSummary!==void 0||g.executionSummary!==void 0)&&!qc.equals(c.executionSummary,g.executionSummary)&&_.add("executionSummary"),_}t.diff=o;function a(c,g){if(c===g)return!0;if(c==null||g===null||g===void 0||typeof c!=typeof g||typeof c!="object")return!1;const _=Array.isArray(c),D=Array.isArray(g);if(_!==D)return!1;if(_&&D){if(c.length!==g.length)return!1;for(let C=0;C<c.length;C++)if(!a(c[C],g[C]))return!1}if(hn.objectLiteral(c)&&hn.objectLiteral(g)){const C=Object.keys(c),k=Object.keys(g);if(C.length!==k.length||(C.sort(),k.sort(),!a(C,k)))return!1;for(let L=0;L<C.length;L++){const M=C[L];if(!a(c[M],g[M]))return!1}}return!0}})(Cs||(je.NotebookCell=Cs={}));var $h;(function(t){function n(o,a,c,g){return{uri:o,notebookType:a,version:c,cells:g}}t.create=n;function i(o){const a=o;return hn.objectLiteral(a)&&hn.string(a.uri)&&lo.integer.is(a.version)&&hn.typedArray(a.cells,Cs.is)}t.is=i})($h||(je.NotebookDocument=$h={}));var Mi;(function(t){t.method="notebookDocument/sync",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.RegistrationType(t.method)})(Mi||(je.NotebookDocumentSyncRegistrationType=Mi={}));var jh;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolNotificationType(t.method),t.registrationMethod=Mi.method})(jh||(je.DidOpenNotebookDocumentNotification=jh={}));var Uh;(function(t){function n(o){const a=o;return hn.objectLiteral(a)&&lo.uinteger.is(a.start)&&lo.uinteger.is(a.deleteCount)&&(a.cells===void 0||hn.typedArray(a.cells,Cs.is))}t.is=n;function i(o,a,c){const g={start:o,deleteCount:a};return c!==void 0&&(g.cells=c),g}t.create=i})(Uh||(je.NotebookCellArrayChange=Uh={}));var zh;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolNotificationType(t.method),t.registrationMethod=Mi.method})(zh||(je.DidChangeNotebookDocumentNotification=zh={}));var Vh;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolNotificationType(t.method),t.registrationMethod=Mi.method})(Vh||(je.DidSaveNotebookDocumentNotification=Vh={}));var Gh;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Cn.MessageDirection.clientToServer,t.type=new Cn.ProtocolNotificationType(t.method),t.registrationMethod=Mi.method})(Gh||(je.DidCloseNotebookDocumentNotification=Gh={}));var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.InlineCompletionRequest=void 0;const Jh=ce;var Kh;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Jh.MessageDirection.clientToServer,t.type=new Jh.ProtocolRequestType(t.method)})(Kh||(Fs.InlineCompletionRequest=Kh={}));(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const n=ce,i=Vc,o=Ue,a=Os;Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return a.ImplementationRequest}});const c=As;Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return c.TypeDefinitionRequest}});const g=Ci;Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return g.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return g.DidChangeWorkspaceFoldersNotification}});const _=Ns;Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return _.ConfigurationRequest}});const D=Pi;Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return D.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return D.ColorPresentationRequest}});const C=Ei;Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return C.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return C.FoldingRangeRefreshRequest}});const k=qs;Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return k.DeclarationRequest}});const L=Ms;Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return L.SelectionRangeRequest}});const M=vr;Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return M.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return M.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return M.WorkDoneProgressCancelNotification}});const $=br;Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return $.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return $.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return $.CallHierarchyPrepareRequest}});const X=Et;Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return X.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return X.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return X.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return X.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return X.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return X.SemanticTokensRegistrationType}});const Le=Ls;Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return Le.ShowDocumentRequest}});const ve=Is;Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ve.LinkedEditingRangeRequest}});const Y=pt;Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return Y.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Y.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Y.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Y.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Y.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Y.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Y.WillDeleteFilesRequest}});const S=wr;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return S.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return S.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return S.MonikerRequest}});const R=Rr;Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return R.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return R.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return R.TypeHierarchySupertypesRequest}});const I=Ai;Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return I.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return I.InlineValueRefreshRequest}});const be=Tr;Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return be.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return be.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return be.InlayHintRefreshRequest}});const De=en;Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return De.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return De.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return De.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return De.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return De.DiagnosticRefreshRequest}});const Ce=je;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return Ce.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return Ce.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return Ce.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return Ce.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ce.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ce.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ce.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ce.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ce.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ce.DidCloseNotebookDocumentNotification}});const Wt=Fs;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return Wt.InlineCompletionRequest}});var Bt;(function(h){function Fe(xe){const K=xe;return o.string(K)||o.string(K.language)||o.string(K.scheme)||o.string(K.pattern)}h.is=Fe})(Bt||(t.TextDocumentFilter=Bt={}));var Xn;(function(h){function Fe(xe){const K=xe;return o.objectLiteral(K)&&(o.string(K.notebookType)||o.string(K.scheme)||o.string(K.pattern))}h.is=Fe})(Xn||(t.NotebookDocumentFilter=Xn={}));var nt;(function(h){function Fe(xe){const K=xe;return o.objectLiteral(K)&&(o.string(K.notebook)||Xn.is(K.notebook))&&(K.language===void 0||o.string(K.language))}h.is=Fe})(nt||(t.NotebookCellTextDocumentFilter=nt={}));var Er;(function(h){function Fe(xe){if(!Array.isArray(xe))return!1;for(let K of xe)if(!o.string(K)&&!Bt.is(K)&&!nt.is(K))return!1;return!0}h.is=Fe})(Er||(t.DocumentSelector=Er={}));var q;(function(h){h.method="client/registerCapability",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType(h.method)})(q||(t.RegistrationRequest=q={}));var ee;(function(h){h.method="client/unregisterCapability",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType(h.method)})(ee||(t.UnregistrationRequest=ee={}));var ne;(function(h){h.Create="create",h.Rename="rename",h.Delete="delete"})(ne||(t.ResourceOperationKind=ne={}));var z;(function(h){h.Abort="abort",h.Transactional="transactional",h.TextOnlyTransactional="textOnlyTransactional",h.Undo="undo"})(z||(t.FailureHandlingKind=z={}));var me;(function(h){h.UTF8="utf-8",h.UTF16="utf-16",h.UTF32="utf-32"})(me||(t.PositionEncodingKind=me={}));var kt;(function(h){function Fe(xe){const K=xe;return K&&o.string(K.id)&&K.id.length>0}h.hasId=Fe})(kt||(t.StaticRegistrationOptions=kt={}));var Gr;(function(h){function Fe(xe){const K=xe;return K&&(K.documentSelector===null||Er.is(K.documentSelector))}h.is=Fe})(Gr||(t.TextDocumentRegistrationOptions=Gr={}));var En;(function(h){function Fe(K){const m=K;return o.objectLiteral(m)&&(m.workDoneProgress===void 0||o.boolean(m.workDoneProgress))}h.is=Fe;function xe(K){const m=K;return m&&o.boolean(m.workDoneProgress)}h.hasWorkDoneProgress=xe})(En||(t.WorkDoneProgressOptions=En={}));var Qe;(function(h){h.method="initialize",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Qe||(t.InitializeRequest=Qe={}));var gn;(function(h){h.unknownProtocolVersion=1})(gn||(t.InitializeErrorCodes=gn={}));var kn;(function(h){h.method="initialized",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(kn||(t.InitializedNotification=kn={}));var pn;(function(h){h.method="shutdown",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType0(h.method)})(pn||(t.ShutdownRequest=pn={}));var Rt;(function(h){h.method="exit",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType0(h.method)})(Rt||(t.ExitNotification=Rt={}));var Ht;(function(h){h.method="workspace/didChangeConfiguration",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(Ht||(t.DidChangeConfigurationNotification=Ht={}));var Qn;(function(h){h.Error=1,h.Warning=2,h.Info=3,h.Log=4,h.Debug=5})(Qn||(t.MessageType=Qn={}));var lt;(function(h){h.method="window/showMessage",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolNotificationType(h.method)})(lt||(t.ShowMessageNotification=lt={}));var ft;(function(h){h.method="window/showMessageRequest",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType(h.method)})(ft||(t.ShowMessageRequest=ft={}));var On;(function(h){h.method="window/logMessage",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolNotificationType(h.method)})(On||(t.LogMessageNotification=On={}));var rt;(function(h){h.method="telemetry/event",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolNotificationType(h.method)})(rt||(t.TelemetryEventNotification=rt={}));var ge;(function(h){h.None=0,h.Full=1,h.Incremental=2})(ge||(t.TextDocumentSyncKind=ge={}));var Ot;(function(h){h.method="textDocument/didOpen",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(Ot||(t.DidOpenTextDocumentNotification=Ot={}));var he;(function(h){function Fe(K){let m=K;return m!=null&&typeof m.text=="string"&&m.range!==void 0&&(m.rangeLength===void 0||typeof m.rangeLength=="number")}h.isIncremental=Fe;function xe(K){let m=K;return m!=null&&typeof m.text=="string"&&m.range===void 0&&m.rangeLength===void 0}h.isFull=xe})(he||(t.TextDocumentContentChangeEvent=he={}));var it;(function(h){h.method="textDocument/didChange",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(it||(t.DidChangeTextDocumentNotification=it={}));var Zn;(function(h){h.method="textDocument/didClose",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(Zn||(t.DidCloseTextDocumentNotification=Zn={}));var yt;(function(h){h.method="textDocument/didSave",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(yt||(t.DidSaveTextDocumentNotification=yt={}));var er;(function(h){h.Manual=1,h.AfterDelay=2,h.FocusOut=3})(er||(t.TextDocumentSaveReason=er={}));var kr;(function(h){h.method="textDocument/willSave",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(kr||(t.WillSaveTextDocumentNotification=kr={}));var rn;(function(h){h.method="textDocument/willSaveWaitUntil",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(rn||(t.WillSaveTextDocumentWaitUntilRequest=rn={}));var Ie;(function(h){h.method="workspace/didChangeWatchedFiles",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolNotificationType(h.method)})(Ie||(t.DidChangeWatchedFilesNotification=Ie={}));var on;(function(h){h.Created=1,h.Changed=2,h.Deleted=3})(on||(t.FileChangeType=on={}));var An;(function(h){function Fe(xe){const K=xe;return o.objectLiteral(K)&&(i.URI.is(K.baseUri)||i.WorkspaceFolder.is(K.baseUri))&&o.string(K.pattern)}h.is=Fe})(An||(t.RelativePattern=An={}));var Jr;(function(h){h.Create=1,h.Change=2,h.Delete=4})(Jr||(t.WatchKind=Jr={}));var mn;(function(h){h.method="textDocument/publishDiagnostics",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolNotificationType(h.method)})(mn||(t.PublishDiagnosticsNotification=mn={}));var Kr;(function(h){h.Invoked=1,h.TriggerCharacter=2,h.TriggerForIncompleteCompletions=3})(Kr||(t.CompletionTriggerKind=Kr={}));var sn;(function(h){h.method="textDocument/completion",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(sn||(t.CompletionRequest=sn={}));var $t;(function(h){h.method="completionItem/resolve",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})($t||(t.CompletionResolveRequest=$t={}));var At;(function(h){h.method="textDocument/hover",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(At||(t.HoverRequest=At={}));var Nn;(function(h){h.Invoked=1,h.TriggerCharacter=2,h.ContentChange=3})(Nn||(t.SignatureHelpTriggerKind=Nn={}));var tr;(function(h){h.method="textDocument/signatureHelp",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(tr||(t.SignatureHelpRequest=tr={}));var nr;(function(h){h.method="textDocument/definition",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(nr||(t.DefinitionRequest=nr={}));var qn;(function(h){h.method="textDocument/references",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(qn||(t.ReferencesRequest=qn={}));var Mn;(function(h){h.method="textDocument/documentHighlight",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Mn||(t.DocumentHighlightRequest=Mn={}));var rr;(function(h){h.method="textDocument/documentSymbol",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(rr||(t.DocumentSymbolRequest=rr={}));var ir;(function(h){h.method="textDocument/codeAction",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(ir||(t.CodeActionRequest=ir={}));var or;(function(h){h.method="codeAction/resolve",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(or||(t.CodeActionResolveRequest=or={}));var Yr;(function(h){h.method="workspace/symbol",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Yr||(t.WorkspaceSymbolRequest=Yr={}));var Xr;(function(h){h.method="workspaceSymbol/resolve",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Xr||(t.WorkspaceSymbolResolveRequest=Xr={}));var Qr;(function(h){h.method="textDocument/codeLens",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Qr||(t.CodeLensRequest=Qr={}));var Tt;(function(h){h.method="codeLens/resolve",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Tt||(t.CodeLensResolveRequest=Tt={}));var Or;(function(h){h.method="workspace/codeLens/refresh",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType0(h.method)})(Or||(t.CodeLensRefreshRequest=Or={}));var Zr;(function(h){h.method="textDocument/documentLink",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Zr||(t.DocumentLinkRequest=Zr={}));var Ln;(function(h){h.method="documentLink/resolve",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Ln||(t.DocumentLinkResolveRequest=Ln={}));var ei;(function(h){h.method="textDocument/formatting",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(ei||(t.DocumentFormattingRequest=ei={}));var sr;(function(h){h.method="textDocument/rangeFormatting",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(sr||(t.DocumentRangeFormattingRequest=sr={}));var Ar;(function(h){h.method="textDocument/rangesFormatting",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(Ar||(t.DocumentRangesFormattingRequest=Ar={}));var an;(function(h){h.method="textDocument/onTypeFormatting",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(an||(t.DocumentOnTypeFormattingRequest=an={}));var yn;(function(h){h.Identifier=1})(yn||(t.PrepareSupportDefaultBehavior=yn={}));var ti;(function(h){h.method="textDocument/rename",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(ti||(t.RenameRequest=ti={}));var ar;(function(h){h.method="textDocument/prepareRename",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(ar||(t.PrepareRenameRequest=ar={}));var _n;(function(h){h.method="workspace/executeCommand",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method)})(_n||(t.ExecuteCommandRequest=_n={}));var In;(function(h){h.method="workspace/applyEdit",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType("workspace/applyEdit")})(In||(t.ApplyWorkspaceEditRequest=In={}))})(Mg);var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.createProtocolConnection=void 0;const Yh=Vr;function VR(t,n,i,o){return Yh.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Yh.createMessageConnection)(t,n,i,o)}xs.createProtocolConnection=VR;(function(t){var n=Ae&&Ae.__createBinding||(Object.create?function(c,g,_,D){D===void 0&&(D=_);var C=Object.getOwnPropertyDescriptor(g,_);(!C||("get"in C?!g.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(c,D,C)}:function(c,g,_,D){D===void 0&&(D=_),c[D]=g[_]}),i=Ae&&Ae.__exportStar||function(c,g){for(var _ in c)_!=="default"&&!Object.prototype.hasOwnProperty.call(g,_)&&n(g,c,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(Vr,t),i(Vc,t),i(ce,t),i(Mg,t);var o=xs;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}});var a;(function(c){c.lspReservedErrorRangeStart=-32899,c.RequestFailed=-32803,c.ServerCancelled=-32802,c.ContentModified=-32801,c.RequestCancelled=-32800,c.lspReservedErrorRangeEnd=-32800})(a||(t.LSPErrorCodes=a={}))})(qg);(function(t){var n=Ae&&Ae.__createBinding||(Object.create?function(c,g,_,D){D===void 0&&(D=_);var C=Object.getOwnPropertyDescriptor(g,_);(!C||("get"in C?!g.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(c,D,C)}:function(c,g,_,D){D===void 0&&(D=_),c[D]=g[_]}),i=Ae&&Ae.__exportStar||function(c,g){for(var _ in c)_!=="default"&&!Object.prototype.hasOwnProperty.call(g,_)&&n(g,c,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=xd;i(xd,t),i(qg,t);function a(c,g,_,D){return(0,o.createMessageConnection)(c,g,_,D)}t.createProtocolConnection=a})(Ke);Object.defineProperty(Gn,"__esModule",{value:!0});Gn.SemanticTokensBuilder=Gn.SemanticTokensDiff=Gn.SemanticTokensFeature=void 0;const ts=Ke,GR=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(ts.SemanticTokensRefreshRequest.type),on:n=>{const i=ts.SemanticTokensRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onDelta:n=>{const i=ts.SemanticTokensDeltaRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onRange:n=>{const i=ts.SemanticTokensRangeRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};Gn.SemanticTokensFeature=GR;class xg{constructor(n,i){this.originalSequence=n,this.modifiedSequence=i}computeDiff(){const n=this.originalSequence.length,i=this.modifiedSequence.length;let o=0;for(;o<i&&o<n&&this.originalSequence[o]===this.modifiedSequence[o];)o++;if(o<i&&o<n){let a=n-1,c=i-1;for(;a>=o&&c>=o&&this.originalSequence[a]===this.modifiedSequence[c];)a--,c--;(a<o||c<o)&&(a++,c++);const g=a-o+1,_=this.modifiedSequence.slice(o,c+1);return _.length===1&&_[0]===this.originalSequence[a]?[{start:o,deleteCount:g-1}]:[{start:o,deleteCount:g,data:_}]}else return o<i?[{start:o,deleteCount:0,data:this.modifiedSequence.slice(o)}]:o<n?[{start:o,deleteCount:n-o}]:[]}}Gn.SemanticTokensDiff=xg;class JR{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(n,i,o,a,c){let g=n,_=i;this._dataLen>0&&(g-=this._prevLine,g===0&&(_-=this._prevChar)),this._data[this._dataLen++]=g,this._data[this._dataLen++]=_,this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=c,this._prevLine=n,this._prevChar=i}get id(){return this._id.toString()}previousResult(n){this.id===n&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new xg(this._prevData,this._data).computeDiff()}:this.build()}}Gn.SemanticTokensBuilder=JR;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.InlineCompletionFeature=void 0;const KR=Ke,YR=t=>class extends t{get inlineCompletion(){return{on:n=>this.connection.onRequest(KR.InlineCompletionRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i)))}}};Ws.InlineCompletionFeature=YR;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.TextDocuments=void 0;const Hr=Ke;class XR{constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new Hr.Emitter,this._onDidOpen=new Hr.Emitter,this._onDidClose=new Hr.Emitter,this._onDidSave=new Hr.Emitter,this._onWillSave=new Hr.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(n)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=Hr.TextDocumentSyncKind.Incremental;const i=[];return i.push(n.onDidOpenTextDocument(o=>{const a=o.textDocument,c=this._configuration.create(a.uri,a.languageId,a.version,a.text);this._syncedDocuments.set(a.uri,c);const g=Object.freeze({document:c});this._onDidOpen.fire(g),this._onDidChangeContent.fire(g)})),i.push(n.onDidChangeTextDocument(o=>{const a=o.textDocument,c=o.contentChanges;if(c.length===0)return;const{version:g}=a;if(g==null)throw new Error(`Received document change event for ${a.uri} without valid version identifier`);let _=this._syncedDocuments.get(a.uri);_!==void 0&&(_=this._configuration.update(_,c,g),this._syncedDocuments.set(a.uri,_),this._onDidChangeContent.fire(Object.freeze({document:_})))})),i.push(n.onDidCloseTextDocument(o=>{let a=this._syncedDocuments.get(o.textDocument.uri);a!==void 0&&(this._syncedDocuments.delete(o.textDocument.uri),this._onDidClose.fire(Object.freeze({document:a})))})),i.push(n.onWillSaveTextDocument(o=>{let a=this._syncedDocuments.get(o.textDocument.uri);a!==void 0&&this._onWillSave.fire(Object.freeze({document:a,reason:o.reason}))})),i.push(n.onWillSaveTextDocumentWaitUntil((o,a)=>{let c=this._syncedDocuments.get(o.textDocument.uri);return c!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:c,reason:o.reason}),a):[]})),i.push(n.onDidSaveTextDocument(o=>{let a=this._syncedDocuments.get(o.textDocument.uri);a!==void 0&&this._onDidSave.fire(Object.freeze({document:a}))})),Hr.Disposable.create(()=>{i.forEach(o=>o.dispose())})}}ho.TextDocuments=XR;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.NotebookDocuments=zr.NotebookSyncFeature=void 0;const tn=Ke,Xh=ho,QR=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:n=>this.connection.onNotification(tn.DidOpenNotebookDocumentNotification.type,i=>{n(i)}),onDidChangeNotebookDocument:n=>this.connection.onNotification(tn.DidChangeNotebookDocumentNotification.type,i=>{n(i)}),onDidSaveNotebookDocument:n=>this.connection.onNotification(tn.DidSaveNotebookDocumentNotification.type,i=>{n(i)}),onDidCloseNotebookDocument:n=>this.connection.onNotification(tn.DidCloseNotebookDocumentNotification.type,i=>{n(i)})}}};zr.NotebookSyncFeature=QR;class vi{onDidOpenTextDocument(n){return this.openHandler=n,tn.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,tn.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,tn.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return vi.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return vi.NULL_DISPOSE}onDidSaveTextDocument(){return vi.NULL_DISPOSE}}vi.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class ZR{constructor(n){n instanceof Xh.TextDocuments?this._cellTextDocuments=n:this._cellTextDocuments=new Xh.TextDocuments(n),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new tn.Emitter,this._onDidChange=new tn.Emitter,this._onDidSave=new tn.Emitter,this._onDidClose=new tn.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(n)}getNotebookCell(n){const i=this.notebookCellMap.get(n);return i&&i[0]}findNotebookDocumentForCell(n){const i=typeof n=="string"?n:n.document,o=this.notebookCellMap.get(i);return o&&o[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const i=new vi,o=[];return o.push(this.cellTextDocuments.listen(i)),o.push(n.notebooks.synchronization.onDidOpenNotebookDocument(a=>{this.notebookDocuments.set(a.notebookDocument.uri,a.notebookDocument);for(const c of a.cellTextDocuments)i.openTextDocument({textDocument:c});this.updateCellMap(a.notebookDocument),this._onDidOpen.fire(a.notebookDocument)})),o.push(n.notebooks.synchronization.onDidChangeNotebookDocument(a=>{const c=this.notebookDocuments.get(a.notebookDocument.uri);if(c===void 0)return;c.version=a.notebookDocument.version;const g=c.metadata;let _=!1;const D=a.change;D.metadata!==void 0&&(_=!0,c.metadata=D.metadata);const C=[],k=[],L=[],M=[];if(D.cells!==void 0){const Y=D.cells;if(Y.structure!==void 0){const S=Y.structure.array;if(c.cells.splice(S.start,S.deleteCount,...S.cells!==void 0?S.cells:[]),Y.structure.didOpen!==void 0)for(const R of Y.structure.didOpen)i.openTextDocument({textDocument:R}),C.push(R.uri);if(Y.structure.didClose)for(const R of Y.structure.didClose)i.closeTextDocument({textDocument:R}),k.push(R.uri)}if(Y.data!==void 0){const S=new Map(Y.data.map(R=>[R.document,R]));for(let R=0;R<=c.cells.length;R++){const I=S.get(c.cells[R].document);if(I!==void 0){const be=c.cells.splice(R,1,I);if(L.push({old:be[0],new:I}),S.delete(I.document),S.size===0)break}}}if(Y.textContent!==void 0)for(const S of Y.textContent)i.changeTextDocument({textDocument:S.document,contentChanges:S.changes}),M.push(S.document.uri)}this.updateCellMap(c);const $={notebookDocument:c};_&&($.metadata={old:g,new:c.metadata});const X=[];for(const Y of C)X.push(this.getNotebookCell(Y));const Le=[];for(const Y of k)Le.push(this.getNotebookCell(Y));const ve=[];for(const Y of M)ve.push(this.getNotebookCell(Y));(X.length>0||Le.length>0||L.length>0||ve.length>0)&&($.cells={added:X,removed:Le,changed:{data:L,textContent:ve}}),($.metadata!==void 0||$.cells!==void 0)&&this._onDidChange.fire($)})),o.push(n.notebooks.synchronization.onDidSaveNotebookDocument(a=>{const c=this.notebookDocuments.get(a.notebookDocument.uri);c!==void 0&&this._onDidSave.fire(c)})),o.push(n.notebooks.synchronization.onDidCloseNotebookDocument(a=>{const c=this.notebookDocuments.get(a.notebookDocument.uri);if(c!==void 0){this._onDidClose.fire(c);for(const g of a.cellTextDocuments)i.closeTextDocument({textDocument:g});this.notebookDocuments.delete(a.notebookDocument.uri);for(const g of c.cells)this.notebookCellMap.delete(g.document)}})),tn.Disposable.create(()=>{o.forEach(a=>a.dispose())})}updateCellMap(n){for(const i of n.cells)this.notebookCellMap.set(i.document,[i,n])}}zr.NotebookDocuments=ZR;var pe={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.thenable=Je.typedArray=Je.stringArray=Je.array=Je.func=Je.error=Je.number=Je.string=Je.boolean=void 0;function eT(t){return t===!0||t===!1}Je.boolean=eT;function Wg(t){return typeof t=="string"||t instanceof String}Je.string=Wg;function tT(t){return typeof t=="number"||t instanceof Number}Je.number=tT;function nT(t){return t instanceof Error}Je.error=nT;function Bg(t){return typeof t=="function"}Je.func=Bg;function Hg(t){return Array.isArray(t)}Je.array=Hg;function rT(t){return Hg(t)&&t.every(n=>Wg(n))}Je.stringArray=rT;function iT(t,n){return Array.isArray(t)&&t.every(n)}Je.typedArray=iT;function oT(t){return t&&Bg(t.then)}Je.thenable=oT;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.generateUuid=xt.parse=xt.isUUID=xt.v4=xt.empty=void 0;class Gc{constructor(n){this._value=n}asHex(){return this._value}equals(n){return this.asHex()===n.asHex()}}class se extends Gc{static _oneOf(n){return n[Math.floor(n.length*Math.random())]}static _randomHex(){return se._oneOf(se._chars)}constructor(){super([se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),"-",se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),"-","4",se._randomHex(),se._randomHex(),se._randomHex(),"-",se._oneOf(se._timeHighBits),se._randomHex(),se._randomHex(),se._randomHex(),"-",se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex()].join(""))}}se._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];se._timeHighBits=["8","9","a","b"];xt.empty=new Gc("00000000-0000-0000-0000-000000000000");function $g(){return new se}xt.v4=$g;const sT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function jg(t){return sT.test(t)}xt.isUUID=jg;function aT(t){if(!jg(t))throw new Error("invalid uuid");return new Gc(t)}xt.parse=aT;function uT(){return $g().asHex()}xt.generateUuid=uT;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.attachPartialResult=Dr.ProgressFeature=Dr.attachWorkDone=void 0;const Sr=Ke,cT=xt;class Pr{constructor(n,i){this._connection=n,this._token=i,Pr.Instances.set(this._token,this)}begin(n,i,o,a){let c={kind:"begin",title:n,percentage:i,message:o,cancellable:a};this._connection.sendProgress(Sr.WorkDoneProgress.type,this._token,c)}report(n,i){let o={kind:"report"};typeof n=="number"?(o.percentage=n,i!==void 0&&(o.message=i)):o.message=n,this._connection.sendProgress(Sr.WorkDoneProgress.type,this._token,o)}done(){Pr.Instances.delete(this._token),this._connection.sendProgress(Sr.WorkDoneProgress.type,this._token,{kind:"end"})}}Pr.Instances=new Map;class Qh extends Pr{constructor(n,i){super(n,i),this._source=new Sr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class Jc{constructor(){}begin(){}report(){}done(){}}class Zh extends Jc{constructor(){super(),this._source=new Sr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function lT(t,n){if(n===void 0||n.workDoneToken===void 0)return new Jc;const i=n.workDoneToken;return delete n.workDoneToken,new Pr(t,i)}Dr.attachWorkDone=lT;const fT=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(n){super.initialize(n),n?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Sr.WorkDoneProgressCancelNotification.type,i=>{let o=Pr.Instances.get(i.token);(o instanceof Qh||o instanceof Zh)&&o.cancel()}))}attachWorkDoneProgress(n){return n===void 0?new Jc:new Pr(this.connection,n)}createWorkDoneProgress(){if(this._progressSupported){const n=(0,cT.generateUuid)();return this.connection.sendRequest(Sr.WorkDoneProgressCreateRequest.type,{token:n}).then(()=>new Qh(this.connection,n))}else return Promise.resolve(new Zh)}};Dr.ProgressFeature=fT;var Mc;(function(t){t.type=new Sr.ProgressType})(Mc||(Mc={}));class dT{constructor(n,i){this._connection=n,this._token=i}report(n){this._connection.sendProgress(Mc.type,this._token,n)}}function hT(t,n){if(n===void 0||n.partialResultToken===void 0)return;const i=n.partialResultToken;return delete n.partialResultToken,new dT(t,i)}Dr.attachPartialResult=hT;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ConfigurationFeature=void 0;const gT=Ke,pT=Je,mT=t=>class extends t{getConfiguration(n){return n?pT.string(n)?this._getConfiguration({section:n}):this._getConfiguration(n):this._getConfiguration({})}_getConfiguration(n){let i={items:Array.isArray(n)?n:[n]};return this.connection.sendRequest(gT.ConfigurationRequest.type,i).then(o=>Array.isArray(o)?Array.isArray(n)?o:o[0]:Array.isArray(n)?[]:null)}};Bs.ConfigurationFeature=mT;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.WorkspaceFoldersFeature=void 0;const ns=Ke,yT=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(n){super.initialize(n);let i=n.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ns.Emitter,this.connection.onNotification(ns.DidChangeWorkspaceFoldersNotification.type,o=>{this._onDidChangeWorkspaceFolders.fire(o.event)}))}fillServerCapabilities(n){super.fillServerCapabilities(n);const i=n.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=i===!0||typeof i=="string"}getWorkspaceFolders(){return this.connection.sendRequest(ns.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(ns.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Hs.WorkspaceFoldersFeature=yT;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.CallHierarchyFeature=void 0;const du=Ke,_T=t=>class extends t{get callHierarchy(){return{onPrepare:n=>this.connection.onRequest(du.CallHierarchyPrepareRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i),void 0)),onIncomingCalls:n=>{const i=du.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onOutgoingCalls:n=>{const i=du.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};$s.CallHierarchyFeature=_T;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.ShowDocumentFeature=void 0;const vT=Ke,bT=t=>class extends t{showDocument(n){return this.connection.sendRequest(vT.ShowDocumentRequest.type,n)}};js.ShowDocumentFeature=bT;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.FileOperationsFeature=void 0;const mi=Ke,wT=t=>class extends t{onDidCreateFiles(n){return this.connection.onNotification(mi.DidCreateFilesNotification.type,i=>{n(i)})}onDidRenameFiles(n){return this.connection.onNotification(mi.DidRenameFilesNotification.type,i=>{n(i)})}onDidDeleteFiles(n){return this.connection.onNotification(mi.DidDeleteFilesNotification.type,i=>{n(i)})}onWillCreateFiles(n){return this.connection.onRequest(mi.WillCreateFilesRequest.type,(i,o)=>n(i,o))}onWillRenameFiles(n){return this.connection.onRequest(mi.WillRenameFilesRequest.type,(i,o)=>n(i,o))}onWillDeleteFiles(n){return this.connection.onRequest(mi.WillDeleteFilesRequest.type,(i,o)=>n(i,o))}};Us.FileOperationsFeature=wT;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.LinkedEditingRangeFeature=void 0;const RT=Ke,TT=t=>class extends t{onLinkedEditingRange(n){return this.connection.onRequest(RT.LinkedEditingRangeRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i),void 0))}};zs.LinkedEditingRangeFeature=TT;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.TypeHierarchyFeature=void 0;const hu=Ke,DT=t=>class extends t{get typeHierarchy(){return{onPrepare:n=>this.connection.onRequest(hu.TypeHierarchyPrepareRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i),void 0)),onSupertypes:n=>{const i=hu.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onSubtypes:n=>{const i=hu.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};Vs.TypeHierarchyFeature=DT;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.InlineValueFeature=void 0;const eg=Ke,ST=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(eg.InlineValueRefreshRequest.type),on:n=>this.connection.onRequest(eg.InlineValueRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i)))}}};Gs.InlineValueFeature=ST;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.FoldingRangeFeature=void 0;const tg=Ke,CT=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(tg.FoldingRangeRefreshRequest.type),on:n=>{const i=tg.FoldingRangeRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};Js.FoldingRangeFeature=CT;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.InlayHintFeature=void 0;const gu=Ke,PT=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(gu.InlayHintRefreshRequest.type),on:n=>this.connection.onRequest(gu.InlayHintRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i))),resolve:n=>this.connection.onRequest(gu.InlayHintResolveRequest.type,(i,o)=>n(i,o))}}};Ks.InlayHintFeature=PT;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.DiagnosticFeature=void 0;const Xi=Ke,ET=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Xi.DiagnosticRefreshRequest.type),on:n=>this.connection.onRequest(Xi.DocumentDiagnosticRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(Xi.DocumentDiagnosticRequest.partialResult,i))),onWorkspace:n=>this.connection.onRequest(Xi.WorkspaceDiagnosticRequest.type,(i,o)=>n(i,o,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(Xi.WorkspaceDiagnosticRequest.partialResult,i)))}}};Ys.DiagnosticFeature=ET;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.MonikerFeature=void 0;const kT=Ke,OT=t=>class extends t{get moniker(){return{on:n=>{const i=kT.MonikerRequest.type;return this.connection.onRequest(i,(o,a)=>n(o,a,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};Xs.MonikerFeature=OT;Object.defineProperty(pe,"__esModule",{value:!0});pe.createConnection=pe.combineFeatures=pe.combineNotebooksFeatures=pe.combineLanguagesFeatures=pe.combineWorkspaceFeatures=pe.combineWindowFeatures=pe.combineClientFeatures=pe.combineTracerFeatures=pe.combineTelemetryFeatures=pe.combineConsoleFeatures=pe._NotebooksImpl=pe._LanguagesImpl=pe.BulkUnregistration=pe.BulkRegistration=pe.ErrorMessageTracker=void 0;const x=Ke,Xt=Je,Lc=xt,Z=Dr,AT=Bs,NT=Hs,qT=$s,MT=Gn,LT=js,IT=Us,FT=zs,xT=Vs,WT=Gs,BT=Js,HT=Ks,$T=Ys,jT=zr,UT=Xs;function pu(t){if(t!==null)return t}class zT{constructor(){this._messages=Object.create(null)}add(n){let i=this._messages[n];i||(i=0),i++,this._messages[n]=i}sendErrors(n){Object.keys(this._messages).forEach(i=>{n.window.showErrorMessage(i)})}}pe.ErrorMessageTracker=zT;class ng{constructor(){}rawAttach(n){this._rawConnection=n}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(n){}initialize(n){}error(n){this.send(x.MessageType.Error,n)}warn(n){this.send(x.MessageType.Warning,n)}info(n){this.send(x.MessageType.Info,n)}log(n){this.send(x.MessageType.Log,n)}debug(n){this.send(x.MessageType.Debug,n)}send(n,i){this._rawConnection&&this._rawConnection.sendNotification(x.LogMessageNotification.type,{type:n,message:i}).catch(()=>{(0,x.RAL)().console.error("Sending log message failed")})}}class VT{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}showErrorMessage(n,...i){let o={type:x.MessageType.Error,message:n,actions:i};return this.connection.sendRequest(x.ShowMessageRequest.type,o).then(pu)}showWarningMessage(n,...i){let o={type:x.MessageType.Warning,message:n,actions:i};return this.connection.sendRequest(x.ShowMessageRequest.type,o).then(pu)}showInformationMessage(n,...i){let o={type:x.MessageType.Info,message:n,actions:i};return this.connection.sendRequest(x.ShowMessageRequest.type,o).then(pu)}}const rg=(0,LT.ShowDocumentFeature)((0,Z.ProgressFeature)(VT));var ig;(function(t){function n(){return new Ug}t.create=n})(ig||(pe.BulkRegistration=ig={}));class Ug{constructor(){this._registrations=[],this._registered=new Set}add(n,i){const o=Xt.string(n)?n:n.method;if(this._registered.has(o))throw new Error(`${o} is already added to this registration`);const a=Lc.generateUuid();this._registrations.push({id:a,method:o,registerOptions:i||{}}),this._registered.add(o)}asRegistrationParams(){return{registrations:this._registrations}}}var og;(function(t){function n(){return new Ic(void 0,[])}t.create=n})(og||(pe.BulkUnregistration=og={}));class Ic{constructor(n,i){this._connection=n,this._unregistrations=new Map,i.forEach(o=>{this._unregistrations.set(o.method,o)})}get isAttached(){return!!this._connection}attach(n){this._connection=n}add(n){this._unregistrations.set(n.method,n)}dispose(){let n=[];for(let o of this._unregistrations.values())n.push(o);let i={unregisterations:n};this._connection.sendRequest(x.UnregistrationRequest.type,i).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(n){const i=Xt.string(n)?n:n.method,o=this._unregistrations.get(i);if(!o)return!1;let a={unregisterations:[o]};return this._connection.sendRequest(x.UnregistrationRequest.type,a).then(()=>{this._unregistrations.delete(i)},c=>{this._connection.console.info(`Un-registering request handler for ${o.id} failed.`)}),!0}}class sg{attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}register(n,i,o){return n instanceof Ug?this.registerMany(n):n instanceof Ic?this.registerSingle1(n,i,o):this.registerSingle2(n,i)}registerSingle1(n,i,o){const a=Xt.string(i)?i:i.method,c=Lc.generateUuid();let g={registrations:[{id:c,method:a,registerOptions:o||{}}]};return n.isAttached||n.attach(this.connection),this.connection.sendRequest(x.RegistrationRequest.type,g).then(_=>(n.add({id:c,method:a}),n),_=>(this.connection.console.info(`Registering request handler for ${a} failed.`),Promise.reject(_)))}registerSingle2(n,i){const o=Xt.string(n)?n:n.method,a=Lc.generateUuid();let c={registrations:[{id:a,method:o,registerOptions:i||{}}]};return this.connection.sendRequest(x.RegistrationRequest.type,c).then(g=>x.Disposable.create(()=>{this.unregisterSingle(a,o).catch(()=>{this.connection.console.info(`Un-registering capability with id ${a} failed.`)})}),g=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(g)))}unregisterSingle(n,i){let o={unregisterations:[{id:n,method:i}]};return this.connection.sendRequest(x.UnregistrationRequest.type,o).catch(()=>{this.connection.console.info(`Un-registering request handler for ${n} failed.`)})}registerMany(n){let i=n.asRegistrationParams();return this.connection.sendRequest(x.RegistrationRequest.type,i).then(()=>new Ic(this._connection,i.registrations.map(o=>({id:o.id,method:o.method}))),o=>(this.connection.console.info("Bulk registration failed."),Promise.reject(o)))}}class GT{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}applyEdit(n){function i(a){return a&&!!a.edit}let o=i(n)?n:{edit:n};return this.connection.sendRequest(x.ApplyWorkspaceEditRequest.type,o)}}const ag=(0,IT.FileOperationsFeature)((0,NT.WorkspaceFoldersFeature)((0,AT.ConfigurationFeature)(GT)));class ug{constructor(){this._trace=x.Trace.Off}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}set trace(n){this._trace=n}log(n,i){this._trace!==x.Trace.Off&&this.connection.sendNotification(x.LogTraceNotification.type,{message:n,verbose:this._trace===x.Trace.Verbose?i:void 0}).catch(()=>{})}}class cg{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}logEvent(n){this.connection.sendNotification(x.TelemetryEventNotification.type,n).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class zg{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}attachWorkDoneProgress(n){return(0,Z.attachWorkDone)(this.connection,n)}attachPartialResultProgress(n,i){return(0,Z.attachPartialResult)(this.connection,i)}}pe._LanguagesImpl=zg;const lg=(0,BT.FoldingRangeFeature)((0,UT.MonikerFeature)((0,$T.DiagnosticFeature)((0,HT.InlayHintFeature)((0,WT.InlineValueFeature)((0,xT.TypeHierarchyFeature)((0,FT.LinkedEditingRangeFeature)((0,MT.SemanticTokensFeature)((0,qT.CallHierarchyFeature)(zg)))))))));class Vg{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}attachWorkDoneProgress(n){return(0,Z.attachWorkDone)(this.connection,n)}attachPartialResultProgress(n,i){return(0,Z.attachPartialResult)(this.connection,i)}}pe._NotebooksImpl=Vg;const fg=(0,jT.NotebookSyncFeature)(Vg);function Gg(t,n){return function(i){return n(t(i))}}pe.combineConsoleFeatures=Gg;function Jg(t,n){return function(i){return n(t(i))}}pe.combineTelemetryFeatures=Jg;function Kg(t,n){return function(i){return n(t(i))}}pe.combineTracerFeatures=Kg;function Yg(t,n){return function(i){return n(t(i))}}pe.combineClientFeatures=Yg;function Xg(t,n){return function(i){return n(t(i))}}pe.combineWindowFeatures=Xg;function Qg(t,n){return function(i){return n(t(i))}}pe.combineWorkspaceFeatures=Qg;function Zg(t,n){return function(i){return n(t(i))}}pe.combineLanguagesFeatures=Zg;function ep(t,n){return function(i){return n(t(i))}}pe.combineNotebooksFeatures=ep;function JT(t,n){function i(a,c,g){return a&&c?g(a,c):a||c}return{__brand:"features",console:i(t.console,n.console,Gg),tracer:i(t.tracer,n.tracer,Kg),telemetry:i(t.telemetry,n.telemetry,Jg),client:i(t.client,n.client,Yg),window:i(t.window,n.window,Xg),workspace:i(t.workspace,n.workspace,Qg),languages:i(t.languages,n.languages,Zg),notebooks:i(t.notebooks,n.notebooks,ep)}}pe.combineFeatures=JT;function KT(t,n,i){const o=i&&i.console?new(i.console(ng)):new ng,a=t(o);o.rawAttach(a);const c=i&&i.tracer?new(i.tracer(ug)):new ug,g=i&&i.telemetry?new(i.telemetry(cg)):new cg,_=i&&i.client?new(i.client(sg)):new sg,D=i&&i.window?new(i.window(rg)):new rg,C=i&&i.workspace?new(i.workspace(ag)):new ag,k=i&&i.languages?new(i.languages(lg)):new lg,L=i&&i.notebooks?new(i.notebooks(fg)):new fg,M=[o,c,g,_,D,C,k,L];function $(S){return S instanceof Promise?S:Xt.thenable(S)?new Promise((R,I)=>{S.then(be=>R(be),be=>I(be))}):Promise.resolve(S)}let X,Le,ve,Y={listen:()=>a.listen(),sendRequest:(S,...R)=>a.sendRequest(Xt.string(S)?S:S.method,...R),onRequest:(S,R)=>a.onRequest(S,R),sendNotification:(S,R)=>{const I=Xt.string(S)?S:S.method;return a.sendNotification(I,R)},onNotification:(S,R)=>a.onNotification(S,R),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:S=>(Le=S,{dispose:()=>{Le=void 0}}),onInitialized:S=>a.onNotification(x.InitializedNotification.type,S),onShutdown:S=>(X=S,{dispose:()=>{X=void 0}}),onExit:S=>(ve=S,{dispose:()=>{ve=void 0}}),get console(){return o},get telemetry(){return g},get tracer(){return c},get client(){return _},get window(){return D},get workspace(){return C},get languages(){return k},get notebooks(){return L},onDidChangeConfiguration:S=>a.onNotification(x.DidChangeConfigurationNotification.type,S),onDidChangeWatchedFiles:S=>a.onNotification(x.DidChangeWatchedFilesNotification.type,S),__textDocumentSync:void 0,onDidOpenTextDocument:S=>a.onNotification(x.DidOpenTextDocumentNotification.type,S),onDidChangeTextDocument:S=>a.onNotification(x.DidChangeTextDocumentNotification.type,S),onDidCloseTextDocument:S=>a.onNotification(x.DidCloseTextDocumentNotification.type,S),onWillSaveTextDocument:S=>a.onNotification(x.WillSaveTextDocumentNotification.type,S),onWillSaveTextDocumentWaitUntil:S=>a.onRequest(x.WillSaveTextDocumentWaitUntilRequest.type,S),onDidSaveTextDocument:S=>a.onNotification(x.DidSaveTextDocumentNotification.type,S),sendDiagnostics:S=>a.sendNotification(x.PublishDiagnosticsNotification.type,S),onHover:S=>a.onRequest(x.HoverRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),onCompletion:S=>a.onRequest(x.CompletionRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onCompletionResolve:S=>a.onRequest(x.CompletionResolveRequest.type,S),onSignatureHelp:S=>a.onRequest(x.SignatureHelpRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),onDeclaration:S=>a.onRequest(x.DeclarationRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onDefinition:S=>a.onRequest(x.DefinitionRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onTypeDefinition:S=>a.onRequest(x.TypeDefinitionRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onImplementation:S=>a.onRequest(x.ImplementationRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onReferences:S=>a.onRequest(x.ReferencesRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onDocumentHighlight:S=>a.onRequest(x.DocumentHighlightRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onDocumentSymbol:S=>a.onRequest(x.DocumentSymbolRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onWorkspaceSymbol:S=>a.onRequest(x.WorkspaceSymbolRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onWorkspaceSymbolResolve:S=>a.onRequest(x.WorkspaceSymbolResolveRequest.type,S),onCodeAction:S=>a.onRequest(x.CodeActionRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onCodeActionResolve:S=>a.onRequest(x.CodeActionResolveRequest.type,(R,I)=>S(R,I)),onCodeLens:S=>a.onRequest(x.CodeLensRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onCodeLensResolve:S=>a.onRequest(x.CodeLensResolveRequest.type,(R,I)=>S(R,I)),onDocumentFormatting:S=>a.onRequest(x.DocumentFormattingRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),onDocumentRangeFormatting:S=>a.onRequest(x.DocumentRangeFormattingRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),onDocumentOnTypeFormatting:S=>a.onRequest(x.DocumentOnTypeFormattingRequest.type,(R,I)=>S(R,I)),onRenameRequest:S=>a.onRequest(x.RenameRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),onPrepareRename:S=>a.onRequest(x.PrepareRenameRequest.type,(R,I)=>S(R,I)),onDocumentLinks:S=>a.onRequest(x.DocumentLinkRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onDocumentLinkResolve:S=>a.onRequest(x.DocumentLinkResolveRequest.type,(R,I)=>S(R,I)),onDocumentColor:S=>a.onRequest(x.DocumentColorRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onColorPresentation:S=>a.onRequest(x.ColorPresentationRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onFoldingRanges:S=>a.onRequest(x.FoldingRangeRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onSelectionRanges:S=>a.onRequest(x.SelectionRangeRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),(0,Z.attachPartialResult)(a,R))),onExecuteCommand:S=>a.onRequest(x.ExecuteCommandRequest.type,(R,I)=>S(R,I,(0,Z.attachWorkDone)(a,R),void 0)),dispose:()=>a.dispose()};for(let S of M)S.attach(Y);return a.onRequest(x.InitializeRequest.type,S=>{n.initialize(S),Xt.string(S.trace)&&(c.trace=x.Trace.fromString(S.trace));for(let R of M)R.initialize(S.capabilities);if(Le){let R=Le(S,new x.CancellationTokenSource().token,(0,Z.attachWorkDone)(a,S),void 0);return $(R).then(I=>{if(I instanceof x.ResponseError)return I;let be=I;be||(be={capabilities:{}});let De=be.capabilities;De||(De={},be.capabilities=De),De.textDocumentSync===void 0||De.textDocumentSync===null?De.textDocumentSync=Xt.number(Y.__textDocumentSync)?Y.__textDocumentSync:x.TextDocumentSyncKind.None:!Xt.number(De.textDocumentSync)&&!Xt.number(De.textDocumentSync.change)&&(De.textDocumentSync.change=Xt.number(Y.__textDocumentSync)?Y.__textDocumentSync:x.TextDocumentSyncKind.None);for(let Ce of M)Ce.fillServerCapabilities(De);return be})}else{let R={capabilities:{textDocumentSync:x.TextDocumentSyncKind.None}};for(let I of M)I.fillServerCapabilities(R.capabilities);return R}}),a.onRequest(x.ShutdownRequest.type,()=>{if(n.shutdownReceived=!0,X)return X(new x.CancellationTokenSource().token)}),a.onNotification(x.ExitNotification.type,()=>{try{ve&&ve()}finally{n.shutdownReceived?n.exit(0):n.exit(1)}}),a.onNotification(x.SetTraceNotification.type,S=>{c.trace=x.Trace.fromString(S.value)}),Y}pe.createConnection=KT;(function(t){var n=Ae&&Ae.__createBinding||(Object.create?function(D,C,k,L){L===void 0&&(L=k);var M=Object.getOwnPropertyDescriptor(C,k);(!M||("get"in M?!C.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return C[k]}}),Object.defineProperty(D,L,M)}:function(D,C,k,L){L===void 0&&(L=k),D[L]=C[k]}),i=Ae&&Ae.__exportStar||function(D,C){for(var k in D)k!=="default"&&!Object.prototype.hasOwnProperty.call(C,k)&&n(C,D,k)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.NotebookDocuments=t.TextDocuments=t.SemanticTokensBuilder=void 0;const o=Gn;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return o.SemanticTokensBuilder}});const a=Ws;i(Ke,t);const c=ho;Object.defineProperty(t,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const g=zr;Object.defineProperty(t,"NotebookDocuments",{enumerable:!0,get:function(){return g.NotebookDocuments}}),i(pe,t);var _;(function(D){D.all={__brand:"features",languages:a.InlineCompletionFeature}})(_||(t.ProposedFeatures=_={}))})(Tu);var YT=Ke;(function(t){var n=Ae&&Ae.__createBinding||(Object.create?function(_,D,C,k){k===void 0&&(k=C);var L=Object.getOwnPropertyDescriptor(D,C);(!L||("get"in L?!D.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return D[C]}}),Object.defineProperty(_,k,L)}:function(_,D,C,k){k===void 0&&(k=C),_[k]=D[C]}),i=Ae&&Ae.__exportStar||function(_,D){for(var C in _)C!=="default"&&!Object.prototype.hasOwnProperty.call(D,C)&&n(D,_,C)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const o=Tu;i(YT,t),i(Tu,t);let a=!1;const c={initialize:_=>{},get shutdownReceived(){return a},set shutdownReceived(_){a=_},exit:_=>{}};function g(_,D,C,k){let L,M,$,X;_!==void 0&&_.__brand==="features"&&(L=_,_=D,D=C,C=k),o.ConnectionStrategy.is(_)||o.ConnectionOptions.is(_)?X=_:(M=_,$=D,X=C);const Le=ve=>(0,o.createProtocolConnection)(M,$,ve,X);return(0,o.createConnection)(Le,c,L)}t.createConnection=g})(Tg);new Tg.NotificationType("$/gitlab/theme/didChangeTheme");jc("ThemeNotificationHandler");const Pn=Object.create(null);Pn.open="0";Pn.close="1";Pn.ping="2";Pn.pong="3";Pn.message="4";Pn.upgrade="5";Pn.noop="6";const us=Object.create(null);Object.keys(Pn).forEach(t=>{us[Pn[t]]=t});const Fc={type:"error",data:"parser error"},tp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",np=typeof ArrayBuffer=="function",rp=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Kc=({type:t,data:n},i,o)=>tp&&n instanceof Blob?i?o(n):dg(n,o):np&&(n instanceof ArrayBuffer||rp(n))?i?o(n):dg(new Blob([n]),o):o(Pn[t]+(n||"")),dg=(t,n)=>{const i=new FileReader;return i.onload=function(){const o=i.result.split(",")[1];n("b"+(o||""))},i.readAsDataURL(t)};function hg(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let mu;function XT(t,n){if(tp&&t.data instanceof Blob)return t.data.arrayBuffer().then(hg).then(n);if(np&&(t.data instanceof ArrayBuffer||rp(t.data)))return n(hg(t.data));Kc(t,!1,i=>{mu||(mu=new TextEncoder),n(mu.encode(i))})}const gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<gg.length;t++)eo[gg.charCodeAt(t)]=t;const QT=t=>{let n=t.length*.75,i=t.length,o,a=0,c,g,_,D;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);const C=new ArrayBuffer(n),k=new Uint8Array(C);for(o=0;o<i;o+=4)c=eo[t.charCodeAt(o)],g=eo[t.charCodeAt(o+1)],_=eo[t.charCodeAt(o+2)],D=eo[t.charCodeAt(o+3)],k[a++]=c<<2|g>>4,k[a++]=(g&15)<<4|_>>2,k[a++]=(_&3)<<6|D&63;return C},ZT=typeof ArrayBuffer=="function",Yc=(t,n)=>{if(typeof t!="string")return{type:"message",data:ip(t,n)};const i=t.charAt(0);return i==="b"?{type:"message",data:eD(t.substring(1),n)}:us[i]?t.length>1?{type:us[i],data:t.substring(1)}:{type:us[i]}:Fc},eD=(t,n)=>{if(ZT){const i=QT(t);return ip(i,n)}else return{base64:!0,data:t}},ip=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},op="",tD=(t,n)=>{const i=t.length,o=new Array(i);let a=0;t.forEach((c,g)=>{Kc(c,!1,_=>{o[g]=_,++a===i&&n(o.join(op))})})},nD=(t,n)=>{const i=t.split(op),o=[];for(let a=0;a<i.length;a++){const c=Yc(i[a],n);if(o.push(c),c.type==="error")break}return o};function rD(){return new TransformStream({transform(t,n){XT(t,i=>{const o=i.length;let a;if(o<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,o);else if(o<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,o)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(o))}t.data&&typeof t.data!="string"&&(a[0]|=128),n.enqueue(a),n.enqueue(i)})}})}let yu;function rs(t){return t.reduce((n,i)=>n+i.length,0)}function is(t,n){if(t[0].length===n)return t.shift();const i=new Uint8Array(n);let o=0;for(let a=0;a<n;a++)i[a]=t[0][o++],o===t[0].length&&(t.shift(),o=0);return t.length&&o<t[0].length&&(t[0]=t[0].slice(o)),i}function iD(t,n){yu||(yu=new TextDecoder);const i=[];let o=0,a=-1,c=!1;return new TransformStream({transform(g,_){for(i.push(g);;){if(o===0){if(rs(i)<1)break;const D=is(i,1);c=(D[0]&128)===128,a=D[0]&127,a<126?o=3:a===126?o=1:o=2}else if(o===1){if(rs(i)<2)break;const D=is(i,2);a=new DataView(D.buffer,D.byteOffset,D.length).getUint16(0),o=3}else if(o===2){if(rs(i)<8)break;const D=is(i,8),C=new DataView(D.buffer,D.byteOffset,D.length),k=C.getUint32(0);if(k>Math.pow(2,21)-1){_.enqueue(Fc);break}a=k*Math.pow(2,32)+C.getUint32(4),o=3}else{if(rs(i)<a)break;const D=is(i,a);_.enqueue(Yc(c?D:yu.decode(D),n)),o=0}if(a===0||a>t){_.enqueue(Fc);break}}}})}const sp=4;function Xe(t){if(t)return oD(t)}function oD(t){for(var n in Xe.prototype)t[n]=Xe.prototype[n];return t}Xe.prototype.on=Xe.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};Xe.prototype.once=function(t,n){function i(){this.off(t,i),n.apply(this,arguments)}return i.fn=n,this.on(t,i),this};Xe.prototype.off=Xe.prototype.removeListener=Xe.prototype.removeAllListeners=Xe.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var o,a=0;a<i.length;a++)if(o=i[a],o===n||o.fn===n){i.splice(a,1);break}return i.length===0&&delete this._callbacks["$"+t],this};Xe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(i){i=i.slice(0);for(var o=0,a=i.length;o<a;++o)i[o].apply(this,n)}return this};Xe.prototype.emitReserved=Xe.prototype.emit;Xe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Xe.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Zt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ap(t,...n){return n.reduce((i,o)=>(t.hasOwnProperty(o)&&(i[o]=t[o]),i),{})}const sD=Zt.setTimeout,aD=Zt.clearTimeout;function Qs(t,n){n.useNativeTimers?(t.setTimeoutFn=sD.bind(Zt),t.clearTimeoutFn=aD.bind(Zt)):(t.setTimeoutFn=Zt.setTimeout.bind(Zt),t.clearTimeoutFn=Zt.clearTimeout.bind(Zt))}const uD=1.33;function cD(t){return typeof t=="string"?lD(t):Math.ceil((t.byteLength||t.size)*uD)}function lD(t){let n=0,i=0;for(let o=0,a=t.length;o<a;o++)n=t.charCodeAt(o),n<128?i+=1:n<2048?i+=2:n<55296||n>=57344?i+=3:(o++,i+=4);return i}function fD(t){let n="";for(let i in t)t.hasOwnProperty(i)&&(n.length&&(n+="&"),n+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n}function dD(t){let n={},i=t.split("&");for(let o=0,a=i.length;o<a;o++){let c=i[o].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class hD extends Error{constructor(n,i,o){super(n),this.description=i,this.context=o,this.type="TransportError"}}class Xc extends Xe{constructor(n){super(),this.writable=!1,Qs(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,i,o){return super.emitReserved("error",new hD(n,i,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const i=Yc(n,this.socket.binaryType);this.onPacket(i)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,i={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const i=fD(n);return i.length?"?"+i:""}}const up="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xc=64,gD={};let pg=0,os=0,mg;function yg(t){let n="";do n=up[t%xc]+n,t=Math.floor(t/xc);while(t>0);return n}function cp(){const t=yg(+new Date);return t!==mg?(pg=0,mg=t):t+"."+yg(pg++)}for(;os<xc;os++)gD[up[os]]=os;let lp=!1;try{lp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pD=lp;function fp(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||pD))return new XMLHttpRequest}catch{}if(!n)try{return new Zt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function mD(){}const yD=function(){return new fp({xdomain:!1}).responseType!=null}();class _D extends Xc{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const o=location.protocol==="https:";let a=location.port;a||(a=o?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}const i=n&&n.forceBase64;this.supportsBinary=yD&&!i,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const i=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let o=0;this.polling&&(o++,this.once("pollComplete",function(){--o||i()})),this.writable||(o++,this.once("drain",function(){--o||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const i=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};nD(n,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,tD(n,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=cp()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(n,i)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Dn(this.uri(),n)}doWrite(n,i){const o=this.request({method:"POST",data:n});o.on("success",i),o.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(i,o)=>{this.onError("xhr poll error",i,o)}),this.pollXhr=n}}class Dn extends Xe{constructor(n,i){super(),Qs(this,i),this.opts=i,this.method=i.method||"GET",this.uri=n,this.data=i.data!==void 0?i.data:null,this.create()}create(){var n;const i=ap(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd;const o=this.xhr=new fp(i);try{o.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&o.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(o),"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=()=>{var a;o.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(o)),o.readyState===4&&(o.status===200||o.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof o.status=="number"?o.status:0)},0))},o.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Dn.requestsCount++,Dn.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=mD,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Dn.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Dn.requestsCount=0;Dn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_g);else if(typeof addEventListener=="function"){const t="onpagehide"in Zt?"pagehide":"unload";addEventListener(t,_g,!1)}}function _g(){for(let t in Dn.requests)Dn.requests.hasOwnProperty(t)&&Dn.requests[t].abort()}const Qc=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,i)=>i(n,0),ss=Zt.WebSocket||Zt.MozWebSocket,vg=!0,vD="arraybuffer",bg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bD extends Xc{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),i=this.opts.protocols,o=bg?{}:ap(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=vg&&!bg?i?new ss(n,i):new ss(n):new ss(n,i,o)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const o=n[i],a=i===n.length-1;Kc(o,this.supportsBinary,c=>{const g={};try{vg&&this.ws.send(c)}catch{}a&&Qc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=cp()),this.supportsBinary||(i.b64=1),this.createUri(n,i)}check(){return!!ss}}class wD extends Xc{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const i=iD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=n.readable.pipeThrough(i).getReader(),a=rD();a.readable.pipeTo(n.writable),this.writer=a.writable.getWriter();const c=()=>{o.read().then(({done:_,value:D})=>{_||(this.onPacket(D),c())}).catch(_=>{})};c();const g={type:"open"};this.query.sid&&(g.data=`{"sid":"${this.query.sid}"}`),this.writer.write(g).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const o=n[i],a=i===n.length-1;this.writer.write(o).then(()=>{a&&Qc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const RD={websocket:bD,webtransport:wD,polling:_D},TD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,DD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wc(t){if(t.length>2e3)throw"URI too long";const n=t,i=t.indexOf("["),o=t.indexOf("]");i!=-1&&o!=-1&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));let a=TD.exec(t||""),c={},g=14;for(;g--;)c[DD[g]]=a[g]||"";return i!=-1&&o!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=SD(c,c.path),c.queryKey=CD(c,c.query),c}function SD(t,n){const i=/\/{2,9}/g,o=n.replace(i,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&o.splice(0,1),n.slice(-1)=="/"&&o.splice(o.length-1,1),o}function CD(t,n){const i={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,a,c){a&&(i[a]=c)}),i}let dp=class _i extends Xe{constructor(n,i={}){super(),this.binaryType=vD,this.writeBuffer=[],n&&typeof n=="object"&&(i=n,n=null),n?(n=Wc(n),i.hostname=n.host,i.secure=n.protocol==="https"||n.protocol==="wss",i.port=n.port,n.query&&(i.query=n.query)):i.host&&(i.hostname=Wc(i.host).host),Qs(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dD(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const i=Object.assign({},this.opts.query);i.EIO=sp,i.transport=n,this.id&&(i.sid=this.id);const o=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new RD[n](o)}open(){let n;if(this.opts.rememberUpgrade&&_i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(n){let i=this.createTransport(n),o=!1;_i.priorWebsocketSuccess=!1;const a=()=>{o||(i.send([{type:"ping",data:"probe"}]),i.once("packet",L=>{if(!o)if(L.type==="pong"&&L.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;_i.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(k(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const M=new Error("probe error");M.transport=i.name,this.emitReserved("upgradeError",M)}}))};function c(){o||(o=!0,k(),i.close(),i=null)}const g=L=>{const M=new Error("probe error: "+L);M.transport=i.name,c(),this.emitReserved("upgradeError",M)};function _(){g("transport closed")}function D(){g("socket closed")}function C(L){i&&L.name!==i.name&&c()}const k=()=>{i.removeListener("open",a),i.removeListener("error",g),i.removeListener("close",_),this.off("close",D),this.off("upgrading",C)};i.once("open",a),i.once("error",g),i.once("close",_),this.once("close",D),this.once("upgrading",C),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{o||i.open()},200):i.open()}onOpen(){if(this.readyState="open",_i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const i=this.upgrades.length;for(;n<i;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=n.data,this.onError(i);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let o=0;o<this.writeBuffer.length;o++){const a=this.writeBuffer[o].data;if(a&&(i+=cD(a)),o>0&&i>this.maxPayload)return this.writeBuffer.slice(0,o);i+=2}return this.writeBuffer}write(n,i,o){return this.sendPacket("message",n,i,o),this}send(n,i,o){return this.sendPacket("message",n,i,o),this}sendPacket(n,i,o,a){if(typeof i=="function"&&(a=i,i=void 0),typeof o=="function"&&(a=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const c={type:n,data:i,options:o};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),n()},o=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():n()}):this.upgrading?o():n()),this}onError(n){_i.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const i=[];let o=0;const a=n.length;for(;o<a;o++)~this.transports.indexOf(n[o])&&i.push(n[o]);return i}};dp.protocol=sp;function PD(t,n="",i){let o=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),o=Wc(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const c=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+c+":"+o.port+n,o.href=o.protocol+"://"+c+(i&&i.port===o.port?"":":"+o.port),o}const ED=typeof ArrayBuffer=="function",kD=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,hp=Object.prototype.toString,OD=typeof Blob=="function"||typeof Blob<"u"&&hp.call(Blob)==="[object BlobConstructor]",AD=typeof File=="function"||typeof File<"u"&&hp.call(File)==="[object FileConstructor]";function Zc(t){return ED&&(t instanceof ArrayBuffer||kD(t))||OD&&t instanceof Blob||AD&&t instanceof File}function cs(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,o=t.length;i<o;i++)if(cs(t[i]))return!0;return!1}if(Zc(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return cs(t.toJSON(),!0);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&cs(t[i]))return!0;return!1}function ND(t){const n=[],i=t.data,o=t;return o.data=Bc(i,n),o.attachments=n.length,{packet:o,buffers:n}}function Bc(t,n){if(!t)return t;if(Zc(t)){const i={_placeholder:!0,num:n.length};return n.push(t),i}else if(Array.isArray(t)){const i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=Bc(t[o],n);return i}else if(typeof t=="object"&&!(t instanceof Date)){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=Bc(t[o],n));return i}return t}function qD(t,n){return t.data=Hc(t.data,n),delete t.attachments,t}function Hc(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=Hc(t[i],n);else if(typeof t=="object")for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=Hc(t[i],n));return t}const MD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],LD=5;var de;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(de||(de={}));class ID{constructor(n){this.replacer=n}encode(n){return(n.type===de.EVENT||n.type===de.ACK)&&cs(n)?this.encodeAsBinary({type:n.type===de.EVENT?de.BINARY_EVENT:de.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let i=""+n.type;return(n.type===de.BINARY_EVENT||n.type===de.BINARY_ACK)&&(i+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(i+=n.nsp+","),n.id!=null&&(i+=n.id),n.data!=null&&(i+=JSON.stringify(n.data,this.replacer)),i}encodeAsBinary(n){const i=ND(n),o=this.encodeAsString(i.packet),a=i.buffers;return a.unshift(o),a}}function wg(t){return Object.prototype.toString.call(t)==="[object Object]"}class el extends Xe{constructor(n){super(),this.reviver=n}add(n){let i;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(n);const o=i.type===de.BINARY_EVENT;o||i.type===de.BINARY_ACK?(i.type=o?de.EVENT:de.ACK,this.reconstructor=new FD(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Zc(n)||n.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(n),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let i=0;const o={type:Number(n.charAt(0))};if(de[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===de.BINARY_EVENT||o.type===de.BINARY_ACK){const c=i+1;for(;n.charAt(++i)!=="-"&&i!=n.length;);const g=n.substring(c,i);if(g!=Number(g)||n.charAt(i)!=="-")throw new Error("Illegal attachments");o.attachments=Number(g)}if(n.charAt(i+1)==="/"){const c=i+1;for(;++i&&!(n.charAt(i)===","||i===n.length););o.nsp=n.substring(c,i)}else o.nsp="/";const a=n.charAt(i+1);if(a!==""&&Number(a)==a){const c=i+1;for(;++i;){const g=n.charAt(i);if(g==null||Number(g)!=g){--i;break}if(i===n.length)break}o.id=Number(n.substring(c,i+1))}if(n.charAt(++i)){const c=this.tryParse(n.substr(i));if(el.isPayloadValid(o.type,c))o.data=c;else throw new Error("invalid payload")}return o}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,i){switch(n){case de.CONNECT:return wg(i);case de.DISCONNECT:return i===void 0;case de.CONNECT_ERROR:return typeof i=="string"||wg(i);case de.EVENT:case de.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&MD.indexOf(i[0])===-1);case de.ACK:case de.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class FD{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const i=qD(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:el,Encoder:ID,get PacketType(){return de},protocol:LD},Symbol.toStringTag,{value:"Module"}));function dn(t,n,i){return t.on(n,i),function(){t.off(n,i)}}const WD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gp extends Xe{constructor(n,i,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=i,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[dn(n,"open",this.onopen.bind(this)),dn(n,"packet",this.onpacket.bind(this)),dn(n,"error",this.onerror.bind(this)),dn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...i){if(WD.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(i.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const o={type:de.EVENT,data:i};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const g=this.ids++,_=i.pop();this._registerAckCallback(g,_),o.id=g}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(n,i){var o;const a=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(a===void 0){this.acks[n]=i;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===n&&this.sendBuffer.splice(_,1);i.call(this,new Error("operation has timed out"))},a),g=(..._)=>{this.io.clearTimeoutFn(c),i.apply(this,_)};g.withError=!0,this.acks[n]=g}emitWithAck(n,...i){return new Promise((o,a)=>{const c=(g,_)=>g?a(g):o(_);c.withError=!0,i.push(c),this.emit(n,...i)})}_addToQueue(n){let i;typeof n[n.length-1]=="function"&&(i=n.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((a,...c)=>o!==this._queue[0]?void 0:(a!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(a)):(this._queue.shift(),i&&i(null,...c)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!n||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:de.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(o=>String(o.id)===n)){const o=this.acks[n];delete this.acks[n],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case de.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case de.EVENT:case de.BINARY_EVENT:this.onevent(n);break;case de.ACK:case de.BINARY_ACK:this.onack(n);break;case de.DISCONNECT:this.ondisconnect();break;case de.CONNECT_ERROR:this.destroy();const o=new Error(n.data.message);o.data=n.data.data,this.emitReserved("connect_error",o);break}}onevent(n){const i=n.data||[];n.id!=null&&i.push(this.ack(n.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const o of i)o.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const i=this;let o=!1;return function(...a){o||(o=!0,i.packet({type:de.ACK,id:n,data:a}))}}onack(n){const i=this.acks[n.id];typeof i=="function"&&(delete this.acks[n.id],i.withError&&n.data.unshift(null),i.apply(this,n.data))}onconnect(n,i){this.id=n,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:de.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const i=this._anyListeners;for(let o=0;o<i.length;o++)if(n===i[o])return i.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const i=this._anyOutgoingListeners;for(let o=0;o<i.length;o++)if(n===i[o])return i.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const o of i)o.apply(this,n.data)}}}function Li(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Li.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),i=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+i:t-i}return Math.min(t,this.max)|0};Li.prototype.reset=function(){this.attempts=0};Li.prototype.setMin=function(t){this.ms=t};Li.prototype.setMax=function(t){this.max=t};Li.prototype.setJitter=function(t){this.jitter=t};class $c extends Xe{constructor(n,i){var o;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,Qs(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Li({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=n;const a=i.parser||xD;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var i;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(i=this.backoff)===null||i===void 0||i.setMin(n),this)}randomizationFactor(n){var i;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(i=this.backoff)===null||i===void 0||i.setJitter(n),this)}reconnectionDelayMax(n){var i;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(i=this.backoff)===null||i===void 0||i.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new dp(this.uri,this.opts);const i=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const a=dn(i,"open",function(){o.onopen(),n&&n()}),c=_=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",_),n?n(_):this.maybeReconnectOnOpen()},g=dn(i,"error",c);if(this._timeout!==!1){const _=this._timeout,D=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),i.close()},_);this.opts.autoUnref&&D.unref(),this.subs.push(()=>{this.clearTimeoutFn(D)})}return this.subs.push(a),this.subs.push(g),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(dn(n,"ping",this.onping.bind(this)),dn(n,"data",this.ondata.bind(this)),dn(n,"error",this.onerror.bind(this)),dn(n,"close",this.onclose.bind(this)),dn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(i){this.onclose("parse error",i)}}ondecoded(n){Qc(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,i){let o=this.nsps[n];return o?this._autoConnect&&!o.active&&o.connect():(o=new gp(this,n,i),this.nsps[n]=o),o}_destroy(n){const i=Object.keys(this.nsps);for(const o of i)if(this.nsps[o].active)return;this._close()}_packet(n){const i=this.encoder.encode(n);for(let o=0;o<i.length;o++)this.engine.write(i[o],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(a=>{a?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",a)):n.onreconnect()}))},i);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Qi={};function ls(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};const i=PD(t,n.path||"/socket.io"),o=i.source,a=i.id,c=i.path,g=Qi[a]&&c in Qi[a].nsps,_=n.forceNew||n["force new connection"]||n.multiplex===!1||g;let D;return _?D=new $c(o,n):(Qi[a]||(Qi[a]=new $c(o,n)),D=Qi[a]),i.query&&!n.query&&(n.query=i.queryKey),D.socket(i.path,n)}Object.assign(ls,{Manager:$c,Socket:gp,io:ls,connect:ls});class BD extends Error{type="HandlerNotFoundError";constructor(n){const i=`Handler not found for key ${n}`;super(i)}}class HD extends Error{type="UnhandledHandlerError";originalError;constructor(n,i){super(`Unhandled error in handler '${n}': ${i.message}`),this.name="UnhandledHandlerError",this.originalError=i,this.stack=i.stack}}class _u{#e=new Map;get size(){return this.#e.size}register(n,i){return this.#e.set(n,i),{dispose:()=>{this.#e.delete(n)}}}has(n){return this.#e.has(n)}async handle(n,...i){const o=this.#e.get(n);if(!o)throw new BD(n);try{return await o(...i)}catch(a){throw new HD(n,$D(a))}}dispose(){this.#e.clear()}}function $D(t){return t instanceof Error?t:typeof t=="string"?new Error(t):new Error("Unknown error")}var ut=[];for(var vu=0;vu<256;++vu)ut.push((vu+256).toString(16).slice(1));function jD(t,n=0){return(ut[t[n+0]]+ut[t[n+1]]+ut[t[n+2]]+ut[t[n+3]]+"-"+ut[t[n+4]]+ut[t[n+5]]+"-"+ut[t[n+6]]+ut[t[n+7]]+"-"+ut[t[n+8]]+ut[t[n+9]]+"-"+ut[t[n+10]]+ut[t[n+11]]+ut[t[n+12]]+ut[t[n+13]]+ut[t[n+14]]+ut[t[n+15]]).toLowerCase()}var as,UD=new Uint8Array(16);function zD(){if(!as&&(as=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!as))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return as(UD)}var VD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Rg={randomUUID:VD};function GD(t,n,i){if(Rg.randomUUID&&!n&&!t)return Rg.randomUUID();t=t||{};var o=t.random||(t.rng||zD)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,jD(o)}const JD=()=>GD(),KD=1e4,bu="notification",wu="request",Ru="response";class YD{#e=new _u;#n=new _u;#r=new _u;#t;constructor(n){this.#t=n,this.#a()}async sendNotification(n,i){this.#t.emit(bu,{type:n,payload:i})}sendRequest(n,i){const o=JD();let a;return new Promise((c,g)=>{const _=this.#r.register(o,D=>{c(D),clearTimeout(a),_.dispose()});a=setTimeout(()=>{_.dispose(),g(new Error("Request timed out"))},KD),this.#t.emit(wu,{requestId:o,type:n,payload:i})})}onNotification(n,i){return this.#e.register(n,i)}onRequest(n,i){return this.#n.register(n,i)}dispose(){this.#t.off(bu,this.#i),this.#t.off(wu,this.#o),this.#t.off(Ru,this.#s),this.#e.dispose(),this.#n.dispose(),this.#r.dispose()}#a=()=>{this.#t.on(bu,this.#i),this.#t.on(wu,this.#o),this.#t.on(Ru,this.#s)};#i=async n=>{await this.#e.handle(n.type,n.payload)};#o=async n=>{const i=await this.#n.handle(n.event,n.payload);this.#t.emit(Ru,{requestId:n.requestId,payload:i})};#s=async n=>{await this.#r.handle(n.requestId,n.payload)}}const XD=t=>`/webview/${t}`;class QD{name="SocketIoMessageBusProvider";getMessageBus(n){if(!n)return null;const i=XD(n),o=ls(i);return new YD(o)}}const ZD=t=>!t||typeof t!="object"?!1:!!("host"in t&&t.host);class e1{name="HostApplicationMessageBusProvider";getMessageBus(){return"gitlab"in window&&ZD(window.gitlab)?window.gitlab.host:null}}const t1=()=>{const t=new e1,n=new QD;return[t,n]};function n1(t){const{webviewId:n}=t,i=t.logger||new D0,o=t.providers||t1();for(const a of o){const c=r1(n,a,i);if(c)return i1(c,i),c}throw new Error(`Unable to resolve a message bus for webviewId: ${n}`)}function r1(t,n,i){try{i.debug(`Trying to resolve message bus from provider: ${n.name}`);const o=n.getMessageBus(t);return i.debug(`Message bus resolved from provider: ${n.name}`),o}catch(o){return i.debug("Failed to resolve message bus",o),null}}function i1(t,n){t.onNotification(E0,i=>{if(!P0(i)){n.warn(`Invalid theme format: ${JSON.stringify(i)}`);return}Object.entries(i.styles).forEach(([o,a])=>{document.documentElement.style.setProperty(o,a)})})}const o1="chat",s1="GitLab: Duo Chat",a1={id:o1,title:s1,setup:({webview:t})=>{t.onInstanceConnected((n,i)=>{i.sendNotification("newUserPrompt",{prompt:"This is a new prompt"})})}};n1({webviewId:a1.id});const u1=new w0,c1=new T0,Zs=document.createElement("input");Zs.type="number";Zs.placeholder="Enter a number";const tl=document.createElement("button");tl.textContent="Calculate";tl.addEventListener("click",()=>{const t=parseInt(Zs.value,10);isNaN(t)?alert("Please enter a valid number"):f1(t)});const l1=[{name:"Simple solver",solver:u1},{name:"Fast solver",solver:c1}];function f1(t){l1.map(({name:i,solver:o})=>{const a=performance.now(),c=o.solve(t),g=performance.now()-a;return{name:i,result:c,duration:g}}).forEach(({name:i,result:o,duration:a})=>{alert(`${i}: Fibonacci of ${t} is ${o} (calculated in ${a.toFixed(2)} ms)`)})}document.body.appendChild(Zs);document.body.appendChild(tl);
